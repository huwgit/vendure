"use strict";(self.webpackChunkvendure_admin=self.webpackChunkvendure_admin||[]).push([[69],{4431:(Ka,ye,u)=>{u.r(ye),u.d(ye,{AddCountryToZoneDialogComponent:()=>$,AdminDetailComponent:()=>O,AdministratorListComponent:()=>w,CREATE_STOCK_LOCATION:()=>Ra,ChannelDetailComponent:()=>Q,ChannelListComponent:()=>U,CountryDetailComponent:()=>R,CountryListComponent:()=>B,GET_ADMINISTRATOR_DETAIL:()=>Fa,GET_ADMINISTRATOR_LIST:()=>xa,GET_CHANNEL_DETAIL:()=>Ia,GET_CHANNEL_LIST:()=>Pa,GET_COUNTRY_DETAIL:()=>ka,GET_COUNTRY_LIST:()=>Da,GET_GLOBAL_SETTINGS_DETAIL:()=>Ja,GET_PAYMENT_METHOD_DETAIL:()=>Na,GET_PAYMENT_METHOD_LIST:()=>Ma,GET_PROFILE_DETAIL:()=>Sa,GET_ROLE_DETAIL:()=>qa,GET_ROLE_LIST:()=>$a,GET_SELLER_DETAIL:()=>Oa,GET_SHIPPING_METHOD_DETAIL:()=>wa,GET_SHIPPING_METHOD_LIST:()=>Qa,GET_STOCK_LOCATION_DETAIL:()=>Ua,GET_STOCK_LOCATION_LIST:()=>Ya,GET_TAX_CATEGORY_DETAIL:()=>Ea,GET_TAX_CATEGORY_LIST:()=>Ga,GET_TAX_RATE_DETAIL:()=>za,GET_TAX_RATE_LIST:()=>ja,GET_ZONE_DETAIL:()=>Ha,GET_ZONE_LIST:()=>Va,GET_ZONE_MEMBERS:()=>La,GlobalSettingsComponent:()=>Y,PaymentMethodDetailComponent:()=>E,PaymentMethodListComponent:()=>G,PermissionGridComponent:()=>P,ProfileComponent:()=>z,ProfileResolver:()=>me,RoleDetailComponent:()=>j,RoleListComponent:()=>H,SellerDetailComponent:()=>V,SellerListComponent:()=>K,SettingsModule:()=>J,ShippingEligibilityTestResultComponent:()=>W,ShippingMethodDetailComponent:()=>ee,ShippingMethodListComponent:()=>te,ShippingMethodTestResultComponent:()=>X,StockLocationDetailComponent:()=>ne,StockLocationListComponent:()=>re,TaxCategoryDetailComponent:()=>oe,TaxCategoryListComponent:()=>ae,TaxRateDetailComponent:()=>ie,TaxRateListComponent:()=>se,TestAddressFormComponent:()=>D,TestOrderBuilderComponent:()=>k,TestShippingMethodsComponent:()=>le,UPDATE_STOCK_LOCATION:()=>Ba,ZoneDetailComponent:()=>de,ZoneListComponent:()=>ce,ZoneMemberControlsDirective:()=>S,ZoneMemberListComponent:()=>F,ZoneMemberListHeaderDirective:()=>q,assignPaymentMethodsToChannelBulkAction:()=>ke,assignShippingMethodsToChannelBulkAction:()=>Se,assignStockLocationsToChannelBulkAction:()=>Oe,createRoutes:()=>Ye,deleteAdministratorsBulkAction:()=>Fe,deleteChannelsBulkAction:()=>xe,deleteCountriesBulkAction:()=>Ie,deletePaymentMethodsBulkAction:()=>Pe,deleteRolesBulkAction:()=>Je,deleteSellersBulkAction:()=>Ne,deleteShippingMethodsBulkAction:()=>Me,deleteStockLocationsBulkAction:()=>$e,deleteTaxCategoriesBulkAction:()=>Qe,deleteTaxRatesBulkAction:()=>Ue,deleteZonesBulkAction:()=>Re,removePaymentMethodsFromChannelBulkAction:()=>De,removeShippingMethodsFromChannelBulkAction:()=>qe,removeStockLocationsFromChannelBulkAction:()=>we,removeZoneMembersBulkAction:()=>Be});var e=u(4386),a=u(6058),p=u(6528),C=u(3311),Ce=u(9883),Ee=u(1788),v=u(4369),Ge=u(1106),Te=u(4740),ze=u(2169),je=u(9288),He=u(9121),Ve=u(6557);function Ze(...r){const n=(0,Ve.jO)(r);return(0,Ge.e)((t,o)=>{const i=r.length,s=new Array(i);let m=r.map(()=>!1),_=!1;for(let f=0;f<i;f++)(0,ze.Xf)(r[f]).subscribe((0,Te.x)(o,A=>{s[f]=A,!_&&!m[f]&&(m[f]=!0,(_=m.every(je.y))&&(m=null))},He.Z));t.subscribe((0,Te.x)(o,f=>{if(_){const A=[f,...s];o.next(n?n(...A):A)}}))})}var b=u(4893),Ae=u(2774),N=u(4558),Ke=u(5624),We=u(1899),l=u(9348),M=u(8540),Xe=u(8714),he=u(5246),ue=u(4624),I=u(9857),et=u(4162),g=u(6193),c=u(3740),y=u(2583),h=u(7062),d=u(8570),L=u(307),tt=u(1930),nt=u(5074),fe=u(6),rt=u(1873),ot=u(9571);function at(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.id," ")}}function it(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.createdAt,"short")," ")}}function st(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.createdAt,"short")," ")}}const lt=function(r){return["/settings/countries",r]};function dt(r,n){if(1&r&&(e.TgZ(0,"a",9)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"clr-icon",10),e.qZA()),2&r){const t=n.item;e.Q6J("routerLink",e.VKq(2,lt,t.id)),e.xp6(2),e.hij(" ",t.name,"")}}function ct(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.code," ")}}function mt(r,n){1&r&&(e.TgZ(0,"vdr-chip",13),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"common.enabled")))}function ut(r,n){1&r&&(e.TgZ(0,"vdr-chip",14),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"common.disabled")))}function pt(r,n){if(1&r&&(e.YNc(0,mt,3,3,"vdr-chip",11),e.YNc(1,ut,3,3,"vdr-chip",12)),2&r){const t=n.item;e.Q6J("ngIf",t.enabled),e.xp6(1),e.Q6J("ngIf",!t.enabled)}}const ve=function(r){return{zoneName:r}};function gt(r,n){if(1&r&&(e._uU(0),e.ALo(1,"translate")),2&r){const t=e.oxw();e.Oqu(e.xi3(1,1,"settings.add-countries-to-zone",e.VKq(4,ve,t.zoneName)))}}function ht(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.cancel())}),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",4),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.add())}),e._uU(4),e.ALo(5,"translate"),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,3,"common.cancel")),e.xp6(2),e.Q6J("disabled",!t.selectedMemberIds.length),e.xp6(1),e.hij(" ",e.xi3(5,5,"settings.add-countries-to-zone",e.VKq(8,ve,t.zoneName))," ")}}function ft(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,s=e.oxw();return e.KtG(s.toggleAll(i.permissions))}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"common.toggle-all")," "))}function vt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"td")(1,"vdr-select-toggle",5),e.NdJ("selectedChange",function(i){const m=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.setPermission(m.name,i))}),e.qZA()()}if(2&r){const t=n.$implicit,o=e.oxw().$implicit,i=e.oxw();e.uIk("colspan",1===o.permissions.length?4:1),e.xp6(1),e.Q6J("title",t.description)("label",t.name)("disabled",i.readonly)("selected",null==i.activePermissions?null:i.activePermissions.includes(t.name))}}function _t(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"td",2)(2,"div")(3,"strong"),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"small"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e._UZ(9,"br"),e.YNc(10,ft,3,3,"button",3),e.qZA(),e.YNc(11,vt,2,5,"td",1),e.qZA()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,4,t.label)),e.xp6(3),e.Oqu(e.lcZ(8,6,t.description)),e.xp6(3),e.Q6J("ngIf",1<t.permissions.length&&!o.readonly),e.xp6(1),e.Q6J("ngForOf",t.permissions)}}function bt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.create())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",t.detailForm.invalid||t.detailForm.pristine),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.create")," ")}}function yt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.save())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",t.detailForm.invalid||t.detailForm.pristine),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.update")," ")}}function Ct(r,n){1&r&&e.YNc(0,yt,3,4,"button",22),2&r&&e.Q6J("vdrIfPermissions","UpdateAdministrator")}function Tt(r,n){if(1&r&&(e.TgZ(0,"vdr-card"),e._UZ(1,"vdr-page-entity-info",23),e.qZA()),2&r){const t=n.ngIf;e.xp6(1),e.Q6J("entity",t)}}function Zt(r,n){1&r&&(e.TgZ(0,"vdr-form-field",24),e.ALo(1,"translate"),e._UZ(2,"input",25),e.qZA()),2&r&&e.Q6J("label",e.lcZ(1,1,"settings.password"))}function At(r,n){1&r&&(e.TgZ(0,"vdr-form-field",26),e.ALo(1,"translate"),e._UZ(2,"input",25),e.qZA()),2&r&&e.Q6J("label",e.lcZ(1,2,"settings.password"))("readOnlyToggle",!0)}function Lt(r,n){if(1&r&&(e.TgZ(0,"vdr-card",27),e.ALo(1,"translate"),e._UZ(2,"vdr-tabbed-custom-fields",28),e.qZA()),2&r){const t=e.oxw();e.Q6J("title",e.lcZ(1,3,"common.custom-fields")),e.xp6(2),e.Q6J("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}function Ft(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"li",29)(1,"button",30),e.NdJ("click",function(){const s=e.CHM(t).$implicit,m=e.oxw();return e.KtG(m.selectedChannelId=s.channelId)}),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"channelCodeToLabel"),e.qZA()()}if(2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.ekj("active",o.selectedChannelId===t.channelId),e.Q6J("id",t.channelId),e.uIk("aria-selected",o.selectedChannelId===t.channelId),e.xp6(1),e.hij(" ",e.lcZ(3,5,e.lcZ(4,7,t.channelCode))," ")}}const pe=function(){return["CreateAdministrator","UpdateAdministrator"]},Z=function(){return["./","create"]};function xt(r,n){1&r&&(e.TgZ(0,"a",12),e._UZ(1,"clr-icon",13),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&r&&(e.Q6J("routerLink",e.DdM(4,Z)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"admin.create-new-administrator")," "))}function It(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.id," ")}}function Pt(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.createdAt,"short")," ")}}function kt(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.updatedAt,"short")," ")}}const T=function(r){return["./",r]};function Dt(r,n){if(1&r&&(e.TgZ(0,"a",14)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"clr-icon",15),e.qZA()),2&r){const t=n.item;e.Q6J("routerLink",e.VKq(3,T,t.id)),e.xp6(2),e.AsE("",t.firstName," ",t.lastName,"")}}function Jt(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.emailAddress," ")}}function Nt(r,n){if(1&r&&(e.TgZ(0,"vdr-chip"),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Oqu(t.description)}}function Mt(r,n){if(1&r&&e.YNc(0,Nt,2,1,"vdr-chip",16),2&r){const t=n.item;e.Q6J("ngForOf",t.user.roles)}}function St(r,n){if(1&r&&e._UZ(0,"vdr-dt2-custom-field-column",17),2&r){const t=n.$implicit,o=e.oxw();e.Q6J("customField",t)("sorts",o.sorts)}}const Le=function(){return["CreateAdministrator"]};function qt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.create())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",!t.saveButtonEnabled()),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.create")," ")}}function $t(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.save())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",!t.saveButtonEnabled()),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.update")," ")}}const Ot=function(){return["SuperAdmin","UpdateChannel"]};function wt(r,n){1&r&&e.YNc(0,$t,3,4,"button",33),2&r&&e.Q6J("vdrIfPermissions",e.DdM(1,Ot))}function Qt(r,n){if(1&r&&(e.TgZ(0,"vdr-card"),e._UZ(1,"vdr-page-entity-info",34),e.qZA()),2&r){const t=n.ngIf;e.xp6(1),e.Q6J("entity",t)}}function Ut(r,n){if(1&r&&(e.TgZ(0,"vdr-form-field",35),e.ALo(1,"translate"),e._UZ(2,"input",36),e.ALo(3,"hasPermission"),e.qZA()),2&r){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"common.code")),e.xp6(2),e.Q6J("readonly",!e.lcZ(3,4,t.updatePermission))}}function Rt(r,n){if(1&r&&(e.TgZ(0,"vdr-form-item",37),e.ALo(1,"translate"),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"channelCodeToLabel"),e.qZA()),2&r){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"common.code")),e.xp6(2),e.hij(" ",e.lcZ(3,4,e.lcZ(4,6,null==t.entity?null:t.entity.code))," ")}}function Bt(r,n){if(1&r&&(e.TgZ(0,"option",38),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Yt(r,n){if(1&r&&(e.TgZ(0,"option",38),e._uU(1),e.ALo(2,"localeCurrencyName"),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",e.lcZ(2,2,t)," ")}}function Et(r,n){if(1&r&&(e.TgZ(0,"option",38),e._uU(1),e.ALo(2,"localeLanguageName"),e.ALo(3,"uppercase"),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t),e.xp6(1),e.AsE(" ",e.lcZ(2,3,t)," (",e.lcZ(3,5,t),") ")}}function Gt(r,n){1&r&&(e.TgZ(0,"clr-alert",39)(1,"clr-alert-item")(2,"span",40),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&r&&(e.Q6J("clrAlertClosable",!1),e.xp6(3),e.hij(" ",e.lcZ(4,2,"error.no-default-tax-zone-set")," "))}function zt(r,n){1&r&&(e.TgZ(0,"clr-alert",41)(1,"clr-alert-item")(2,"span",40),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&r&&(e.Q6J("clrAlertClosable",!1),e.xp6(3),e.hij(" ",e.lcZ(4,2,"error.no-default-shipping-zone-set")," "))}function jt(r,n){if(1&r&&(e.TgZ(0,"vdr-card",42),e.ALo(1,"translate"),e._UZ(2,"vdr-tabbed-custom-fields",43),e.qZA()),2&r){const t=e.oxw();e.Q6J("title",e.lcZ(1,3,"common.custom-fields")),e.xp6(2),e.Q6J("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}function Ht(r,n){1&r&&(e.TgZ(0,"a",11),e._UZ(1,"clr-icon",12),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&r&&(e.Q6J("routerLink",e.DdM(4,Z)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"settings.create-new-channel")," "))}function Vt(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.id," ")}}function Kt(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.createdAt,"short")," ")}}function Wt(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.updatedAt,"short")," ")}}function Xt(r,n){if(1&r&&(e.TgZ(0,"a",13)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"channelCodeToLabel"),e.qZA(),e._UZ(5,"clr-icon",14),e.qZA()),2&r){const t=n.item;e.Q6J("routerLink",e.VKq(6,T,t.id)),e.xp6(2),e.Oqu(e.lcZ(3,2,e.lcZ(4,4,t.code)))}}function en(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.token," ")}}function tn(r,n){if(1&r&&e._UZ(0,"vdr-dt2-custom-field-column",15),2&r){const t=n.$implicit,o=e.oxw();e.Q6J("customField",t)("sorts",o.sorts)}}const nn=function(){return["SuperAdmin","CreateChannel"]};function rn(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.create())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",t.detailForm.invalid||t.detailForm.pristine),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.create")," ")}}function on(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.save())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",t.detailForm.invalid||t.detailForm.pristine),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.update")," ")}}function an(r,n){if(1&r&&e.YNc(0,on,3,4,"button",16),2&r){const t=e.oxw();e.Q6J("vdrIfPermissions",t.updatePermission)}}function sn(r,n){if(1&r&&(e.TgZ(0,"vdr-card"),e._UZ(1,"vdr-page-entity-info",17),e.qZA()),2&r){const t=n.ngIf;e.xp6(1),e.Q6J("entity",t)}}function ln(r,n){if(1&r&&(e.TgZ(0,"vdr-card",18),e.ALo(1,"translate"),e._UZ(2,"vdr-tabbed-custom-fields",19),e.qZA()),2&r){const t=e.oxw();e.Q6J("title",e.lcZ(1,3,"common.custom-fields")),e.xp6(2),e.Q6J("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}function dn(r,n){1&r&&(e.TgZ(0,"a",13),e._UZ(1,"clr-icon",14),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&r&&(e.Q6J("routerLink",e.DdM(4,Z)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"settings.create-new-country")," "))}function cn(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.id," ")}}function mn(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.createdAt,"short")," ")}}function un(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.updatedAt,"short")," ")}}function pn(r,n){if(1&r&&(e.TgZ(0,"a",15)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"clr-icon",16),e.qZA()),2&r){const t=n.item;e.Q6J("routerLink",e.VKq(2,T,t.id)),e.xp6(2),e.Oqu(t.name)}}function gn(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.code," ")}}function hn(r,n){1&r&&(e.TgZ(0,"vdr-chip",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"common.enabled")))}function fn(r,n){1&r&&(e.TgZ(0,"vdr-chip",20),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"common.disabled")))}function vn(r,n){if(1&r&&(e.YNc(0,hn,3,3,"vdr-chip",17),e.YNc(1,fn,3,3,"vdr-chip",18)),2&r){const t=n.item;e.Q6J("ngIf",t.enabled),e.xp6(1),e.Q6J("ngIf",!t.enabled)}}function _n(r,n){if(1&r&&e._UZ(0,"vdr-dt2-custom-field-column",21),2&r){const t=n.$implicit,o=e.oxw();e.Q6J("customField",t)("sorts",o.sorts)}}const bn=function(){return["CreateSettings","CreateCountry"]};function yn(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.save())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",t.detailForm.invalid||t.detailForm.pristine),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.update")," ")}}function Cn(r,n){if(1&r&&(e.TgZ(0,"vdr-card",13),e.ALo(1,"translate"),e._UZ(2,"vdr-tabbed-custom-fields",14),e.ALo(3,"hasPermission"),e.qZA()),2&r){const t=e.oxw();e.Q6J("title",e.lcZ(1,4,"common.custom-fields")),e.xp6(2),e.Q6J("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))("readonly",!e.lcZ(3,6,t.updatePermission))}}function Tn(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.create())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",t.detailForm.pristine||t.detailForm.invalid||!t.selectedHandler),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.create")," ")}}function Zn(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.save())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",t.detailForm.pristine||t.detailForm.invalid||!t.selectedHandler),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.update")," ")}}function An(r,n){if(1&r&&e.YNc(0,Zn,3,4,"button",20),2&r){const t=e.oxw();e.Q6J("vdrIfPermissions",t.updatePermission)}}function Ln(r,n){if(1&r&&(e.TgZ(0,"vdr-card"),e._UZ(1,"vdr-page-entity-info",21),e.qZA()),2&r){const t=n.ngIf;e.xp6(1),e.Q6J("entity",t)}}function Fn(r,n){if(1&r&&(e.TgZ(0,"vdr-card",22),e.ALo(1,"translate"),e._UZ(2,"vdr-tabbed-custom-fields",23),e.qZA()),2&r){const t=e.oxw();e.Q6J("title",e.lcZ(1,3,"common.custom-fields")),e.xp6(2),e.Q6J("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}function xn(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"vdr-configurable-input",24),e.NdJ("remove",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.removeChecker())}),e.ALo(1,"hasPermission"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("operation",t.selectedChecker)("operationDefinition",t.selectedCheckerDefinition)("readonly",!e.lcZ(1,3,t.updatePermission))}}function In(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){const s=e.CHM(t).$implicit,m=e.oxw(2);return e.KtG(m.selectChecker(s))}),e._uU(1),e.qZA()}if(2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function Pn(r,n){if(1&r&&(e.TgZ(0,"div")(1,"vdr-dropdown")(2,"button",25),e._UZ(3,"clr-icon",26),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"vdr-dropdown-menu",27),e.YNc(7,In,2,1,"button",28),e.qZA()()()),2&r){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,2,"common.select")," "),e.xp6(3),e.Q6J("ngForOf",t.checkers)}}function kn(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"vdr-configurable-input",30),e.NdJ("remove",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.removeHandler())}),e.ALo(1,"hasPermission"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("operation",t.selectedHandler)("operationDefinition",t.selectedHandlerDefinition)("readonly",!e.lcZ(1,3,t.updatePermission))}}function Dn(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){const s=e.CHM(t).$implicit,m=e.oxw(2);return e.KtG(m.selectHandler(s))}),e._uU(1),e.qZA()}if(2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function Jn(r,n){if(1&r&&(e.TgZ(0,"div")(1,"vdr-dropdown")(2,"button",25),e._UZ(3,"clr-icon",26),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"vdr-dropdown-menu",27),e.YNc(7,Dn,2,1,"button",28),e.qZA()()()),2&r){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,2,"common.select")," "),e.xp6(3),e.Q6J("ngForOf",t.handlers)}}function Nn(r,n){1&r&&(e.TgZ(0,"a",13),e._UZ(1,"clr-icon",14),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&r&&(e.Q6J("routerLink",e.DdM(4,Z)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"settings.create-new-payment-method")," "))}function Mn(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.id," ")}}function Sn(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.createdAt,"short")," ")}}function qn(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.updatedAt,"short")," ")}}function $n(r,n){if(1&r&&(e.TgZ(0,"a",15)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"clr-icon",16),e.qZA()),2&r){const t=n.item;e.Q6J("routerLink",e.VKq(2,T,t.id)),e.xp6(2),e.Oqu(t.name)}}function On(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.code," ")}}function wn(r,n){1&r&&(e.TgZ(0,"vdr-chip",19),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"common.enabled")))}function Qn(r,n){1&r&&(e.TgZ(0,"vdr-chip",20),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"common.disabled")))}function Un(r,n){if(1&r&&(e.YNc(0,wn,3,3,"vdr-chip",17),e.YNc(1,Qn,3,3,"vdr-chip",18)),2&r){const t=n.item;e.Q6J("ngIf",t.enabled),e.xp6(1),e.Q6J("ngIf",!t.enabled)}}function Rn(r,n){if(1&r&&e._UZ(0,"vdr-dt2-custom-field-column",21),2&r){const t=n.$implicit,o=e.oxw();e.Q6J("customField",t)("sorts",o.sorts)}}const Bn=function(){return["CreateSettings","CreatePaymentMethod"]};function Yn(r,n){if(1&r&&(e.TgZ(0,"vdr-card"),e._UZ(1,"vdr-page-entity-info",16),e.qZA()),2&r){const t=n.ngIf;e.xp6(1),e.Q6J("entity",t)}}function En(r,n){1&r&&(e.TgZ(0,"vdr-form-field",17),e.ALo(1,"translate"),e._UZ(2,"input",13),e.qZA()),2&r&&e.Q6J("label",e.lcZ(1,1,"settings.password"))}function Gn(r,n){if(1&r&&(e.TgZ(0,"vdr-card",18),e.ALo(1,"translate"),e._UZ(2,"vdr-tabbed-custom-fields",19),e.qZA()),2&r){const t=e.oxw();e.Q6J("title",e.lcZ(1,3,"common.custom-fields")),e.xp6(2),e.Q6J("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}function zn(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.create())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",t.detailForm.invalid||t.detailForm.pristine),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.create")," ")}}function jn(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.save())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",t.detailForm.invalid||t.detailForm.pristine),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.update")," ")}}function Hn(r,n){1&r&&e.YNc(0,jn,3,4,"button",16),2&r&&e.Q6J("vdrIfPermissions","UpdateAdministrator")}function Vn(r,n){if(1&r&&(e.TgZ(0,"vdr-card"),e._UZ(1,"vdr-page-entity-info",17),e.qZA()),2&r){const t=n.ngIf;e.xp6(1),e.Q6J("entity",t)}}function Kn(r,n){1&r&&(e.TgZ(0,"a",12),e._UZ(1,"clr-icon",13),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&r&&(e.Q6J("routerLink",e.DdM(4,Z)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"settings.create-new-role")," "))}function Wn(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.id," ")}}function Xn(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.createdAt,"short")," ")}}function er(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.updatedAt,"short")," ")}}function tr(r,n){if(1&r&&(e.TgZ(0,"a",16)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"clr-icon",17),e.qZA()),2&r){const t=e.oxw().item;e.Q6J("routerLink",e.VKq(2,T,t.id)),e.xp6(2),e.Oqu(t.description)}}function nr(r,n){if(1&r&&e._uU(0),2&r){const t=e.oxw().item;e.hij(" ",t.description," ")}}function rr(r,n){if(1&r&&(e.YNc(0,tr,4,4,"a",14),e.YNc(1,nr,1,1,"ng-template",null,15,e.W1O)),2&r){const t=n.item,o=e.MAs(2),i=e.oxw();e.Q6J("ngIf",!i.isDefaultRole(t))("ngIfElse",o)}}function or(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw().item;e.xp6(1),e.Oqu(t.code)}}function ar(r,n){if(1&r&&e.YNc(0,or,2,1,"span",18),2&r){const t=n.item,o=e.oxw();e.Q6J("ngIf",!o.isDefaultRole(t))}}function ir(r,n){if(1&r&&(e.TgZ(0,"vdr-chip"),e._UZ(1,"vdr-channel-badge",20),e.TgZ(2,"div",21),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"channelCodeToLabel"),e.qZA()()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("channelCode",t.code),e.xp6(2),e.Oqu(e.lcZ(4,2,e.lcZ(5,4,t.code)))}}function sr(r,n){if(1&r&&(e.ynx(0),e.YNc(1,ir,6,6,"vdr-chip",19),e.BQk()),2&r){const t=e.oxw().item;e.xp6(1),e.Q6J("ngForOf",t.channels)}}function lr(r,n){if(1&r&&e.YNc(0,sr,2,1,"ng-container",18),2&r){const t=n.item,o=e.oxw();e.Q6J("ngIf",!o.isDefaultRole(t))}}function dr(r,n){if(1&r&&(e.TgZ(0,"vdr-chip"),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Oqu(t)}}function cr(r,n){if(1&r&&(e.ynx(0),e._UZ(1,"clr-icon",13),e._uU(2),e.BQk()),2&r){const t=e.oxw(3).item,o=e.oxw();e.xp6(2),e.hij(" ",t.permissions.length-o.initialLimit," ")}}function mr(r,n){1&r&&e._UZ(0,"clr-icon",27)}function ur(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).item,s=e.oxw();return e.KtG(s.toggleDisplayLimit(i))}),e.YNc(1,cr,3,1,"ng-container",22),e.YNc(2,mr,1,0,"ng-template",null,26,e.W1O),e.qZA()}if(2&r){const t=e.MAs(3),o=e.oxw(2).item,i=e.oxw();e.xp6(1),e.Q6J("ngIf",(i.displayLimit[o.id]||0)<o.permissions.length)("ngIfElse",t)}}function pr(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",23),e.YNc(2,dr,2,1,"vdr-chip",19),e.ALo(3,"slice"),e.YNc(4,ur,4,2,"button",24),e.qZA(),e.BQk()),2&r){const t=e.oxw().item,o=e.oxw();e.xp6(2),e.Q6J("ngForOf",e.Dn7(3,2,t.permissions,0,o.displayLimit[t.id]||3)),e.xp6(2),e.Q6J("ngIf",t.permissions.length>o.initialLimit)}}function gr(r,n){1&r&&(e.TgZ(0,"span",28),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"settings.default-role-label")))}function hr(r,n){if(1&r&&(e.YNc(0,pr,5,6,"ng-container",22),e.YNc(1,gr,3,3,"ng-template",null,15,e.W1O)),2&r){const t=n.item,o=e.MAs(2),i=e.oxw();e.Q6J("ngIf",!i.isDefaultRole(t))("ngIfElse",o)}}function fr(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.create())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",!t.saveButtonEnabled()),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.create")," ")}}function vr(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.save())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",!t.saveButtonEnabled()),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.update")," ")}}const _r=function(){return["SuperAdmin","UpdateSeller"]};function br(r,n){1&r&&e.YNc(0,vr,3,4,"button",11),2&r&&e.Q6J("vdrIfPermissions",e.DdM(1,_r))}function yr(r,n){if(1&r&&(e.TgZ(0,"vdr-card"),e._UZ(1,"vdr-page-entity-info",12),e.qZA()),2&r){const t=n.ngIf;e.xp6(1),e.Q6J("entity",t)}}function Cr(r,n){if(1&r&&(e.TgZ(0,"vdr-card",13),e.ALo(1,"translate"),e._UZ(2,"vdr-tabbed-custom-fields",14),e.qZA()),2&r){const t=e.oxw();e.Q6J("title",e.lcZ(1,3,"common.custom-fields")),e.xp6(2),e.Q6J("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}function Zr(r,n){1&r&&(e.TgZ(0,"a",10),e._UZ(1,"clr-icon",11),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&r&&(e.Q6J("routerLink",e.DdM(4,Z)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"settings.create-new-seller")," "))}function Ar(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.Oqu(t.id)}}function Lr(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.createdAt,"short")," ")}}function Fr(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.updatedAt,"short")," ")}}function xr(r,n){if(1&r&&(e.TgZ(0,"a",12)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"clr-icon",13),e.qZA()),2&r){const t=n.item;e.Q6J("routerLink",e.VKq(2,T,t.id)),e.xp6(2),e.Oqu(t.name)}}function Ir(r,n){if(1&r&&e._UZ(0,"vdr-dt2-custom-field-column",14),2&r){const t=n.$implicit,o=e.oxw();e.Q6J("customField",t)("sorts",o.sorts)}}const Pr=function(){return["SuperAdmin","CreateSeller"]};function kr(r,n){if(1&r&&e._UZ(0,"vdr-object-tree",10),2&r){const t=e.oxw().$implicit;e.Q6J("value",t.metadata)}}function Dr(r,n){if(1&r&&(e.TgZ(0,"div",5)(1,"div",6)(2,"vdr-labeled-data",7),e.ALo(3,"translate"),e._uU(4),e.qZA(),e.TgZ(5,"div",8)(6,"vdr-labeled-data",7),e.ALo(7,"translate"),e._uU(8),e.ALo(9,"localeCurrency"),e.qZA(),e.TgZ(10,"vdr-labeled-data",7),e.ALo(11,"translate"),e._uU(12),e.ALo(13,"localeCurrency"),e.qZA()(),e.YNc(14,kr,1,1,"vdr-object-tree",9),e.qZA()()),2&r){const t=n.$implicit,o=e.oxw();e.xp6(1),e.ekj("stale",o.testDataUpdated),e.xp6(1),e.Q6J("label",e.lcZ(3,9,"settings.shipping-method")),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.Q6J("label",e.lcZ(7,11,"common.price")),e.xp6(2),e.hij(" ",e.xi3(9,13,t.price,o.currencyCode)," "),e.xp6(2),e.Q6J("label",e.lcZ(11,16,"common.price-with-tax")),e.xp6(2),e.hij(" ",e.xi3(13,18,t.priceWithTax,o.currencyCode)," "),e.xp6(2),e.Q6J("ngIf",t.metadata)}}function Jr(r,n){1&r&&(e.TgZ(0,"div",5),e._UZ(1,"clr-icon",11),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&r&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"settings.no-eligible-shipping-methods")," "))}function Nr(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr",8)(1,"td",9),e._UZ(2,"img",10),e.qZA(),e.TgZ(3,"td",11),e._uU(4),e.qZA(),e.TgZ(5,"td",12),e._uU(6),e.qZA(),e.TgZ(7,"td",13),e._uU(8),e.ALo(9,"localeCurrency"),e.qZA(),e.TgZ(10,"td",14)(11,"input",15),e.NdJ("ngModelChange",function(i){const m=e.CHM(t).$implicit;return e.KtG(m.quantity=i)})("change",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.updateQuantity())}),e.qZA(),e.TgZ(12,"button",16),e.NdJ("click",function(){const s=e.CHM(t).$implicit,m=e.oxw(2);return e.KtG(m.removeLine(s))}),e._UZ(13,"clr-icon",17),e.qZA()(),e.TgZ(14,"td",18),e._uU(15),e.ALo(16,"localeCurrency"),e.qZA()()}if(2&r){const t=n.$implicit,o=e.oxw(2);e.xp6(2),e.Q6J("src",t.preview+"?preset=tiny",e.LSH),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.sku),e.xp6(2),e.hij(" ",e.xi3(9,6,t.unitPriceWithTax,o.currencyCode)," "),e.xp6(3),e.Q6J("ngModel",t.quantity),e.xp6(4),e.hij(" ",e.xi3(16,9,t.unitPriceWithTax*t.quantity,o.currencyCode)," ")}}function Mr(r,n){if(1&r&&(e.TgZ(0,"table",4)(1,"thead")(2,"tr"),e._UZ(3,"th"),e.TgZ(4,"th"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"th"),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.YNc(19,Nr,17,12,"tr",5),e.TgZ(20,"tr",6)(21,"td",7),e._uU(22),e.ALo(23,"translate"),e.qZA(),e._UZ(24,"td")(25,"td")(26,"td")(27,"td"),e.TgZ(28,"td"),e._uU(29),e.ALo(30,"localeCurrency"),e.qZA()()()),2&r){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,8,"order.product-name")),e.xp6(3),e.Oqu(e.lcZ(9,10,"order.product-sku")),e.xp6(3),e.Oqu(e.lcZ(12,12,"order.unit-price")),e.xp6(3),e.Oqu(e.lcZ(15,14,"order.quantity")),e.xp6(3),e.Oqu(e.lcZ(18,16,"order.total")),e.xp6(2),e.Q6J("ngForOf",t.lines),e.xp6(3),e.Oqu(e.lcZ(23,18,"order.sub-total")),e.xp6(7),e.Oqu(e.xi3(30,20,t.subTotal,t.currencyCode))}}function Sr(r,n){1&r&&(e.TgZ(0,"div",19)(1,"div",20),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"clr-icon",21),e.qZA()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"settings.add-products-to-test-order")))}function qr(r,n){if(1&r&&(e.TgZ(0,"option",10),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.hij(" ",t.name," ")}}function $r(r,n){1&r&&e._UZ(0,"clr-icon",14)}function Or(r,n){1&r&&e._UZ(0,"clr-icon",15)}function wr(r,n){1&r&&e._UZ(0,"clr-icon",16)}function Qr(r,n){if(1&r&&(e.TgZ(0,"vdr-labeled-data",4),e.ALo(1,"translate"),e._uU(2),e.ALo(3,"localeCurrency"),e.qZA()),2&r){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"common.price")),e.xp6(2),e.hij(" ",e.xi3(3,4,null==t.testResult.quote?null:t.testResult.quote.price,t.currencyCode)," ")}}function Ur(r,n){if(1&r&&(e.TgZ(0,"vdr-labeled-data",4),e.ALo(1,"translate"),e._uU(2),e.ALo(3,"localeCurrency"),e.qZA()),2&r){const t=e.oxw();e.Q6J("label",e.lcZ(1,2,"common.price-with-tax")),e.xp6(2),e.hij(" ",e.xi3(3,4,null==t.testResult.quote?null:t.testResult.quote.priceWithTax,t.currencyCode)," ")}}function Rr(r,n){if(1&r&&e._UZ(0,"vdr-object-tree",17),2&r){const t=e.oxw();e.Q6J("value",null==t.testResult||null==t.testResult.quote?null:t.testResult.quote.metadata)}}const Br=function(r,n,t){return{success:r,error:n,unknown:t}};function Yr(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.create())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",t.detailForm.pristine||t.detailForm.invalid||!t.selectedChecker||!t.selectedCalculator),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.create")," ")}}function Er(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.save())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",t.detailForm.pristine||t.detailForm.invalid||!t.selectedChecker||!t.selectedCalculator),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.update")," ")}}function Gr(r,n){if(1&r&&e.YNc(0,Er,3,4,"button",25),2&r){const t=e.oxw();e.Q6J("vdrIfPermissions",t.updatePermission)}}function zr(r,n){if(1&r&&(e.TgZ(0,"vdr-card"),e._UZ(1,"vdr-page-entity-info",26),e.qZA()),2&r){const t=n.ngIf;e.xp6(1),e.Q6J("entity",t)}}function jr(r,n){if(1&r&&(e.TgZ(0,"option",27),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t.code),e.xp6(1),e.AsE(" ",t.code,": ",t.description," ")}}function Hr(r,n){if(1&r&&(e.TgZ(0,"vdr-card",28),e.ALo(1,"translate"),e._UZ(2,"vdr-tabbed-custom-fields",29),e.qZA()),2&r){const t=e.oxw();e.Q6J("title",e.lcZ(1,3,"common.custom-fields")),e.xp6(2),e.Q6J("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}function Vr(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"vdr-configurable-input",30),e.NdJ("remove",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedChecker=null)}),e.ALo(1,"hasPermission"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("operation",t.selectedChecker)("operationDefinition",t.selectedCheckerDefinition)("readonly",!e.lcZ(1,3,t.updatePermission))}}function Kr(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){const s=e.CHM(t).$implicit,m=e.oxw(2);return e.KtG(m.selectChecker(s))}),e._uU(1),e.qZA()}if(2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function Wr(r,n){if(1&r&&(e.TgZ(0,"div",31)(1,"vdr-dropdown")(2,"button",32),e._UZ(3,"clr-icon",33),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"vdr-dropdown-menu",34),e.YNc(7,Kr,2,1,"button",35),e.qZA()()()),2&r){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,2,"common.select")," "),e.xp6(3),e.Q6J("ngForOf",t.checkers)}}function Xr(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"vdr-configurable-input",37),e.NdJ("remove",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.selectedCalculator=null)}),e.ALo(1,"hasPermission"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("operation",t.selectedCalculator)("operationDefinition",t.selectedCalculatorDefinition)("readonly",!e.lcZ(1,3,t.updatePermission))}}function eo(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){const s=e.CHM(t).$implicit,m=e.oxw(2);return e.KtG(m.selectCalculator(s))}),e._uU(1),e.qZA()}if(2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function to(r,n){if(1&r&&(e.TgZ(0,"div",31)(1,"vdr-dropdown")(2,"button",32),e._UZ(3,"clr-icon",33),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"vdr-dropdown-menu",34),e.YNc(7,eo,2,1,"button",35),e.qZA()()()),2&r){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,2,"common.select")," "),e.xp6(3),e.Q6J("ngForOf",t.calculators)}}function no(r,n){1&r&&(e.TgZ(0,"a",14),e._UZ(1,"clr-icon",15),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&r&&(e.Q6J("routerLink",e.DdM(4,Z)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"settings.create-new-shipping-method")," "))}function ro(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.id," ")}}function oo(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.createdAt,"short")," ")}}function ao(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.updatedAt,"short")," ")}}function io(r,n){if(1&r&&(e.TgZ(0,"a",16)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"clr-icon",17),e.qZA()),2&r){const t=n.item;e.Q6J("routerLink",e.VKq(2,T,t.id)),e.xp6(2),e.Oqu(t.name)}}function so(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.code," ")}}function lo(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.description," ")}}function co(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.fulfillmentHandlerCode," ")}}function mo(r,n){if(1&r&&e._UZ(0,"vdr-dt2-custom-field-column",18),2&r){const t=n.$implicit,o=e.oxw();e.Q6J("customField",t)("sorts",o.sorts)}}const uo=function(){return["CreateSettings","CreateShippingMethod"]};function po(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.create())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",t.detailForm.invalid||t.detailForm.pristine),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.create")," ")}}function go(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.save())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",t.detailForm.invalid||t.detailForm.pristine),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.update")," ")}}function ho(r,n){1&r&&e.YNc(0,go,3,4,"button",13),2&r&&e.Q6J("vdrIfPermissions","UpdateStockLocation")}function fo(r,n){if(1&r&&(e.TgZ(0,"vdr-card"),e._UZ(1,"vdr-page-entity-info",14),e.qZA()),2&r){const t=n.ngIf;e.xp6(1),e.Q6J("entity",t)}}function vo(r,n){if(1&r&&(e.TgZ(0,"vdr-card",15),e.ALo(1,"translate"),e._UZ(2,"vdr-tabbed-custom-fields",16),e.qZA()),2&r){const t=e.oxw();e.Q6J("title",e.lcZ(1,3,"common.custom-fields")),e.xp6(2),e.Q6J("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}const _o=function(r){return{pattern:r}};function bo(r,n){1&r&&(e.TgZ(0,"a",11),e._UZ(1,"clr-icon",12),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&r&&(e.Q6J("routerLink",e.DdM(4,Z)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"catalog.create-new-stock-location")," "))}function yo(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.id," ")}}function Co(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.createdAt,"short")," ")}}function To(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.updatedAt,"short")," ")}}function Zo(r,n){if(1&r&&(e.TgZ(0,"a",13)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"clr-icon",14),e.qZA()),2&r){const t=n.item;e.Q6J("routerLink",e.VKq(2,T,t.id)),e.xp6(2),e.Oqu(t.name)}}function Ao(r,n){if(1&r&&e._UZ(0,"div",15),2&r){const t=n.item;e.Q6J("innerHTML",t.description,e.oJD)}}function Lo(r,n){if(1&r&&e._UZ(0,"vdr-dt2-custom-field-column",16),2&r){const t=n.$implicit,o=e.oxw();e.Q6J("customField",t)("sorts",o.sorts)}}const Fo=function(){return["CreateStockLocation"]};function xo(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.create())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",!t.saveButtonEnabled()),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.create")," ")}}function Io(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.save())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",!t.saveButtonEnabled()),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.update")," ")}}function Po(r,n){if(1&r&&e.YNc(0,Io,3,4,"button",13),2&r){const t=e.oxw();e.Q6J("vdrIfPermissions",t.updatePermission)}}function ko(r,n){if(1&r&&(e.TgZ(0,"vdr-card"),e._UZ(1,"vdr-page-entity-info",14),e.qZA()),2&r){const t=n.ngIf;e.xp6(1),e.Q6J("entity",t)}}function Do(r,n){if(1&r&&(e.TgZ(0,"vdr-card",15),e.ALo(1,"translate"),e._UZ(2,"vdr-tabbed-custom-fields",16),e.qZA()),2&r){const t=e.oxw();e.Q6J("title",e.lcZ(1,3,"common.custom-fields")),e.xp6(2),e.Q6J("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}function Jo(r,n){1&r&&(e.TgZ(0,"a",11),e._UZ(1,"clr-icon",12),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&r&&(e.Q6J("routerLink",e.DdM(4,Z)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"settings.create-new-tax-category")," "))}function No(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.id," ")}}function Mo(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.createdAt,"short")," ")}}function So(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.updatedAt,"short")," ")}}function qo(r,n){if(1&r&&(e.TgZ(0,"a",13)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"clr-icon",14),e.qZA()),2&r){const t=n.item;e.Q6J("routerLink",e.VKq(2,T,t.id)),e.xp6(2),e.Oqu(t.name)}}function $o(r,n){1&r&&(e.TgZ(0,"vdr-chip"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"common.default-tax-category")))}function Oo(r,n){if(1&r&&e.YNc(0,$o,3,3,"vdr-chip",15),2&r){const t=n.item;e.Q6J("ngIf",t.isDefault)}}function wo(r,n){if(1&r&&e._UZ(0,"vdr-dt2-custom-field-column",16),2&r){const t=n.$implicit,o=e.oxw();e.Q6J("customField",t)("sorts",o.sorts)}}const Qo=function(){return["CreateSettings","CreateTaxCategory"]};function Uo(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.create())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",!t.saveButtonEnabled()),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.create")," ")}}function Ro(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.save())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",!t.saveButtonEnabled()),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.update")," ")}}function Bo(r,n){if(1&r&&e.YNc(0,Ro,3,4,"button",21),2&r){const t=e.oxw();e.Q6J("vdrIfPermissions",t.updatePermission)}}function Yo(r,n){if(1&r&&(e.TgZ(0,"vdr-card"),e._UZ(1,"vdr-page-entity-info",22),e.qZA()),2&r){const t=n.ngIf;e.xp6(1),e.Q6J("entity",t)}}function Eo(r,n){if(1&r&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Go(r,n){if(1&r&&(e.TgZ(0,"vdr-card",24),e.ALo(1,"translate"),e._UZ(2,"vdr-tabbed-custom-fields",25),e.qZA()),2&r){const t=e.oxw();e.Q6J("title",e.lcZ(1,3,"common.custom-fields")),e.xp6(2),e.Q6J("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}function zo(r,n){1&r&&(e.TgZ(0,"a",15),e._UZ(1,"clr-icon",16),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&r&&(e.Q6J("routerLink",e.DdM(4,Z)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"settings.create-new-tax-rate")," "))}function jo(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.id," ")}}function Ho(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.createdAt,"short")," ")}}function Vo(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.updatedAt,"short")," ")}}function Ko(r,n){if(1&r&&(e.TgZ(0,"a",17)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"clr-icon",18),e.qZA()),2&r){const t=n.item;e.Q6J("routerLink",e.VKq(2,T,t.id)),e.xp6(2),e.Oqu(t.name)}}function Wo(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.category.name," ")}}function Xo(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.zone.name," ")}}function ea(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",null==t.customerGroup?null:t.customerGroup.name," ")}}function ta(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.value,"% ")}}function na(r,n){1&r&&(e.TgZ(0,"vdr-chip",21),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"common.enabled")))}function ra(r,n){1&r&&(e.TgZ(0,"vdr-chip",22),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"common.disabled")))}function oa(r,n){if(1&r&&(e.YNc(0,na,3,3,"vdr-chip",19),e.YNc(1,ra,3,3,"vdr-chip",20)),2&r){const t=n.item;e.Q6J("ngIf",t.enabled),e.xp6(1),e.Q6J("ngIf",!t.enabled)}}function aa(r,n){if(1&r&&e._UZ(0,"vdr-dt2-custom-field-column",23),2&r){const t=n.$implicit,o=e.oxw();e.Q6J("customField",t)("sorts",o.sorts)}}const ia=function(){return["CreateSettings","CreateTaxRate"]};function sa(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.create())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",!t.saveButtonEnabled()),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.create")," ")}}function la(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.save())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("disabled",!t.saveButtonEnabled()),e.xp6(1),e.hij(" ",e.lcZ(2,2,"common.update")," ")}}function da(r,n){if(1&r&&e.YNc(0,la,3,4,"button",11),2&r){const t=e.oxw();e.Q6J("vdrIfPermissions",t.updatePermission)}}function ca(r,n){if(1&r&&(e.TgZ(0,"vdr-card"),e._UZ(1,"vdr-page-entity-info",12),e.qZA()),2&r){const t=n.ngIf;e.xp6(1),e.Q6J("entity",t)}}function ma(r,n){if(1&r&&(e.TgZ(0,"vdr-card",13),e.ALo(1,"translate"),e._UZ(2,"vdr-tabbed-custom-fields",14),e.qZA()),2&r){const t=e.oxw();e.Q6J("title",e.lcZ(1,3,"common.custom-fields")),e.xp6(2),e.Q6J("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}function ua(r,n){1&r&&(e.TgZ(0,"a",6),e._UZ(1,"clr-icon",7),e._uU(2),e.ALo(3,"translate"),e.qZA()),2&r&&(e.Q6J("routerLink",e.DdM(4,Z)),e.xp6(2),e.hij(" ",e.lcZ(3,2,"settings.create-new-zone")," "))}function pa(r,n){if(1&r&&e._uU(0),2&r){const t=n.item;e.hij(" ",t.id," ")}}function ga(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.createdAt,"short")," ")}}function ha(r,n){if(1&r&&(e._uU(0),e.ALo(1,"localeDate")),2&r){const t=n.item;e.hij(" ",e.xi3(1,1,t.updatedAt,"short")," ")}}function fa(r,n){if(1&r&&(e.TgZ(0,"a",17)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"clr-icon",18),e.qZA()),2&r){const t=n.item;e.Q6J("routerLink",e.VKq(2,T,t.id)),e.xp6(2),e.Oqu(t.name)}}const va=function(r){return{contents:r}};function _a(r,n){if(1&r&&(e.TgZ(0,"a",19)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"clr-icon",20),e.qZA()),2&r){const t=n.item;e.Q6J("routerLink",e.VKq(6,T,e.VKq(4,va,t.id))),e.xp6(2),e.Oqu(e.lcZ(3,2,"settings.view-zone-members"))}}function ba(r,n){if(1&r&&e._UZ(0,"vdr-dt2-custom-field-column",21),2&r){const t=n.$implicit,o=e.oxw(2);e.Q6J("customField",t)("sort",o.sorts)}}function ya(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"vdr-data-table-2",8),e.NdJ("pageChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.setPageNumber(i))})("itemsPerPageChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.setItemsPerPage(i))}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async"),e.ALo(5,"async"),e._UZ(6,"vdr-bulk-action-menu",9)(7,"vdr-dt2-search",10),e.ALo(8,"translate"),e.TgZ(9,"vdr-dt2-column",11),e.ALo(10,"translate"),e.YNc(11,pa,1,1,"ng-template"),e.qZA(),e.TgZ(12,"vdr-dt2-column",12),e.ALo(13,"translate"),e.YNc(14,ga,2,4,"ng-template"),e.qZA(),e.TgZ(15,"vdr-dt2-column",13),e.ALo(16,"translate"),e.YNc(17,ha,2,4,"ng-template"),e.qZA(),e.TgZ(18,"vdr-dt2-column",14),e.ALo(19,"translate"),e.YNc(20,fa,4,4,"ng-template"),e.qZA(),e.TgZ(21,"vdr-dt2-column",15),e.ALo(22,"translate"),e.YNc(23,_a,5,8,"ng-template"),e.qZA(),e.YNc(24,ba,1,2,"vdr-dt2-custom-field-column",16),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("items",e.lcZ(1,24,t.items$))("itemsPerPage",e.lcZ(2,26,t.itemsPerPage$))("totalItems",e.lcZ(3,28,t.totalItems$))("currentPage",e.lcZ(4,30,t.currentPage$))("filters",t.filters)("activeIndex",e.lcZ(5,32,t.activeIndex$)),e.xp6(6),e.Q6J("hostComponent",t)("selectionManager",t.selectionManager),e.xp6(1),e.Q6J("searchTermControl",t.searchTermControl)("searchTermPlaceholder",e.lcZ(8,34,"common.search-by-name")),e.xp6(2),e.Q6J("heading",e.lcZ(10,36,"common.id"))("hiddenByDefault",!0),e.xp6(3),e.Q6J("heading",e.lcZ(13,38,"common.created-at"))("hiddenByDefault",!0)("sort",t.sorts.get("createdAt")),e.xp6(3),e.Q6J("heading",e.lcZ(16,40,"common.updated-at"))("hiddenByDefault",!0)("sort",t.sorts.get("updatedAt")),e.xp6(3),e.Q6J("heading",e.lcZ(19,42,"common.name"))("optional",!1)("sort",t.sorts.get("name")),e.xp6(3),e.Q6J("heading",e.lcZ(22,44,"common.view-contents"))("optional",!1),e.xp6(3),e.Q6J("ngForOf",t.customFields)}}function Ca(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"vdr-zone-member-list",25),e.NdJ("selectionChange",function(i){e.CHM(t);const s=e.oxw(3);return e.KtG(s.selectedMemberIds=i)}),e.qZA()}if(2&r){const t=n.ngIf,o=e.oxw(3);e.Q6J("selectedMemberIds",o.selectedMemberIds)("activeZone",t)}}function Ta(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",23),e.NdJ("click",function(){const s=e.CHM(t).ngIf,m=e.oxw(2);return e.KtG(m.addToZone(s))}),e._UZ(2,"clr-icon",7),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.YNc(6,Ca,1,2,"vdr-zone-member-list",24),e.ALo(7,"async"),e.BQk()}if(2&r){const t=n.ngIf,o=e.oxw(2);e.xp6(4),e.Oqu(e.xi3(5,2,"settings.add-countries-to-zone",e.VKq(7,ve,t.name))),e.xp6(2),e.Q6J("ngIf",e.lcZ(7,5,o.activeZone$))}}function Za(r,n){if(1&r&&(e.YNc(0,Ta,8,9,"ng-container",22),e.ALo(1,"async")),2&r){const t=e.oxw();e.Q6J("ngIf",e.lcZ(1,1,t.activeZone$))}}const Aa=function(){return["CreateSettings","CreateZone"]};class S{constructor(n){this.templateRef=n}static#e=this.\u0275fac=function(t){return new(t||S)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:S,selectors:[["","vdrZoneMemberControls",""]]})}class q{constructor(n){this.templateRef=n}static#e=this.\u0275fac=function(t){return new(t||q)(e.Y36(e.Rgc))};static#t=this.\u0275dir=e.lG2({type:q,selectors:[["","vdrZoneMemberListHeader",""]]})}class F{constructor(n){this.dataService=n,this.selectedMemberIds=[],this.selectionChange=new e.vpe,this.filterTermControl=new l.NI(""),this.currentPage=1,this.itemsPerPage=10,this.selectionManager=new a.ZE0({multiSelect:!0,itemsAreEqual:(t,o)=>t.id===o.id,additiveMode:!0}),this.membersInput$=new M.x,this.activeZoneInput$=new Xe.X(void 0),this.destroy$=new M.x,this.refresh$=new M.x}ngOnInit(){const n=(0,he.T)(this.activeZoneInput$,this.refresh$).pipe((0,N.w)(t=>this.activeZone?this.dataService.query(a.iWU,{zoneId:this.activeZone.id}).mapSingle(({zone:o})=>o?.members??[]):(0,ue.of)([])));this.members$=(0,he.T)(n,this.membersInput$),this.members$.pipe((0,C.q)(1)).subscribe(t=>{this.selectionManager.setCurrentItems(t?.filter(o=>this.selectedMemberIds.includes(o.id))??[])}),this.selectionManager.selectionChanges$.pipe((0,Ce.R)(this.destroy$)).subscribe(t=>{this.selectionChange.emit(t.map(o=>o.id))}),this.filteredMembers$=(0,I.a)(this.members$,this.filterTermControl.valueChanges.pipe((0,Ee.O)(""))).pipe((0,v.U)(([t,o])=>{if(o){const i=o?.toLocaleLowerCase()??"";return t.filter(s=>s.name.toLocaleLowerCase().includes(i)||s.code.toLocaleLowerCase().includes(i))}return t})),this.totalItems$=this.filteredMembers$.pipe((0,v.U)(t=>t.length))}ngOnChanges(n){"members"in n&&this.membersInput$.next(this.members??[]),"activeZone"in n&&this.activeZoneInput$.next(this.activeZone)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.refresh$.next()}static#e=this.\u0275fac=function(t){return new(t||F)(e.Y36(a.DoR))};static#t=this.\u0275cmp=e.Xpm({type:F,selectors:[["vdr-zone-member-list"]],contentQueries:function(t,o,i){if(1&t&&(e.Suo(i,q,5),e.Suo(i,S,5)),2&t){let s;e.iGM(s=e.CRH())&&(o.headerTemplate=s.first),e.iGM(s=e.CRH())&&(o.controlsTemplate=s.first)}},inputs:{locationId:"locationId",members:"members",selectedMemberIds:"selectedMemberIds",activeZone:"activeZone"},outputs:{selectionChange:"selectionChange"},features:[e.TTD],decls:24,vars:38,consts:[[3,"id","items","totalItems","itemsPerPage","currentPage","itemsPerPageChange","pageChange"],[3,"locationId","hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault"],["id","updated-at",3,"heading","hiddenByDefault"],["id","name",3,"heading","optional"],["id","code",3,"heading"],["id","enabled",3,"heading"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],["colorType","success",4,"ngIf"],["colorType","warning",4,"ngIf"],["colorType","success"],["colorType","warning"]],template:function(t,o){1&t&&(e.TgZ(0,"vdr-data-table-2",0),e.NdJ("itemsPerPageChange",function(s){return o.itemsPerPage=s})("pageChange",function(s){return o.currentPage=s}),e.ALo(1,"async"),e.ALo(2,"async"),e._UZ(3,"vdr-bulk-action-menu",1)(4,"vdr-dt2-search",2),e.ALo(5,"translate"),e.TgZ(6,"vdr-dt2-column",3),e.ALo(7,"translate"),e.YNc(8,at,1,1,"ng-template"),e.qZA(),e.TgZ(9,"vdr-dt2-column",4),e.ALo(10,"translate"),e.YNc(11,it,2,4,"ng-template"),e.qZA(),e.TgZ(12,"vdr-dt2-column",5),e.ALo(13,"translate"),e.YNc(14,st,2,4,"ng-template"),e.qZA(),e.TgZ(15,"vdr-dt2-column",6),e.ALo(16,"translate"),e.YNc(17,dt,4,4,"ng-template"),e.qZA(),e.TgZ(18,"vdr-dt2-column",7),e.ALo(19,"translate"),e.YNc(20,ct,1,1,"ng-template"),e.qZA(),e.TgZ(21,"vdr-dt2-column",8),e.ALo(22,"translate"),e.YNc(23,pt,2,2,"ng-template"),e.qZA()()),2&t&&(e.Q6J("id",o.locationId)("items",e.lcZ(1,20,o.filteredMembers$))("totalItems",e.lcZ(2,22,o.totalItems$))("itemsPerPage",o.itemsPerPage)("currentPage",o.currentPage),e.xp6(3),e.Q6J("locationId",o.locationId)("hostComponent",o)("selectionManager",o.selectionManager),e.xp6(1),e.Q6J("searchTermControl",o.filterTermControl)("searchTermPlaceholder",e.lcZ(5,24,"common.search-by-name")),e.xp6(2),e.Q6J("heading",e.lcZ(7,26,"common.id"))("hiddenByDefault",!0),e.xp6(3),e.Q6J("heading",e.lcZ(10,28,"common.created-at"))("hiddenByDefault",!0),e.xp6(3),e.Q6J("heading",e.lcZ(13,30,"common.updated-at"))("hiddenByDefault",!0),e.xp6(3),e.Q6J("heading",e.lcZ(16,32,"common.name"))("optional",!1),e.xp6(3),e.Q6J("heading",e.lcZ(19,34,"common.code")),e.xp6(3),e.Q6J("heading",e.lcZ(22,36,"common.enabled")))},dependencies:[g.qvL,c.O5,y.rH,a.Ywx,a.cuf,a.eJ5,a.Up6,a.JBy,c.Ov,h.X$,a.HbD],styles:[".members-header[_ngcontent-%COMP%]{background-color:var(--color-component-bg-100);position:sticky;top:0;padding:6px;z-index:5;border-bottom:1px solid var(--color-component-border-200)}.members-header[_ngcontent-%COMP%]   .header-title-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.members-header[_ngcontent-%COMP%]   .clr-input[_ngcontent-%COMP%]{width:100%}"],changeDetection:0})}const La=p.Ps`
    query GetZoneMembers($zoneId: ID!) {
        zone(id: $zoneId) {
            id
            createdAt
            updatedAt
            name
            members {
                createdAt
                updatedAt
                id
                name
                code
                enabled
            }
        }
    }
`;class ${constructor(n){this.dataService=n,this.selectedMemberIds=[]}ngOnInit(){this.currentMembers$=this.dataService.query(a.iWU,{zoneId:this.zoneId}).mapSingle(({zone:n})=>n?.members??[]),this.availableCountries$=this.dataService.query(a.p6B,{options:{take:999}}).mapStream(n=>n.countries.items).pipe(Ze(this.currentMembers$),(0,v.U)(([n,t])=>n.filter(o=>!t.find(i=>i.id===o.id))))}cancel(){this.resolveWith()}add(){this.resolveWith(this.selectedMemberIds)}static#e=this.\u0275fac=function(t){return new(t||$)(e.Y36(a.DoR))};static#t=this.\u0275cmp=e.Xpm({type:$,selectors:[["vdr-add-country-to-zone-dialog"]],decls:4,vars:4,consts:[["vdrDialogTitle",""],[3,"members","selectedMemberIds","selectionChange"],["vdrDialogButtons",""],["type","button",1,"btn",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,o){1&t&&(e.YNc(0,gt,2,6,"ng-template",0),e.TgZ(1,"vdr-zone-member-list",1),e.NdJ("selectionChange",function(s){return o.selectedMemberIds=s}),e.ALo(2,"async"),e.qZA(),e.YNc(3,ht,6,10,"ng-template",2)),2&t&&(e.xp6(1),e.Q6J("members",e.lcZ(2,2,o.availableCountries$))("selectedMemberIds",o.selectedMemberIds))},dependencies:[a.nPI,a.q6K,F,c.Ov,h.X$],changeDetection:0})}class P{constructor(){this.readonly=!1,this.permissionChange=new e.vpe}ngOnInit(){this.buildGrid()}setPermission(n,t){this.readonly||this.permissionChange.emit({permission:n,value:t})}toggleAll(n){const t=n.some(o=>!this.activePermissions.includes(o.name));for(const o of n)this.permissionChange.emit({permission:o.name,value:t})}buildGrid(){const n=new Map,t=[],o=/^(Create|Read|Update|Delete)([a-zA-Z]+)$/;for(const i of this.permissionDefinitions)if(o.test(i.name)){const m=i.name.match(o)?.[2];if(m){const _=n.get(m);_?_.push(i):n.set(m,[i])}}else i.assignable&&t.push(i);this.gridData=[...t.map(i=>({label:i.name,description:i.description,permissions:[i]})),...Array.from(n.entries()).map(([i,s])=>({label:i,description:this.extractCrudDescription(s[0]),permissions:s}))]}extractCrudDescription(n){return n.description.replace(/Grants permission to [\w]+/,"Grants permissions on")}static#e=this.\u0275fac=function(t){return new(t||P)};static#t=this.\u0275cmp=e.Xpm({type:P,selectors:[["vdr-permission-grid"]],inputs:{permissionDefinitions:"permissionDefinitions",activePermissions:"activePermissions",readonly:"readonly"},outputs:{permissionChange:"permissionChange"},decls:3,vars:1,consts:[[1,"table"],[4,"ngFor","ngForOf"],[1,"permission-group","left"],["class","button-small",3,"click",4,"ngIf"],[1,"button-small",3,"click"],["size","small",3,"title","label","disabled","selected","selectedChange"]],template:function(t,o){1&t&&(e.TgZ(0,"table",0)(1,"tbody"),e.YNc(2,_t,12,8,"tr",1),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngForOf",o.gridData))},dependencies:[c.sg,c.O5,a.aPl,h.X$],styles:["[_nghost-%COMP%]{display:block}td.permission-group[_ngcontent-%COMP%]{max-width:300px;background-color:var(--color-component-bg-200)}"],changeDetection:0})}const Fa=p.Ps`
    query GetAdministratorDetail($id: ID!) {
        administrator(id: $id) {
            ...Administrator
        }
    }
    ${a.EEY}
`;class O extends a.VE7{getAvailableChannels(){return Object.values(this.selectedRolePermissions)}constructor(n,t,o,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=o,this.notificationService=i,this.customFields=this.getCustomFieldConfig("Administrator"),this.detailForm=this.formBuilder.group({emailAddress:["",l.kI.required],firstName:["",l.kI.required],lastName:["",l.kI.required],password:[""],roles:[[]],customFields:this.formBuilder.group((0,a.Lrj)(this.customFields))}),this.selectedRoles=[],this.selectedRolePermissions={},this.selectedChannelId=null}ngOnInit(){this.init(),this.allRoles$=this.dataService.administrator.getRoles(999).mapStream(n=>n.roles.items.filter(t=>t.code!==L.RO)),this.dataService.client.userStatus().single$.subscribe(({userStatus:n})=>{if(!n.permissions.includes(a.y3$.CreateAdministrator)&&!n.permissions.includes(a.y3$.UpdateAdministrator)){const t=this.detailForm.get("roles");t&&t.disable()}}),this.permissionDefinitions=this.serverConfigService.getPermissionDefinitions()}ngOnDestroy(){this.destroy()}rolesChanged(n){this.buildPermissionsMap()}getPermissionsForSelectedChannel(){function n(o){return Object.entries(o).filter(([i,s])=>s).map(([i,s])=>i)}if(this.selectedChannelId&&this.selectedRolePermissions[this.selectedChannelId]){return n(this.selectedRolePermissions[this.selectedChannelId].permissions)}const t=Object.values(this.selectedRolePermissions);return 0<t.length?(this.selectedChannelId=t[0].channelId,n(t[0].permissions)):[]}create(){const{emailAddress:n,firstName:t,lastName:o,password:i,customFields:s,roles:m}=this.detailForm.value;if(!(n&&t&&o&&i))return;const _={emailAddress:n,firstName:t,lastName:o,password:i,customFields:s,roleIds:m?.map(f=>f.id).filter(tt.notNullOrUndefined)??[]};this.dataService.administrator.createAdministrator(_).subscribe(f=>{this.notificationService.success((0,d.J)("common.notify-create-success"),{entity:"Administrator"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",f.createAdministrator.id],{relativeTo:this.route})},f=>{this.notificationService.error((0,d.J)("common.notify-create-error"),{entity:"Administrator"})})}save(){this.entity$.pipe((0,C.q)(1),(0,b.z)(({id:n})=>{const t=this.detailForm.value,o={id:n,emailAddress:t.emailAddress,firstName:t.firstName,lastName:t.lastName,password:t.password,customFields:t.customFields,roleIds:t.roles?.map(i=>i.id)};return this.dataService.administrator.updateAdministrator(o)})).subscribe(n=>{this.notificationService.success((0,d.J)("common.notify-update-success"),{entity:"Administrator"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},n=>{this.notificationService.error((0,d.J)("common.notify-update-error"),{entity:"Administrator"})})}setFormValues(n,t){this.detailForm.patchValue({emailAddress:n.emailAddress,firstName:n.firstName,lastName:n.lastName,roles:n.user.roles}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get(["customFields"]),n);const o=this.detailForm.get("password");o&&(n.id?o.setValidators([]):o.setValidators([l.kI.required])),this.buildPermissionsMap()}buildPermissionsMap(){const n=this.detailForm.get("roles");if(n){const t=n.value,o=new Map,i=new Map;for(const s of t??[])for(const m of s.channels){const f=o.get(m.id)||new Set;s.permissions.forEach(A=>f.add(A)),o.set(m.id,f),i.set(m.id,m.code)}this.selectedRolePermissions={};for(const s of Array.from(o.keys())){const m=o.get(s),_={};for(const f of this.serverConfigService.getPermissionDefinitions())_[f.name]=m.has(f.name);this.selectedRolePermissions[s]={channelId:s,channelCode:i.get(s),permissions:_}}}}static#e=this.\u0275fac=function(t){return new(t||O)(e.Y36(e.sBO),e.Y36(a.DoR),e.Y36(l.qu),e.Y36(a.gqp))};static#t=this.\u0275cmp=e.Xpm({type:O,selectors:[["vdr-admin-detail"]],features:[e.qOj],decls:44,vars:53,consts:[["locationId","administrator-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","emailAddress",1,"form-grid-span",3,"label"],["id","emailAddress","type","text","formControlName","emailAddress",3,"readonly"],["for","firstName",3,"label"],["id","firstName","type","text","formControlName","firstName",3,"readonly"],["for","lastName",3,"label"],["id","lastName","type","text","formControlName","lastName",3,"readonly"],["for","password",3,"label",4,"ngIf"],["for","password",3,"label","readOnlyToggle",4,"ngIf"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","administrator-detail",3,"entity$","detailForm"],[3,"title"],["formControlName","roles","bindLabel","description",3,"items","multiple","hideSelected","change"],["role","tablist",1,"nav","mt-2"],["role","presentation","class","nav-item",4,"ngFor","ngForOf"],[3,"activePermissions","permissionDefinitions","readonly"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["for","password",3,"label"],["id","password","type","password","formControlName","password"],["for","password",3,"label","readOnlyToggle"],["formGroupName","customFields",3,"title"],["entityName","Administrator",3,"customFields","customFieldsFormGroup"],["role","presentation",1,"nav-item"],["type","button",1,"btn","btn-link","nav-link",3,"id","click"]],template:function(t,o){if(1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar"),e._UZ(2,"vdr-ab-left"),e.TgZ(3,"vdr-ab-right"),e._UZ(4,"vdr-action-bar-items",0),e.YNc(5,bt,3,4,"button",1),e.ALo(6,"async"),e.YNc(7,Ct,1,1,"ng-template",null,2,e.W1O),e.qZA()()(),e.TgZ(9,"form",3)(10,"vdr-page-detail-layout")(11,"vdr-page-detail-sidebar"),e.YNc(12,Tt,2,1,"vdr-card",4),e.ALo(13,"async"),e.qZA(),e.TgZ(14,"vdr-page-block")(15,"vdr-card")(16,"div",5)(17,"vdr-form-field",6),e.ALo(18,"translate"),e._UZ(19,"input",7),e.ALo(20,"hasPermission"),e.qZA(),e.TgZ(21,"vdr-form-field",8),e.ALo(22,"translate"),e._UZ(23,"input",9),e.ALo(24,"hasPermission"),e.qZA(),e.TgZ(25,"vdr-form-field",10),e.ALo(26,"translate"),e._UZ(27,"input",11),e.ALo(28,"hasPermission"),e.qZA(),e.YNc(29,Zt,3,3,"vdr-form-field",12),e.ALo(30,"async"),e.YNc(31,At,3,4,"vdr-form-field",13),e.ALo(32,"async"),e.ALo(33,"hasPermission"),e.qZA()(),e.YNc(34,Lt,3,5,"vdr-card",14),e._UZ(35,"vdr-custom-detail-component-host",15),e.qZA()(),e.TgZ(36,"vdr-page-block")(37,"vdr-card",16),e.ALo(38,"translate"),e.TgZ(39,"ng-select",17),e.NdJ("change",function(s){return o.rolesChanged(s)}),e.ALo(40,"async"),e.qZA(),e.TgZ(41,"ul",18),e.YNc(42,Ft,5,9,"li",19),e.qZA(),e._UZ(43,"vdr-permission-grid",20),e.qZA()()()),2&t){const i=e.MAs(8);e.xp6(5),e.Q6J("ngIf",e.lcZ(6,23,o.isNew$))("ngIfElse",i),e.xp6(4),e.Q6J("formGroup",o.detailForm),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,25,o.entity$)),e.xp6(5),e.Q6J("label",e.lcZ(18,27,"settings.email-address-or-identifier")),e.xp6(2),e.Q6J("readonly",!e.lcZ(20,29,e.DdM(49,pe))),e.xp6(2),e.Q6J("label",e.lcZ(22,31,"settings.first-name")),e.xp6(2),e.Q6J("readonly",!e.lcZ(24,33,e.DdM(50,pe))),e.xp6(2),e.Q6J("label",e.lcZ(26,35,"settings.last-name")),e.xp6(2),e.Q6J("readonly",!e.lcZ(28,37,e.DdM(51,pe))),e.xp6(2),e.Q6J("ngIf",e.lcZ(30,39,o.isNew$)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(32,41,o.isNew$)&&e.lcZ(33,43,e.DdM(52,pe))),e.xp6(3),e.Q6J("ngIf",o.customFields.length),e.xp6(1),e.Q6J("entity$",o.entity$)("detailForm",o.detailForm),e.xp6(2),e.Q6J("title",e.lcZ(38,45,"settings.roles")),e.xp6(2),e.Q6J("items",e.lcZ(40,47,o.allRoles$))("multiple",!0)("hideSelected",!0),e.xp6(3),e.Q6J("ngForOf",o.getAvailableChannels()),e.xp6(1),e.Q6J("activePermissions",o.getPermissionsForSelectedChannel())("permissionDefinitions",o.permissionDefinitions)("readonly",!0)}},dependencies:[c.sg,c.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,l.x0,nt.w9,a.KkL,a.BND,a.mz,a.hgI,a.y_K,a.HAh,a.WWO,a.yc0,a.CWh,a.zJY,a.DME,a.TeL,a.W1W,a.AkF,P,c.Ov,h.X$,a.j$k,a.E6B],styles:["ul.nav[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden}"],changeDetection:0})}const Fe=(0,a.wwB)({location:"administrator-list",requiresPermission:r=>r.includes(a.y3$.DeleteAdministrator),getItemName:r=>r.firstName+" "+r.lastName,bulkDelete:(r,n)=>r.administrator.deleteAdministrators(n).pipe((0,v.U)(t=>t.deleteAdministrators))}),xa=p.Ps`
    query GetAdministratorList($options: AdministratorListOptions) {
        administrators(options: $options) {
            items {
                ...AdministratorListItem
            }
            totalItems
        }
    }
    fragment AdministratorListItem on Administrator {
        id
        createdAt
        updatedAt
        firstName
        lastName
        emailAddress
        user {
            id
            identifier
            lastLogin
            roles {
                id
                createdAt
                updatedAt
                code
                description
            }
        }
    }
`;class w extends a.$ms{constructor(){super(),this.customFields=this.getCustomFieldConfig("Administrator"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"firstName",type:{kind:"text"},label:(0,d.J)("settings.first-name"),filterField:"firstName"}).addFilter({name:"lastName",type:{kind:"text"},label:(0,d.J)("settings.last-name"),filterField:"lastName"}).addFilter({name:"emailAddress",type:{kind:"text"},label:(0,d.J)("settings.email-address"),filterField:"emailAddress"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"lastName"}).addSort({name:"emailAddress"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:a.tE5,getItems:n=>n.administrators,setVariables:(n,t)=>this.createSearchQuery(n,t,this.searchTermControl.value),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}createSearchQuery(n,t,o){let i={},s=a.FnJ.AND;return o&&(i={emailAddress:{contains:o},firstName:{contains:o},lastName:{contains:o}},s=a.FnJ.OR),{options:{skip:n,take:t,filter:{...i??{},...this.filters.createFilterInput()},sort:this.sorts.createSortInput(),filterOperator:s}}}static#e=this.\u0275fac=function(t){return new(t||w)};static#t=this.\u0275cmp=e.Xpm({type:w,selectors:[["vdr-administrator-list"]],features:[e.qOj],decls:33,vars:48,consts:[["locationId","administrator-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],["id","administrator-list",1,"mt-2",3,"items","itemsPerPage","totalItems","currentPage","filters","pageChange","itemsPerPageChange"],["locationId","administrator-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","email-address",3,"heading","sort"],["id","roles",3,"heading"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[4,"ngFor","ngForOf"],[3,"customField","sorts"]],template:function(t,o){1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar"),e._UZ(2,"vdr-ab-left"),e.TgZ(3,"vdr-ab-right"),e._UZ(4,"vdr-action-bar-items",0),e.YNc(5,xt,4,5,"a",1),e.qZA()()(),e.TgZ(6,"vdr-data-table-2",2),e.NdJ("pageChange",function(s){return o.setPageNumber(s)})("itemsPerPageChange",function(s){return o.setItemsPerPage(s)}),e.ALo(7,"async"),e.ALo(8,"async"),e.ALo(9,"async"),e.ALo(10,"async"),e._UZ(11,"vdr-bulk-action-menu",3)(12,"vdr-dt2-search",4),e.ALo(13,"translate"),e.TgZ(14,"vdr-dt2-column",5),e.ALo(15,"translate"),e.YNc(16,It,1,1,"ng-template"),e.qZA(),e.TgZ(17,"vdr-dt2-column",6),e.ALo(18,"translate"),e.YNc(19,Pt,2,4,"ng-template"),e.qZA(),e.TgZ(20,"vdr-dt2-column",7),e.ALo(21,"translate"),e.YNc(22,kt,2,4,"ng-template"),e.qZA(),e.TgZ(23,"vdr-dt2-column",8),e.ALo(24,"translate"),e.YNc(25,Dt,4,5,"ng-template"),e.qZA(),e.TgZ(26,"vdr-dt2-column",9),e.ALo(27,"translate"),e.YNc(28,Jt,1,1,"ng-template"),e.qZA(),e.TgZ(29,"vdr-dt2-column",10),e.ALo(30,"translate"),e.YNc(31,Mt,1,1,"ng-template"),e.qZA(),e.YNc(32,St,1,2,"vdr-dt2-custom-field-column",11),e.qZA()),2&t&&(e.xp6(5),e.Q6J("vdrIfPermissions",e.DdM(47,Le)),e.xp6(1),e.Q6J("items",e.lcZ(7,25,o.items$))("itemsPerPage",e.lcZ(8,27,o.itemsPerPage$))("totalItems",e.lcZ(9,29,o.totalItems$))("currentPage",e.lcZ(10,31,o.currentPage$))("filters",o.filters),e.xp6(5),e.Q6J("hostComponent",o)("selectionManager",o.selectionManager),e.xp6(1),e.Q6J("searchTermControl",o.searchTermControl)("searchTermPlaceholder",e.lcZ(13,33,"catalog.filter-by-name")),e.xp6(2),e.Q6J("heading",e.lcZ(15,35,"common.id"))("hiddenByDefault",!0),e.xp6(3),e.Q6J("heading",e.lcZ(18,37,"common.created-at"))("hiddenByDefault",!0)("sort",o.sorts.get("createdAt")),e.xp6(3),e.Q6J("heading",e.lcZ(21,39,"common.updated-at"))("hiddenByDefault",!0)("sort",o.sorts.get("updatedAt")),e.xp6(3),e.Q6J("heading",e.lcZ(24,41,"common.name"))("optional",!1)("sort",o.sorts.get("lastName")),e.xp6(3),e.Q6J("heading",e.lcZ(27,43,"settings.email-address"))("sort",o.sorts.get("emailAddress")),e.xp6(3),e.Q6J("heading",e.lcZ(30,45,"settings.roles")),e.xp6(3),e.Q6J("ngForOf",o.customFields))},dependencies:[g.qvL,c.sg,y.rH,a.KkL,a.BND,a.mz,a.Ywx,a.HAh,a.WWO,a.cuf,a.eJ5,a.Up6,a.JBy,a.jrk,a.zJY,c.Ov,h.X$,a.HbD],styles:[".search-input[_ngcontent-%COMP%]{min-width:300px}"]})}const Ia=p.Ps`
    query GetChannelDetail($id: ID!) {
        channel(id: $id) {
            ...Channel
        }
    }
    ${a.J71}
`;class Q extends a.VE7{constructor(n,t,o,i,s){super(),this.serverConfigService=n,this.changeDetector=t,this.dataService=o,this.formBuilder=i,this.notificationService=s,this.DEFAULT_CHANNEL_CODE=L.z$,this.customFields=this.getCustomFieldConfig("Channel"),this.detailForm=this.formBuilder.group({code:["",l.kI.required],token:["",l.kI.required],pricesIncludeTax:[!1],availableLanguageCodes:[[]],availableCurrencyCodes:[[]],defaultCurrencyCode:[""],defaultShippingZoneId:["",l.kI.required],defaultLanguageCode:[void 0],defaultTaxZoneId:["",l.kI.required],sellerId:["",l.kI.required],customFields:this.formBuilder.group((0,a.Lrj)(this.customFields))}),this.updatePermission=[a.y3$.SuperAdmin,a.y3$.UpdateChannel,a.y3$.CreateChannel]}ngOnInit(){this.init(),this.sellers$=this.dataService.settings.getSellerList().mapSingle(n=>n.sellers.items),this.availableLanguageCodes$=this.serverConfigService.getAvailableLanguages()}ngOnDestroy(){this.destroy()}saveButtonEnabled(){return this.detailForm.dirty&&this.detailForm.valid}create(){if(!this.detailForm.dirty)return;const{code:n,token:t,defaultLanguageCode:o,pricesIncludeTax:i,defaultCurrencyCode:s,defaultShippingZoneId:m,defaultTaxZoneId:_,customFields:f,sellerId:A}=this.detailForm.value;if(!(n&&t&&o&&s&&m&&_))return;const ge={code:n,token:t,defaultLanguageCode:o,pricesIncludeTax:!!i,defaultCurrencyCode:s,defaultShippingZoneId:m,defaultTaxZoneId:_,customFields:f,sellerId:A};this.dataService.settings.createChannel(ge).pipe((0,b.z)(({createChannel:x})=>this.dataService.auth.currentUser().single$.pipe((0,v.U)(({me:be})=>({me:be,createChannel:x})))),(0,b.z)(({me:x,createChannel:be})=>this.dataService.client.updateUserChannels(x.channels).pipe((0,v.U)(()=>be)))).subscribe(x=>{switch(x.__typename){case"Channel":this.notificationService.success((0,d.J)("common.notify-create-success"),{entity:"Channel"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",x.id],{relativeTo:this.route});break;case"LanguageNotAvailableError":this.notificationService.error(x.message)}})}save(){if(!this.detailForm.dirty)return;const n=this.detailForm.value;this.entity$.pipe((0,C.q)(1),(0,b.z)(t=>{const o={id:t.id,code:n.code,token:n.token,pricesIncludeTax:n.pricesIncludeTax,availableLanguageCodes:n.availableLanguageCodes,availableCurrencyCodes:n.availableCurrencyCodes,defaultCurrencyCode:n.defaultCurrencyCode,defaultShippingZoneId:n.defaultShippingZoneId,defaultLanguageCode:n.defaultLanguageCode,defaultTaxZoneId:n.defaultTaxZoneId,customFields:n.customFields,sellerId:n.sellerId};return this.dataService.settings.updateChannel(o)})).subscribe(({updateChannel:t})=>{switch(t.__typename){case"Channel":this.notificationService.success((0,d.J)("common.notify-update-success"),{entity:"Channel"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck();break;case"LanguageNotAvailableError":this.notificationService.error(t.message)}})}setFormValues(n,t){if(this.detailForm.patchValue({code:n.code,token:n.token||this.generateToken(),pricesIncludeTax:n.pricesIncludeTax,availableLanguageCodes:n.availableLanguageCodes,availableCurrencyCodes:n.availableCurrencyCodes,defaultCurrencyCode:n.defaultCurrencyCode,defaultShippingZoneId:n.defaultShippingZone?.id??"",defaultLanguageCode:n.defaultLanguageCode,defaultTaxZoneId:n.defaultTaxZone?.id??"",sellerId:n.seller?.id??""}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get(["customFields"]),n),n.code===L.z$){const o=this.detailForm.get("code");o&&o.disable()}}generateToken(){return Array.from(crypto.getRandomValues(new Uint8Array(10))).map(n=>n.toString(16).padStart(2,"0")).join("")}static#e=this.\u0275fac=function(t){return new(t||Q)(e.Y36(a.iHG),e.Y36(e.sBO),e.Y36(a.DoR),e.Y36(l.qu),e.Y36(a.gqp))};static#t=this.\u0275cmp=e.Xpm({type:Q,selectors:[["vdr-channel-detail"]],features:[e.qOj],decls:69,vars:74,consts:[["locationId","channel-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["class","form-grid-span","for","code",3,"label",4,"ngIf"],["class","form-grid-span",3,"label",4,"ngIf"],["for","token",3,"label"],["id","token","type","text","formControlName","token",3,"readonly"],["for","sellerId",3,"label"],["name","sellerId","formControlName","sellerId",3,"vdrDisabled"],["selected","","value","",2,"display","none"],[3,"value",4,"ngFor","ngForOf"],["for","availableLanguageCodes",3,"label"],["formControlName","availableLanguageCodes",3,"languageCodes"],["for","availableCurrencyCodes",3,"label"],["formControlName","availableCurrencyCodes"],[3,"title"],["for","defaultTaxZoneId",3,"label"],["name","defaultCurrencyCode","formControlName","defaultCurrencyCode",3,"vdrDisabled"],["for","defaultLanguage",3,"label"],["name","defaultLanguageCode","formControlName","defaultLanguageCode",3,"vdrDisabled"],["formControlName","defaultTaxZoneId",3,"vdrDisabled"],["clrAlertType","danger",3,"clrAlertClosable",4,"ngIf"],["for","defaultShippingZoneId",3,"label"],["name","defaultShippingZoneId","formControlName","defaultShippingZoneId",3,"vdrDisabled"],["clrAlertType","warning",3,"clrAlertClosable",4,"ngIf"],["for","pricesIncludeTax",3,"label"],["type","checkbox","clrToggle","","id","pricesIncludeTax","formControlName","pricesIncludeTax",3,"vdrDisabled"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","channel-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["for","code",1,"form-grid-span",3,"label"],["id","code","type","text","formControlName","code",3,"readonly"],[1,"form-grid-span",3,"label"],[3,"value"],["clrAlertType","danger",3,"clrAlertClosable"],[1,"alert-text"],["clrAlertType","warning",3,"clrAlertClosable"],["formGroupName","customFields",3,"title"],["entityName","Channel",3,"customFields","customFieldsFormGroup"]],template:function(t,o){if(1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar"),e._UZ(2,"vdr-ab-left"),e.TgZ(3,"vdr-ab-right"),e._UZ(4,"vdr-action-bar-items",0),e.YNc(5,qt,3,4,"button",1),e.ALo(6,"async"),e.YNc(7,wt,1,2,"ng-template",null,2,e.W1O),e.qZA()()(),e.TgZ(9,"form",3)(10,"vdr-page-detail-layout")(11,"vdr-page-detail-sidebar"),e.YNc(12,Qt,2,1,"vdr-card",4),e.ALo(13,"async"),e.qZA(),e.TgZ(14,"vdr-page-block")(15,"vdr-card")(16,"div",5),e.YNc(17,Ut,4,6,"vdr-form-field",6),e.YNc(18,Rt,5,8,"vdr-form-item",7),e.TgZ(19,"vdr-form-field",8),e.ALo(20,"translate"),e._UZ(21,"input",9),e.ALo(22,"hasPermission"),e.qZA(),e.TgZ(23,"vdr-form-field",10),e.ALo(24,"translate"),e.TgZ(25,"select",11),e.ALo(26,"hasPermission"),e._UZ(27,"option",12),e.YNc(28,Bt,2,2,"option",13),e.ALo(29,"async"),e.qZA()(),e.TgZ(30,"vdr-form-field",14),e.ALo(31,"translate"),e._UZ(32,"vdr-language-code-selector",15),e.ALo(33,"async"),e.qZA(),e.TgZ(34,"vdr-form-field",16),e.ALo(35,"translate"),e._UZ(36,"vdr-currency-code-selector",17),e.qZA()()(),e.TgZ(37,"vdr-card",18),e.ALo(38,"translate"),e.TgZ(39,"div",5)(40,"vdr-form-field",19),e.ALo(41,"translate"),e.TgZ(42,"select",20),e.ALo(43,"hasPermission"),e.YNc(44,Yt,3,4,"option",13),e.qZA()(),e.TgZ(45,"vdr-form-field",21),e.ALo(46,"translate"),e.TgZ(47,"select",22),e.ALo(48,"hasPermission"),e.YNc(49,Et,4,7,"option",13),e.qZA()(),e.TgZ(50,"div")(51,"vdr-form-field",19),e.ALo(52,"translate"),e._UZ(53,"vdr-zone-selector",23),e.ALo(54,"hasPermission"),e.qZA(),e.YNc(55,Gt,5,4,"clr-alert",24),e.qZA(),e.TgZ(56,"div")(57,"vdr-form-field",25),e.ALo(58,"translate"),e._UZ(59,"vdr-zone-selector",26),e.ALo(60,"hasPermission"),e.qZA(),e.YNc(61,zt,5,4,"clr-alert",27),e.qZA(),e.TgZ(62,"vdr-form-field",28),e.ALo(63,"translate"),e.TgZ(64,"clr-toggle-wrapper"),e._UZ(65,"input",29),e.ALo(66,"hasPermission"),e.qZA()()()(),e.YNc(67,jt,3,5,"vdr-card",30),e._UZ(68,"vdr-custom-detail-component-host",31),e.qZA()()()),2&t){const i=e.MAs(8);e.xp6(5),e.Q6J("ngIf",e.lcZ(6,32,o.isNew$))("ngIfElse",i),e.xp6(4),e.Q6J("formGroup",o.detailForm),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,34,o.entity$)),e.xp6(5),e.Q6J("ngIf",(null==o.entity?null:o.entity.code)!==o.DEFAULT_CHANNEL_CODE),e.xp6(1),e.Q6J("ngIf",(null==o.entity?null:o.entity.code)===o.DEFAULT_CHANNEL_CODE),e.xp6(1),e.Q6J("label",e.lcZ(20,36,"settings.channel-token")),e.xp6(2),e.Q6J("readonly",!e.lcZ(22,38,o.updatePermission)),e.xp6(2),e.Q6J("label",e.lcZ(24,40,"common.seller")),e.xp6(2),e.Q6J("vdrDisabled",!e.lcZ(26,42,o.updatePermission)),e.xp6(3),e.Q6J("ngForOf",e.lcZ(29,44,o.sellers$)),e.xp6(2),e.Q6J("label",e.lcZ(31,46,"common.available-languages")),e.xp6(2),e.Q6J("languageCodes",e.lcZ(33,48,o.availableLanguageCodes$)),e.xp6(2),e.Q6J("label",e.lcZ(35,50,"common.available-currencies")),e.xp6(3),e.Q6J("title",e.lcZ(38,52,"settings.defaults")),e.xp6(3),e.Q6J("label",e.lcZ(41,54,"settings.default-currency")),e.xp6(2),e.Q6J("vdrDisabled",!e.lcZ(43,56,o.updatePermission)),e.xp6(2),e.Q6J("ngForOf",o.detailForm.value.availableCurrencyCodes),e.xp6(1),e.Q6J("label",e.lcZ(46,58,"common.default-language")),e.xp6(2),e.Q6J("vdrDisabled",!e.lcZ(48,60,o.updatePermission)),e.xp6(2),e.Q6J("ngForOf",o.detailForm.value.availableLanguageCodes),e.xp6(2),e.Q6J("label",e.lcZ(52,62,"settings.default-tax-zone")),e.xp6(2),e.Q6J("vdrDisabled",!e.lcZ(54,64,o.updatePermission)),e.xp6(2),e.Q6J("ngIf",o.detailForm.value.code&&!o.detailForm.value.defaultTaxZoneId),e.xp6(2),e.Q6J("label",e.lcZ(58,66,"settings.default-shipping-zone")),e.xp6(2),e.Q6J("vdrDisabled",!e.lcZ(60,68,o.updatePermission)),e.xp6(2),e.Q6J("ngIf",o.detailForm.value.code&&!o.detailForm.value.defaultShippingZoneId),e.xp6(1),e.Q6J("label",e.lcZ(63,70,"settings.prices-include-tax")),e.xp6(3),e.Q6J("vdrDisabled",!e.lcZ(66,72,o.updatePermission)),e.xp6(2),e.Q6J("ngIf",o.customFields.length),e.xp6(1),e.Q6J("entity$",o.entity$)("detailForm",o.detailForm)}},dependencies:[g.TIm,g.CyW,g.I9z,g.KKC,g.PEh,c.sg,c.O5,l._Y,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.JL,l.sg,l.u,l.x0,a.KkL,a.BND,a.mz,a.hgI,a.y_K,a.Jpf,a.HAh,a.WWO,a.x3T,a.yc0,a.CWh,a.zJY,a.DME,a.TeL,a.W1W,a.AkF,a.An2,a.HCd,a.DEN,c.Ov,c.gd,h.X$,a.uDH,a.j$k,a.E6B,a.Bm],styles:["clr-alert[_ngcontent-%COMP%]{max-width:30rem;margin-bottom:12px}"],changeDetection:0})}const xe=(0,a.wwB)({location:"channel-list",requiresPermission:r=>r.includes(a.y3$.SuperAdmin)||r.includes(a.y3$.DeleteChannel),getItemName:r=>r.code,bulkDelete:(r,n)=>r.settings.deleteChannels(n).pipe((0,b.z)(({deleteChannels:t})=>r.auth.currentUser().single$.pipe((0,v.U)(({me:o})=>({me:o,deleteChannels:t})))),(0,b.z)(({me:t,deleteChannels:o})=>r.client.updateUserChannels(t.channels).pipe((0,v.U)(()=>o))))}),Pa=p.Ps`
    query GetChannelList($options: ChannelListOptions) {
        channels(options: $options) {
            items {
                ...Channel
            }
            totalItems
        }
    }
    ${a.J71}
`;class U extends a.$ms{constructor(){super(),this.customFields=this.getCustomFieldConfig("Channel"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"code",type:{kind:"text"},label:(0,d.J)("common.code"),filterField:"code"}).addFilter({name:"token",type:{kind:"text"},label:(0,d.J)("settings.channel-token"),filterField:"token"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"code"}).addSort({name:"token"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:a.zax,getItems:n=>n.channels,setVariables:(n,t)=>({options:{skip:n,take:t,filter:{code:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}isDefaultChannel(n){return n===L.z$}static#e=this.\u0275fac=function(t){return new(t||U)};static#t=this.\u0275cmp=e.Xpm({type:U,selectors:[["vdr-channel-list"]],features:[e.qOj],decls:30,vars:45,consts:[["locationId","channel-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],["id","channel-list",1,"mt-2",3,"items","itemsPerPage","totalItems","currentPage","filters","pageChange","itemsPerPageChange"],["locationId","channel-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","code",3,"heading","optional","sort"],["id","channel-token",3,"heading","sort"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[3,"customField","sorts"]],template:function(t,o){1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar"),e._UZ(2,"vdr-ab-left"),e.TgZ(3,"vdr-ab-right"),e._UZ(4,"vdr-action-bar-items",0),e.YNc(5,Ht,4,5,"a",1),e.qZA()()(),e.TgZ(6,"vdr-data-table-2",2),e.NdJ("pageChange",function(s){return o.setPageNumber(s)})("itemsPerPageChange",function(s){return o.setItemsPerPage(s)}),e.ALo(7,"async"),e.ALo(8,"async"),e.ALo(9,"async"),e.ALo(10,"async"),e._UZ(11,"vdr-bulk-action-menu",3)(12,"vdr-dt2-search",4),e.ALo(13,"translate"),e.TgZ(14,"vdr-dt2-column",5),e.ALo(15,"translate"),e.YNc(16,Vt,1,1,"ng-template"),e.qZA(),e.TgZ(17,"vdr-dt2-column",6),e.ALo(18,"translate"),e.YNc(19,Kt,2,4,"ng-template"),e.qZA(),e.TgZ(20,"vdr-dt2-column",7),e.ALo(21,"translate"),e.YNc(22,Wt,2,4,"ng-template"),e.qZA(),e.TgZ(23,"vdr-dt2-column",8),e.ALo(24,"translate"),e.YNc(25,Xt,6,8,"ng-template"),e.qZA(),e.TgZ(26,"vdr-dt2-column",9),e.ALo(27,"translate"),e.YNc(28,en,1,1,"ng-template"),e.qZA(),e.YNc(29,tn,1,2,"vdr-dt2-custom-field-column",10),e.qZA()),2&t&&(e.xp6(5),e.Q6J("vdrIfPermissions",e.DdM(44,nn)),e.xp6(1),e.Q6J("items",e.lcZ(7,24,o.items$))("itemsPerPage",e.lcZ(8,26,o.itemsPerPage$))("totalItems",e.lcZ(9,28,o.totalItems$))("currentPage",e.lcZ(10,30,o.currentPage$))("filters",o.filters),e.xp6(5),e.Q6J("hostComponent",o)("selectionManager",o.selectionManager),e.xp6(1),e.Q6J("searchTermControl",o.searchTermControl)("searchTermPlaceholder",e.lcZ(13,32,"catalog.filter-by-name")),e.xp6(2),e.Q6J("heading",e.lcZ(15,34,"common.id"))("hiddenByDefault",!0),e.xp6(3),e.Q6J("heading",e.lcZ(18,36,"common.created-at"))("hiddenByDefault",!0)("sort",o.sorts.get("createdAt")),e.xp6(3),e.Q6J("heading",e.lcZ(21,38,"common.updated-at"))("hiddenByDefault",!0)("sort",o.sorts.get("updatedAt")),e.xp6(3),e.Q6J("heading",e.lcZ(24,40,"common.code"))("optional",!1)("sort",o.sorts.get("code")),e.xp6(3),e.Q6J("heading",e.lcZ(27,42,"settings.channel-token"))("sort",o.sorts.get("token")),e.xp6(3),e.Q6J("ngForOf",o.customFields))},dependencies:[g.qvL,c.sg,y.rH,a.KkL,a.BND,a.mz,a.HAh,a.WWO,a.cuf,a.eJ5,a.Up6,a.JBy,a.jrk,a.zJY,c.Ov,h.X$,a.E6B,a.HbD],changeDetection:0})}const ka=p.Ps`
    query GetCountryDetail($id: ID!) {
        country(id: $id) {
            ...Country
        }
    }
    ${a.fn3}
`;class R extends a.VE7{constructor(n,t,o,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=o,this.notificationService=i,this.customFields=this.getCustomFieldConfig("Region"),this.detailForm=this.formBuilder.group({code:["",l.kI.required],name:["",l.kI.required],enabled:[!0],customFields:this.formBuilder.group((0,a.Lrj)(this.customFields))}),this.updatePermission=[a.y3$.UpdateSettings,a.y3$.UpdateCountry]}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}create(){if(!this.detailForm.dirty)return;const n=this.detailForm.value,t=(0,a.iSy)({translatable:{id:"",createdAt:"",updatedAt:"",code:"",name:"",enabled:!1,translations:[]},updatedFields:n,languageCode:this.languageCode,customFieldConfig:this.customFields,defaultTranslation:{name:n.name??"",languageCode:this.languageCode}});this.dataService.settings.createCountry(t).subscribe(o=>{this.notificationService.success((0,d.J)("common.notify-create-success"),{entity:"Country"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",o.createCountry.id],{relativeTo:this.route})},o=>{this.notificationService.error((0,d.J)("common.notify-create-error"),{entity:"Country"})})}save(){(0,I.a)(this.entity$,this.languageCode$).pipe((0,C.q)(1),(0,b.z)(([n,t])=>{const o=this.detailForm.value,i=(0,a.iSy)({translatable:n,updatedFields:o,customFieldConfig:this.customFields,languageCode:t,defaultTranslation:{name:o.name??"",languageCode:t}});return this.dataService.settings.updateCountry(i)})).subscribe(n=>{this.notificationService.success((0,d.J)("common.notify-update-success"),{entity:"Country"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},n=>{this.notificationService.error((0,d.J)("common.notify-update-error"),{entity:"Country"})})}setFormValues(n,t){const o=(0,a.ZIM)(n,t);this.detailForm.patchValue({code:n.code,name:o?o.name:"",enabled:n.enabled}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get(["customFields"]),n,o)}static#e=this.\u0275fac=function(t){return new(t||R)(e.Y36(e.sBO),e.Y36(a.DoR),e.Y36(l.qu),e.Y36(a.gqp))};static#t=this.\u0275cmp=e.Xpm({type:R,selectors:[["vdr-country-detail"]],features:[e.qOj],decls:37,vars:38,consts:[[3,"disabled","availableLanguageCodes","currentLanguageCode","languageCodeChange"],["locationId","country-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],["for","enabled",3,"label"],["type","checkbox","clrToggle","","id","enabled","formControlName","enabled",3,"vdrDisabled"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["for","code",3,"label"],["id","code","type","text","formControlName","code",3,"readonly"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","country-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["formGroupName","customFields",3,"title"],["entityName","Region",3,"customFields","customFieldsFormGroup"]],template:function(t,o){if(1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",0),e.NdJ("languageCodeChange",function(s){return o.setLanguage(s)}),e.ALo(4,"async"),e.ALo(5,"async"),e.ALo(6,"async"),e.qZA()(),e.TgZ(7,"vdr-ab-right"),e._UZ(8,"vdr-action-bar-items",1),e.YNc(9,rn,3,4,"button",2),e.ALo(10,"async"),e.YNc(11,an,1,1,"ng-template",null,3,e.W1O),e.qZA()()(),e.TgZ(13,"form",4)(14,"vdr-page-detail-layout")(15,"vdr-page-detail-sidebar")(16,"vdr-card")(17,"vdr-form-field",5),e.ALo(18,"translate"),e.TgZ(19,"clr-toggle-wrapper"),e._UZ(20,"input",6),e.ALo(21,"hasPermission"),e.qZA()()(),e.YNc(22,sn,2,1,"vdr-card",7),e.ALo(23,"async"),e.qZA(),e.TgZ(24,"vdr-page-block")(25,"vdr-card")(26,"div",8)(27,"vdr-form-field",9),e.ALo(28,"translate"),e._UZ(29,"input",10),e.ALo(30,"hasPermission"),e.qZA(),e.TgZ(31,"vdr-form-field",11),e.ALo(32,"translate"),e._UZ(33,"input",12),e.ALo(34,"hasPermission"),e.qZA()()(),e.YNc(35,ln,3,5,"vdr-card",13),e._UZ(36,"vdr-custom-detail-component-host",14),e.qZA()()()),2&t){const i=e.MAs(12);e.xp6(3),e.Q6J("disabled",e.lcZ(4,16,o.isNew$))("availableLanguageCodes",e.lcZ(5,18,o.availableLanguages$))("currentLanguageCode",e.lcZ(6,20,o.languageCode$)),e.xp6(6),e.Q6J("ngIf",e.lcZ(10,22,o.isNew$))("ngIfElse",i),e.xp6(4),e.Q6J("formGroup",o.detailForm),e.xp6(4),e.Q6J("label",e.lcZ(18,24,"common.enabled")),e.xp6(3),e.Q6J("vdrDisabled",!e.lcZ(21,26,o.updatePermission)),e.xp6(2),e.Q6J("ngIf",e.lcZ(23,28,o.entity$)),e.xp6(5),e.Q6J("label",e.lcZ(28,30,"common.name")),e.xp6(2),e.Q6J("readonly",!e.lcZ(30,32,o.updatePermission)),e.xp6(2),e.Q6J("label",e.lcZ(32,34,"common.code")),e.xp6(2),e.Q6J("readonly",!e.lcZ(34,36,o.updatePermission)),e.xp6(2),e.Q6J("ngIf",o.customFields.length),e.xp6(1),e.Q6J("entity$",o.entity$)("detailForm",o.detailForm)}},dependencies:[g.KKC,g.PEh,c.O5,l._Y,l.Fj,l.Wl,l.JJ,l.JL,l.sg,l.u,l.x0,a.KkL,a.BND,a.mz,a.hgI,a.y_K,a.SdP,a.HAh,a.WWO,a.x3T,a.yc0,a.CWh,a.zJY,a.DME,a.TeL,a.W1W,a.AkF,c.Ov,h.X$,a.j$k],changeDetection:0})}const Ie=(0,a.wwB)({location:"country-list",requiresPermission:r=>r.includes(a.y3$.DeleteSettings)||r.includes(a.y3$.DeleteCountry),getItemName:r=>r.name,bulkDelete:(r,n)=>r.settings.deleteCountries(n).pipe((0,v.U)(t=>t.deleteCountries))}),Da=p.Ps`
    query GetCountryList($options: CountryListOptions) {
        countries(options: $options) {
            items {
                ...CountryListItem
            }
            totalItems
        }
    }
    fragment CountryListItem on Country {
        id
        createdAt
        updatedAt
        code
        name
        type
        enabled
    }
`;class B extends a.$ms{constructor(){super(),this.customFields=this.getCustomFieldConfig("Region"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"name",type:{kind:"text"},label:(0,d.J)("common.name"),filterField:"name"}).addFilter({name:"code",type:{kind:"text"},label:(0,d.J)("common.code"),filterField:"code"}).addFilter({name:"enabled",type:{kind:"boolean"},label:(0,d.J)("common.enabled"),filterField:"enabled"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("name","ASC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addSort({name:"code"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:a.p6B,getItems:n=>n.countries,setVariables:(n,t)=>({options:{skip:n,take:t,filter:{name:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}static#e=this.\u0275fac=function(t){return new(t||B)};static#t=this.\u0275cmp=e.Xpm({type:B,selectors:[["vdr-country-list"]],features:[e.qOj],decls:36,vars:54,consts:[[3,"availableLanguageCodes","currentLanguageCode","languageCodeChange"],["locationId","country-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],["id","country-list",1,"mt-2",3,"items","itemsPerPage","totalItems","currentPage","filters","pageChange","itemsPerPageChange"],["locationId","country-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","code",3,"heading","sort"],["id","enabled",3,"heading"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],["colorType","success",4,"ngIf"],["colorType","warning",4,"ngIf"],["colorType","success"],["colorType","warning"],[3,"customField","sorts"]],template:function(t,o){1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",0),e.NdJ("languageCodeChange",function(s){return o.setLanguage(s)}),e.ALo(4,"async"),e.ALo(5,"async"),e.qZA()(),e.TgZ(6,"vdr-ab-right"),e._UZ(7,"vdr-action-bar-items",1),e.YNc(8,dn,4,5,"a",2),e.qZA()()(),e.TgZ(9,"vdr-data-table-2",3),e.NdJ("pageChange",function(s){return o.setPageNumber(s)})("itemsPerPageChange",function(s){return o.setItemsPerPage(s)}),e.ALo(10,"async"),e.ALo(11,"async"),e.ALo(12,"async"),e.ALo(13,"async"),e._UZ(14,"vdr-bulk-action-menu",4)(15,"vdr-dt2-search",5),e.ALo(16,"translate"),e.TgZ(17,"vdr-dt2-column",6),e.ALo(18,"translate"),e.YNc(19,cn,1,1,"ng-template"),e.qZA(),e.TgZ(20,"vdr-dt2-column",7),e.ALo(21,"translate"),e.YNc(22,mn,2,4,"ng-template"),e.qZA(),e.TgZ(23,"vdr-dt2-column",8),e.ALo(24,"translate"),e.YNc(25,un,2,4,"ng-template"),e.qZA(),e.TgZ(26,"vdr-dt2-column",9),e.ALo(27,"translate"),e.YNc(28,pn,4,4,"ng-template"),e.qZA(),e.TgZ(29,"vdr-dt2-column",10),e.ALo(30,"translate"),e.YNc(31,gn,1,1,"ng-template"),e.qZA(),e.TgZ(32,"vdr-dt2-column",11),e.ALo(33,"translate"),e.YNc(34,vn,2,2,"ng-template"),e.qZA(),e.YNc(35,_n,1,2,"vdr-dt2-custom-field-column",12),e.qZA()),2&t&&(e.xp6(3),e.Q6J("availableLanguageCodes",e.lcZ(4,27,o.availableLanguages$))("currentLanguageCode",e.lcZ(5,29,o.contentLanguage$)),e.xp6(5),e.Q6J("vdrIfPermissions",e.DdM(53,bn)),e.xp6(1),e.Q6J("items",e.lcZ(10,31,o.items$))("itemsPerPage",e.lcZ(11,33,o.itemsPerPage$))("totalItems",e.lcZ(12,35,o.totalItems$))("currentPage",e.lcZ(13,37,o.currentPage$))("filters",o.filters),e.xp6(5),e.Q6J("hostComponent",o)("selectionManager",o.selectionManager),e.xp6(1),e.Q6J("searchTermControl",o.searchTermControl)("searchTermPlaceholder",e.lcZ(16,39,"catalog.filter-by-name")),e.xp6(2),e.Q6J("heading",e.lcZ(18,41,"common.id"))("hiddenByDefault",!0),e.xp6(3),e.Q6J("heading",e.lcZ(21,43,"common.created-at"))("hiddenByDefault",!0)("sort",o.sorts.get("createdAt")),e.xp6(3),e.Q6J("heading",e.lcZ(24,45,"common.updated-at"))("hiddenByDefault",!0)("sort",o.sorts.get("updatedAt")),e.xp6(3),e.Q6J("heading",e.lcZ(27,47,"common.name"))("optional",!1)("sort",o.sorts.get("name")),e.xp6(3),e.Q6J("heading",e.lcZ(30,49,"common.code"))("sort",o.sorts.get("code")),e.xp6(3),e.Q6J("heading",e.lcZ(33,51,"common.enabled")),e.xp6(3),e.Q6J("ngForOf",o.customFields))},dependencies:[g.qvL,c.sg,c.O5,y.rH,a.KkL,a.BND,a.mz,a.Ywx,a.SdP,a.HAh,a.WWO,a.cuf,a.eJ5,a.Up6,a.JBy,a.jrk,a.zJY,c.Ov,h.X$,a.HbD],styles:[".search-input[_ngcontent-%COMP%]{margin-top:6px;min-width:300px}"],changeDetection:0})}const Ja=p.Ps`
    query GetGlobalSettingsDetail {
        globalSettings {
            ...GlobalSettingsDetail
        }
    }
    fragment GlobalSettingsDetail on GlobalSettings {
        id
        createdAt
        updatedAt
        availableLanguages
        trackInventory
        outOfStockThreshold
    }
`;class Y extends a.VE7{constructor(n,t,o,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=o,this.notificationService=i,this.customFields=this.getCustomFieldConfig("GlobalSettings"),this.detailForm=this.formBuilder.group({availableLanguages:[[]],trackInventory:!1,outOfStockThreshold:[0,l.kI.required],customFields:this.formBuilder.group((0,a.Lrj)(this.customFields))}),this.languageCodes=Object.values(a.spR),this.updatePermission=[a.y3$.UpdateSettings,a.y3$.UpdateGlobalSettings]}ngOnInit(){this.init(),this.dataService.client.userStatus().single$.subscribe(({userStatus:n})=>{if(!n.permissions.includes(a.y3$.UpdateSettings)){const t=this.detailForm.get("availableLanguages");t&&t.disable()}})}ngOnDestroy(){this.destroy()}save(){this.detailForm.dirty&&this.dataService.settings.updateGlobalSettings(this.detailForm.value).pipe((0,Ae.b)(({updateGlobalSettings:n})=>{switch(n.__typename){case"GlobalSettings":this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.notificationService.success((0,d.J)("common.notify-update-success"),{entity:"Settings"});break;case"ChannelDefaultLanguageError":this.notificationService.error(n.message)}}),(0,N.w)(()=>this.serverConfigService.refreshGlobalSettings()),Ze(this.dataService.client.uiState().single$)).subscribe(([{globalSettings:n},{uiState:t}])=>{const o=n.availableLanguages;o.length&&!o.includes(t.contentLanguage)&&this.dataService.client.setContentLanguage(o[0]).subscribe()})}setFormValues(n,t){this.detailForm.patchValue({availableLanguages:n.availableLanguages,trackInventory:n.trackInventory,outOfStockThreshold:n.outOfStockThreshold}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),n)}static#e=this.\u0275fac=function(t){return new(t||Y)(e.Y36(e.sBO),e.Y36(a.DoR),e.Y36(l.qu),e.Y36(a.gqp))};static#t=this.\u0275cmp=e.Xpm({type:Y,selectors:[["vdr-global-settings"]],features:[e.qOj],decls:26,vars:30,consts:[["locationId","global-settings-detail"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[1,"form",3,"formGroup"],[1,"form-grid"],["for","availableLanguages",3,"label","tooltip"],["formControlName","availableLanguages",3,"languageCodes"],["for","outOfStockThreshold",3,"label","tooltip"],["id","outOfStockThreshold","type","number","formControlName","outOfStockThreshold",3,"readonly"],["for","enabled",3,"label","tooltip"],["type","checkbox","clrToggle","","name","enabled","formControlName","trackInventory",3,"vdrDisabled"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","global-settings-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"disabled","click"],["formGroupName","customFields",3,"title"],["entityName","GlobalSettings",3,"customFields","customFieldsFormGroup","readonly"]],template:function(t,o){1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-right"),e._UZ(3,"vdr-action-bar-items",0),e.YNc(4,yn,3,4,"button",1),e.qZA()()(),e.TgZ(5,"form",2)(6,"vdr-page-block")(7,"vdr-card")(8,"div",3)(9,"vdr-form-field",4),e.ALo(10,"translate"),e.ALo(11,"translate"),e._UZ(12,"vdr-language-code-selector",5),e.qZA(),e.TgZ(13,"vdr-form-field",6),e.ALo(14,"translate"),e.ALo(15,"translate"),e._UZ(16,"input",7),e.ALo(17,"hasPermission"),e.qZA(),e.TgZ(18,"vdr-form-field",8),e.ALo(19,"translate"),e.ALo(20,"translate"),e.TgZ(21,"clr-toggle-wrapper"),e._UZ(22,"input",9),e.ALo(23,"hasPermission"),e.qZA()()()(),e.YNc(24,Cn,4,8,"vdr-card",10),e._UZ(25,"vdr-custom-detail-component-host",11),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("vdrIfPermissions",o.updatePermission),e.xp6(1),e.Q6J("formGroup",o.detailForm),e.xp6(4),e.Q6J("label",e.lcZ(10,14,"common.available-languages"))("tooltip",e.lcZ(11,16,"settings.global-available-languages-tooltip")),e.xp6(3),e.Q6J("languageCodes",o.languageCodes),e.xp6(1),e.Q6J("label",e.lcZ(14,18,"settings.global-out-of-stock-threshold"))("tooltip",e.lcZ(15,20,"settings.global-out-of-stock-threshold-tooltip")),e.xp6(3),e.Q6J("readonly",!e.lcZ(17,22,o.updatePermission)),e.xp6(2),e.Q6J("label",e.lcZ(19,24,"settings.track-inventory-default"))("tooltip",e.lcZ(20,26,"catalog.track-inventory-tooltip")),e.xp6(4),e.Q6J("vdrDisabled",!e.lcZ(23,28,o.updatePermission)),e.xp6(2),e.Q6J("ngIf",o.customFields.length),e.xp6(1),e.Q6J("entity$",o.entity$)("detailForm",o.detailForm))},dependencies:[g.KKC,g.PEh,c.O5,l._Y,l.Fj,l.wV,l.Wl,l.JJ,l.JL,l.sg,l.u,l.x0,a.KkL,a.mz,a.hgI,a.y_K,a.HAh,a.WWO,a.x3T,a.yc0,a.CWh,a.zJY,a.AkF,a.DEN,h.X$,a.j$k],styles:["ng-select .ng-value>span{margin:0!important}  ng-select .ng-arrow-wrapper .ng-arrow{margin:0!important}  ng-select .ng-select-container>span{margin:0!important}"],changeDetection:0})}const Na=p.Ps`
    query GetPaymentMethodDetail($id: ID!) {
        paymentMethod(id: $id) {
            ...PaymentMethod
        }
    }
    ${a.tRw}
`;class E extends a.VE7{constructor(n,t,o,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=o,this.notificationService=i,this.customFields=this.getCustomFieldConfig("PaymentMethod"),this.detailForm=this.formBuilder.group({code:["",l.kI.required],name:["",l.kI.required],description:"",enabled:[!0,l.kI.required],checker:{},handler:{},customFields:this.formBuilder.group((0,a.Lrj)(this.customFields))}),this.checkers=[],this.handlers=[],this.updatePermission=[a.y3$.UpdateSettings,a.y3$.UpdatePaymentMethod]}ngOnInit(){this.init(),this.dataService.settings.getPaymentMethodOperations().single$.subscribe(n=>{this.checkers=n.paymentMethodEligibilityCheckers,this.handlers=n.paymentMethodHandlers,this.changeDetector.markForCheck(),this.selectedCheckerDefinition=n.paymentMethodEligibilityCheckers.find(t=>t.code===this.entity?.checker?.code),this.selectedHandlerDefinition=n.paymentMethodHandlers.find(t=>t.code===this.entity?.handler?.code)})}ngOnDestroy(){this.destroy()}updateCode(n,t){if(!n){const o=this.detailForm.get("code");o&&o.pristine&&o.setValue((0,fe.U)(t,"-"))}}selectChecker(n){this.selectedCheckerDefinition=n,this.selectedChecker=(0,a.miO)(n);const t=this.detailForm.get("checker");t&&(t.clearValidators(),t.updateValueAndValidity({onlySelf:!0}),t.patchValue(this.selectedChecker)),this.detailForm.markAsDirty()}selectHandler(n){this.selectedHandlerDefinition=n,this.selectedHandler=(0,a.miO)(n);const t=this.detailForm.get("handler");t&&(t.clearValidators(),t.updateValueAndValidity({onlySelf:!0}),t.patchValue(this.selectedHandler)),this.detailForm.markAsDirty()}removeChecker(){this.selectedChecker=null,this.detailForm.markAsDirty()}removeHandler(){this.selectedHandler=null,this.detailForm.markAsDirty()}create(){const n=this.selectedChecker,t=this.selectedHandler;if(!t)return;const o=this.getUpdatedPaymentMethod({id:"",createdAt:"",updatedAt:"",name:"",code:"",description:"",enabled:!0,checker:void 0,handler:void 0,translations:[]},this.detailForm,this.languageCode,t,n);this.dataService.settings.createPaymentMethod(o).subscribe(i=>{this.notificationService.success((0,d.J)("common.notify-create-success"),{entity:"PaymentMethod"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",i.createPaymentMethod.id],{relativeTo:this.route})},i=>{this.notificationService.error((0,d.J)("common.notify-create-error"),{entity:"PaymentMethod"})})}save(){const n=this.selectedChecker,t=this.selectedHandler;t&&(0,I.a)(this.entity$,this.languageCode$).pipe((0,C.q)(1),(0,b.z)(([o,i])=>{const s=this.getUpdatedPaymentMethod(o,this.detailForm,i,t,n);return this.dataService.settings.updatePaymentMethod(s)})).subscribe(o=>{this.notificationService.success((0,d.J)("common.notify-update-success"),{entity:"PaymentMethod"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},o=>{this.notificationService.error((0,d.J)("common.notify-update-error"),{entity:"PaymentMethod"})})}getUpdatedPaymentMethod(n,t,o,i,s){return{...(0,a.iSy)({translatable:n,updatedFields:t.value,customFieldConfig:this.customFields,languageCode:o,defaultTranslation:{languageCode:o,name:n.name||"",description:n.description||""}}),checker:s?(0,a.RnJ)(s,t.value.checker):null,handler:(0,a.RnJ)(i,t.value.handler)}}setFormValues(n,t){const o=(0,a.ZIM)(n,t);this.detailForm.patchValue({name:o?.name,code:n.code,description:o?.description,enabled:n.enabled,checker:n.checker||{},handler:n.handler||{}}),this.selectedChecker||(this.selectedChecker=n.checker&&{code:n.checker.code,args:n.checker.args.map(i=>({...i,value:(0,a.sux)(i.value)}))}),this.selectedHandler||(this.selectedHandler=n.handler&&{code:n.handler.code,args:n.handler.args.map(i=>({...i,value:(0,a.sux)(i.value)}))}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),n,o)}static#e=this.\u0275fac=function(t){return new(t||E)(e.Y36(e.sBO),e.Y36(a.DoR),e.Y36(l.qu),e.Y36(a.gqp))};static#t=this.\u0275cmp=e.Xpm({type:E,selectors:[["vdr-payment-method-detail"]],features:[e.qOj],decls:49,vars:57,consts:[[3,"disabled","availableLanguageCodes","currentLanguageCode","languageCodeChange"],["locationId","payment-method-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],["for","description",3,"label"],["type","checkbox","clrToggle","","id","enabled","formControlName","enabled",3,"vdrDisabled"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly","input"],["for","code",3,"label","readOnlyToggle"],["id","code","type","text","formControlName","code",3,"readonly"],["formControlName","description",1,"form-grid-span",3,"readonly","label"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","payment-method-detail",3,"entity$","detailForm"],[3,"title"],["formControlName","checker",3,"operation","operationDefinition","readonly","remove",4,"ngIf"],["formControlName","handler",3,"operation","operationDefinition","readonly","remove",4,"ngIf"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["formGroupName","customFields",3,"title"],["entityName","PaymentMethod",3,"customFields","customFieldsFormGroup"],["formControlName","checker",3,"operation","operationDefinition","readonly","remove"],["vdrDropdownTrigger","",1,"btn","btn-outline"],["shape","plus"],["vdrPosition","bottom-left"],["type","button","vdrDropdownItem","",3,"click",4,"ngFor","ngForOf"],["type","button","vdrDropdownItem","",3,"click"],["formControlName","handler",3,"operation","operationDefinition","readonly","remove"]],template:function(t,o){if(1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",0),e.NdJ("languageCodeChange",function(s){return o.setLanguage(s)}),e.ALo(4,"async"),e.ALo(5,"async"),e.ALo(6,"async"),e.qZA()(),e.TgZ(7,"vdr-ab-right"),e._UZ(8,"vdr-action-bar-items",1),e.YNc(9,Tn,3,4,"button",2),e.ALo(10,"async"),e.YNc(11,An,1,1,"ng-template",null,3,e.W1O),e.qZA()()(),e.TgZ(13,"form",4)(14,"vdr-page-detail-layout")(15,"vdr-page-detail-sidebar")(16,"vdr-card")(17,"vdr-form-field",5),e.ALo(18,"translate"),e.TgZ(19,"clr-toggle-wrapper"),e._UZ(20,"input",6),e.ALo(21,"hasPermission"),e.qZA()()(),e.YNc(22,Ln,2,1,"vdr-card",7),e.ALo(23,"async"),e.qZA(),e.TgZ(24,"vdr-page-block")(25,"vdr-card")(26,"div",8)(27,"vdr-form-field",9),e.ALo(28,"translate"),e.TgZ(29,"input",10),e.NdJ("input",function(s){return o.updateCode(null==o.entity?null:o.entity.code,s.target.value)}),e.ALo(30,"hasPermission"),e.qZA()(),e.TgZ(31,"vdr-form-field",11),e.ALo(32,"translate"),e.ALo(33,"hasPermission"),e._UZ(34,"input",12),e.ALo(35,"hasPermission"),e.qZA(),e._UZ(36,"vdr-rich-text-editor",13),e.ALo(37,"hasPermission"),e.ALo(38,"translate"),e.qZA()(),e.YNc(39,Fn,3,5,"vdr-card",14),e._UZ(40,"vdr-custom-detail-component-host",15),e.TgZ(41,"vdr-card",16),e.ALo(42,"translate"),e.YNc(43,xn,2,5,"vdr-configurable-input",17),e.YNc(44,Pn,8,4,"div",7),e.qZA(),e.TgZ(45,"vdr-card",16),e.ALo(46,"translate"),e.YNc(47,kn,2,5,"vdr-configurable-input",18),e.YNc(48,Jn,8,4,"div",7),e.qZA()()()()),2&t){const i=e.MAs(12);e.xp6(3),e.Q6J("disabled",e.lcZ(4,25,o.isNew$))("availableLanguageCodes",e.lcZ(5,27,o.availableLanguages$))("currentLanguageCode",e.lcZ(6,29,o.languageCode$)),e.xp6(6),e.Q6J("ngIf",e.lcZ(10,31,o.isNew$))("ngIfElse",i),e.xp6(4),e.Q6J("formGroup",o.detailForm),e.xp6(4),e.Q6J("label",e.lcZ(18,33,"common.enabled")),e.xp6(3),e.Q6J("vdrDisabled",!e.lcZ(21,35,o.updatePermission)),e.xp6(2),e.Q6J("ngIf",e.lcZ(23,37,o.entity$)),e.xp6(5),e.Q6J("label",e.lcZ(28,39,"common.name")),e.xp6(2),e.Q6J("readonly",!e.lcZ(30,41,o.updatePermission)),e.xp6(2),e.Q6J("label",e.lcZ(32,43,"common.code"))("readOnlyToggle",e.lcZ(33,45,o.updatePermission)),e.xp6(3),e.Q6J("readonly",!e.lcZ(35,47,o.updatePermission)),e.xp6(2),e.Q6J("readonly",!e.lcZ(37,49,o.updatePermission))("label",e.lcZ(38,51,"common.description")),e.xp6(3),e.Q6J("ngIf",o.customFields.length),e.xp6(1),e.Q6J("entity$",o.entity$)("detailForm",o.detailForm),e.xp6(1),e.Q6J("title",e.lcZ(42,53,"settings.payment-eligibility-checker")),e.xp6(2),e.Q6J("ngIf",o.selectedChecker&&o.selectedCheckerDefinition),e.xp6(1),e.Q6J("ngIf",!o.selectedChecker||!o.selectedCheckerDefinition),e.xp6(1),e.Q6J("title",e.lcZ(46,55,"settings.payment-handler")),e.xp6(2),e.Q6J("ngIf",o.selectedHandler&&o.selectedHandlerDefinition),e.xp6(1),e.Q6J("ngIf",!o.selectedHandler||!o.selectedHandlerDefinition)}},dependencies:[g.qvL,g.KKC,g.PEh,c.sg,c.O5,l._Y,l.Fj,l.Wl,l.JJ,l.JL,l.sg,l.u,l.x0,a.KkL,a.BND,a.mz,a.qq8,a.hgI,a.y_K,a.SdP,a.YI,a.JOL,a.N9E,a.UaT,a.HH4,a.HAh,a.WWO,a.x3T,a.yc0,a.CWh,a.zJY,a.DME,a.TeL,a.W1W,a.AkF,c.Ov,h.X$,a.j$k],changeDetection:0})}const Pe=(0,a.wwB)({location:"payment-method-list",requiresPermission:r=>r.includes(a.y3$.DeletePaymentMethod)||r.includes(a.y3$.DeleteSettings),getItemName:r=>r.name,shouldRetryItem:(r,n)=>!!r.message,bulkDelete:(r,n,t)=>r.settings.deletePaymentMethods(n,t).pipe((0,v.U)(o=>o.deletePaymentMethods))}),ke=(p.Ps`
    mutation AssignPaymentMethodsToChannel($input: AssignPaymentMethodsToChannelInput!) {
        assignPaymentMethodsToChannel(input: $input) {
            id
            name
        }
    }
`,p.Ps`
    mutation RemovePaymentMethodsFromChannel($input: RemovePaymentMethodsFromChannelInput!) {
        removePaymentMethodsFromChannel(input: $input) {
            id
            name
        }
    }
`,(0,a.z1G)({location:"payment-method-list",requiresPermission:r=>r.includes(a.y3$.UpdatePaymentMethod)||r.includes(a.y3$.UpdateSettings),getItemName:r=>r.name,bulkAssignToChannel:(r,n,t)=>r.mutate(a.m4U,{input:{channelId:t,paymentMethodIds:n}}).pipe((0,v.U)(o=>o.assignPaymentMethodsToChannel))})),De=(0,a.RBx)({location:"payment-method-list",requiresPermission:r=>r.includes(a.y3$.DeletePaymentMethod)||r.includes(a.y3$.DeleteSettings),getItemName:r=>r.name,bulkRemoveFromChannel:(r,n,t)=>r.mutate(a.zBk,{input:{channelId:t,paymentMethodIds:n}}).pipe((0,v.U)(o=>o.removePaymentMethodsFromChannel))}),Ma=p.Ps`
    query GetPaymentMethodList($options: PaymentMethodListOptions!) {
        paymentMethods(options: $options) {
            items {
                ...PaymentMethodListItem
            }
            totalItems
        }
    }
    fragment PaymentMethodListItem on PaymentMethod {
        id
        createdAt
        updatedAt
        name
        description
        code
        enabled
    }
`;class G extends a.$ms{constructor(){super(),this.customFields=this.getCustomFieldConfig("PaymentMethod"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"name",type:{kind:"text"},label:(0,d.J)("common.name"),filterField:"name"}).addFilter({name:"code",type:{kind:"text"},label:(0,d.J)("common.code"),filterField:"code"}).addFilter({name:"enabled",type:{kind:"boolean"},label:(0,d.J)("common.enabled"),filterField:"enabled"}).addFilter({name:"description",type:{kind:"text"},label:(0,d.J)("common.description"),filterField:"description"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"id"}).addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addSort({name:"code"}).addSort({name:"description"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:a.hVB,getItems:n=>n.paymentMethods,setVariables:(n,t)=>({options:{skip:n,take:t,filter:{name:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}static#e=this.\u0275fac=function(t){return new(t||G)};static#t=this.\u0275cmp=e.Xpm({type:G,selectors:[["vdr-payment-method-list"]],features:[e.qOj],decls:36,vars:55,consts:[[3,"availableLanguageCodes","currentLanguageCode","languageCodeChange"],["locationId","payment-method-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],["id","payment-method-list",3,"items","itemsPerPage","totalItems","currentPage","filters","pageChange","itemsPerPageChange"],["locationId","payment-method-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault","sort"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","code",3,"heading","sort"],["id","enabled",3,"heading"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],["colorType","success",4,"ngIf"],["colorType","warning",4,"ngIf"],["colorType","success"],["colorType","warning"],[3,"customField","sorts"]],template:function(t,o){1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",0),e.NdJ("languageCodeChange",function(s){return o.setLanguage(s)}),e.ALo(4,"async"),e.ALo(5,"async"),e.qZA()(),e.TgZ(6,"vdr-ab-right"),e._UZ(7,"vdr-action-bar-items",1),e.YNc(8,Nn,4,5,"a",2),e.qZA()()(),e.TgZ(9,"vdr-data-table-2",3),e.NdJ("pageChange",function(s){return o.setPageNumber(s)})("itemsPerPageChange",function(s){return o.setItemsPerPage(s)}),e.ALo(10,"async"),e.ALo(11,"async"),e.ALo(12,"async"),e.ALo(13,"async"),e._UZ(14,"vdr-bulk-action-menu",4)(15,"vdr-dt2-search",5),e.ALo(16,"translate"),e.TgZ(17,"vdr-dt2-column",6),e.ALo(18,"translate"),e.YNc(19,Mn,1,1,"ng-template"),e.qZA(),e.TgZ(20,"vdr-dt2-column",7),e.ALo(21,"translate"),e.YNc(22,Sn,2,4,"ng-template"),e.qZA(),e.TgZ(23,"vdr-dt2-column",8),e.ALo(24,"translate"),e.YNc(25,qn,2,4,"ng-template"),e.qZA(),e.TgZ(26,"vdr-dt2-column",9),e.ALo(27,"translate"),e.YNc(28,$n,4,4,"ng-template"),e.qZA(),e.TgZ(29,"vdr-dt2-column",10),e.ALo(30,"translate"),e.YNc(31,On,1,1,"ng-template"),e.qZA(),e.TgZ(32,"vdr-dt2-column",11),e.ALo(33,"translate"),e.YNc(34,Un,2,2,"ng-template"),e.qZA(),e.YNc(35,Rn,1,2,"vdr-dt2-custom-field-column",12),e.qZA()),2&t&&(e.xp6(3),e.Q6J("availableLanguageCodes",e.lcZ(4,28,o.availableLanguages$))("currentLanguageCode",e.lcZ(5,30,o.contentLanguage$)),e.xp6(5),e.Q6J("vdrIfPermissions",e.DdM(54,Bn)),e.xp6(1),e.Q6J("items",e.lcZ(10,32,o.items$))("itemsPerPage",e.lcZ(11,34,o.itemsPerPage$))("totalItems",e.lcZ(12,36,o.totalItems$))("currentPage",e.lcZ(13,38,o.currentPage$))("filters",o.filters),e.xp6(5),e.Q6J("hostComponent",o)("selectionManager",o.selectionManager),e.xp6(1),e.Q6J("searchTermControl",o.searchTermControl)("searchTermPlaceholder",e.lcZ(16,40,"catalog.filter-by-name")),e.xp6(2),e.Q6J("heading",e.lcZ(18,42,"common.id"))("hiddenByDefault",!0)("sort",o.sorts.get("id")),e.xp6(3),e.Q6J("heading",e.lcZ(21,44,"common.created-at"))("hiddenByDefault",!0)("sort",o.sorts.get("createdAt")),e.xp6(3),e.Q6J("heading",e.lcZ(24,46,"common.updated-at"))("hiddenByDefault",!0)("sort",o.sorts.get("updatedAt")),e.xp6(3),e.Q6J("heading",e.lcZ(27,48,"common.name"))("optional",!1)("sort",o.sorts.get("name")),e.xp6(3),e.Q6J("heading",e.lcZ(30,50,"common.code"))("sort",o.sorts.get("code")),e.xp6(3),e.Q6J("heading",e.lcZ(33,52,"common.enabled")),e.xp6(3),e.Q6J("ngForOf",o.customFields))},dependencies:[g.qvL,c.sg,c.O5,y.rH,a.KkL,a.BND,a.mz,a.Ywx,a.SdP,a.HAh,a.WWO,a.cuf,a.eJ5,a.Up6,a.JBy,a.jrk,a.zJY,c.Ov,h.X$,a.HbD],changeDetection:0})}const Sa=p.Ps`
    query GetProfileDetail {
        activeAdministrator {
            ...ProfileDetail
        }
    }
    fragment ProfileDetail on Administrator {
        id
        createdAt
        updatedAt
        firstName
        lastName
        emailAddress
        user {
            id
            lastLogin
            verified
        }
    }
`;class z extends a.VE7{constructor(n,t,o,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=o,this.notificationService=i,this.customFields=this.getCustomFieldConfig("Administrator"),this.detailForm=this.formBuilder.group({emailAddress:["",l.kI.required],firstName:["",l.kI.required],lastName:["",l.kI.required],password:[""],customFields:this.formBuilder.group((0,a.Lrj)(this.customFields))})}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}save(){this.entity$.pipe((0,C.q)(1),(0,b.z)(({id:n})=>{const t=this.detailForm.value,o={emailAddress:t.emailAddress,firstName:t.firstName,lastName:t.lastName,password:t.password,customFields:t.customFields};return this.dataService.administrator.updateActiveAdministrator(o)})).subscribe(n=>{this.notificationService.success((0,d.J)("common.notify-update-success"),{entity:"Administrator"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},n=>{this.notificationService.error((0,d.J)("common.notify-update-error"),{entity:"Administrator"})})}setFormValues(n,t){this.detailForm.patchValue({emailAddress:n.emailAddress,firstName:n.firstName,lastName:n.lastName}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),n)}static#e=this.\u0275fac=function(t){return new(t||z)(e.Y36(e.sBO),e.Y36(a.DoR),e.Y36(l.qu),e.Y36(a.gqp))};static#t=this.\u0275cmp=e.Xpm({type:z,selectors:[["vdr-profile"]],features:[e.qOj],decls:32,vars:27,consts:[["locationId","profile"],[1,"btn","btn-primary",3,"disabled","click"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","emailAddress",3,"label"],["id","emailAddress","type","text","formControlName","emailAddress"],["for","firstName",3,"label"],["id","firstName","type","text","formControlName","firstName"],["for","lastName",3,"label"],["id","lastName","type","text","formControlName","lastName"],["for","password",3,"label",4,"ngIf"],["for","password",3,"label","readOnlyToggle"],["id","password","type","password","formControlName","password"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","administrator-profile",3,"entity$","detailForm"],[3,"entity"],["for","password",3,"label"],["formGroupName","customFields",3,"title"],["entityName","Administrator",3,"customFields","customFieldsFormGroup"]],template:function(t,o){1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar"),e._UZ(2,"vdr-ab-left"),e.TgZ(3,"vdr-ab-right"),e._UZ(4,"vdr-action-bar-items",0),e.TgZ(5,"button",1),e.NdJ("click",function(){return o.save()}),e._uU(6),e.ALo(7,"translate"),e.qZA()()()(),e.TgZ(8,"form",2)(9,"vdr-page-detail-layout")(10,"vdr-page-detail-sidebar"),e.YNc(11,Yn,2,1,"vdr-card",3),e.ALo(12,"async"),e.qZA(),e.TgZ(13,"vdr-page-block")(14,"vdr-card")(15,"div",4)(16,"vdr-form-field",5),e.ALo(17,"translate"),e._UZ(18,"input",6),e.qZA(),e.TgZ(19,"vdr-form-field",7),e.ALo(20,"translate"),e._UZ(21,"input",8),e.qZA(),e.TgZ(22,"vdr-form-field",9),e.ALo(23,"translate"),e._UZ(24,"input",10),e.qZA(),e.YNc(25,En,3,3,"vdr-form-field",11),e.ALo(26,"async"),e.TgZ(27,"vdr-form-field",12),e.ALo(28,"translate"),e._UZ(29,"input",13),e.qZA()()(),e.YNc(30,Gn,3,5,"vdr-card",14),e._UZ(31,"vdr-custom-detail-component-host",15),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("disabled",o.detailForm.invalid||o.detailForm.pristine),e.xp6(1),e.hij(" ",e.lcZ(7,13,"common.update")," "),e.xp6(2),e.Q6J("formGroup",o.detailForm),e.xp6(3),e.Q6J("ngIf",e.lcZ(12,15,o.entity$)),e.xp6(5),e.Q6J("label",e.lcZ(17,17,"settings.email-address")),e.xp6(3),e.Q6J("label",e.lcZ(20,19,"settings.first-name")),e.xp6(3),e.Q6J("label",e.lcZ(23,21,"settings.last-name")),e.xp6(3),e.Q6J("ngIf",e.lcZ(26,23,o.isNew$)),e.xp6(2),e.Q6J("label",e.lcZ(28,25,"settings.password"))("readOnlyToggle",!0),e.xp6(3),e.Q6J("ngIf",o.customFields.length),e.xp6(1),e.Q6J("entity$",o.entity$)("detailForm",o.detailForm))},dependencies:[c.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,l.x0,a.KkL,a.BND,a.mz,a.hgI,a.y_K,a.WWO,a.yc0,a.CWh,a.zJY,a.DME,a.TeL,a.W1W,a.AkF,c.Ov,h.X$],changeDetection:0})}const qa=p.Ps`
    query GetRoleDetail($id: ID!) {
        role(id: $id) {
            ...Role
        }
    }
    ${a.asA}
`;class j extends a.VE7{constructor(n,t,o,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=o,this.notificationService=i,this.detailForm=this.formBuilder.group({code:["",l.kI.required],description:["",l.kI.required],channelIds:[[]],permissions:[[]]}),this.permissionDefinitions=this.serverConfigService.getPermissionDefinitions()}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}updateCode(n){const t=this.detailForm.get(["code"]);t&&t.pristine&&t.setValue((0,fe.U)(n,"-"))}setPermission(n){const t=this.detailForm.get("permissions");if(t){const o=t.value,i=!0===n.value?(0,rt.T)([...o,n.permission]):o.filter(s=>s!==n.permission);t.setValue(i),t.markAsDirty()}}create(){const{code:n,description:t,permissions:o,channelIds:i}=this.detailForm.value;if(!n||!t)return;const s={code:n,description:t,permissions:o??[],channelIds:i};this.dataService.administrator.createRole(s).subscribe(m=>{this.notificationService.success((0,d.J)("common.notify-create-success"),{entity:"Role"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",m.createRole.id],{relativeTo:this.route})},m=>{this.notificationService.error((0,d.J)("common.notify-create-error"),{entity:"Role"})})}save(){this.entity$.pipe((0,C.q)(1),(0,b.z)(({id:n})=>{const o={id:n,...this.detailForm.value};return this.dataService.administrator.updateRole(o)})).subscribe(n=>{this.notificationService.success((0,d.J)("common.notify-update-success"),{entity:"Role"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},n=>{this.notificationService.error((0,d.J)("common.notify-update-error"),{entity:"Role"})})}setFormValues(n,t){this.detailForm.patchValue({description:n.description,code:n.code,channelIds:n.channels.map(o=>o.id),permissions:n.permissions}),this.changeDetector.detectChanges()}static#e=this.\u0275fac=function(t){return new(t||j)(e.Y36(e.sBO),e.Y36(a.DoR),e.Y36(l.qu),e.Y36(a.gqp))};static#t=this.\u0275cmp=e.Xpm({type:j,selectors:[["vdr-role-detail"]],features:[e.qOj],decls:35,vars:37,consts:[["locationId","role-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","description",3,"label"],["id","description","type","text","formControlName","description",3,"readonly","input"],["for","code",3,"label","readOnlyToggle"],["id","code","type","text","formControlName","code",3,"readonly"],[1,"mt-2"],[3,"title"],[3,"label"],["formControlName","channelIds",3,"vdrDisabled"],[1,"mt-2",3,"permissionDefinitions","activePermissions","readonly","permissionChange"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"]],template:function(t,o){if(1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar"),e._UZ(2,"vdr-ab-left"),e.TgZ(3,"vdr-ab-right"),e._UZ(4,"vdr-action-bar-items",0),e.YNc(5,zn,3,4,"button",1),e.ALo(6,"async"),e.YNc(7,Hn,1,1,"ng-template",null,2,e.W1O),e.qZA()()(),e.TgZ(9,"form",3)(10,"vdr-page-detail-layout")(11,"vdr-page-detail-sidebar"),e.YNc(12,Vn,2,1,"vdr-card",4),e.ALo(13,"async"),e.qZA(),e.TgZ(14,"vdr-page-block")(15,"vdr-card")(16,"div",5)(17,"vdr-form-field",6),e.ALo(18,"translate"),e.TgZ(19,"input",7),e.NdJ("input",function(s){return o.updateCode(s.target.value)}),e.ALo(20,"hasPermission"),e.qZA()(),e.TgZ(21,"vdr-form-field",8),e.ALo(22,"translate"),e.ALo(23,"hasPermission"),e._UZ(24,"input",9),e.ALo(25,"hasPermission"),e.qZA()()()()(),e.TgZ(26,"vdr-page-block",10)(27,"vdr-card",11),e.ALo(28,"translate"),e.TgZ(29,"vdr-form-field",12),e.ALo(30,"translate"),e._UZ(31,"vdr-channel-assignment-control",13),e.ALo(32,"hasPermission"),e.qZA(),e.TgZ(33,"vdr-permission-grid",14),e.NdJ("permissionChange",function(s){return o.setPermission(s)}),e.ALo(34,"hasPermission"),e.qZA()()()()),2&t){const i=e.MAs(8);let s;e.xp6(5),e.Q6J("ngIf",e.lcZ(6,15,o.isNew$))("ngIfElse",i),e.xp6(4),e.Q6J("formGroup",o.detailForm),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,17,o.entity$)),e.xp6(5),e.Q6J("label",e.lcZ(18,19,"common.description")),e.xp6(2),e.Q6J("readonly",!e.lcZ(20,21,"UpdateAdministrator")),e.xp6(2),e.Q6J("label",e.lcZ(22,23,"common.code"))("readOnlyToggle",e.lcZ(23,25,"UpdateAdministrator")),e.xp6(3),e.Q6J("readonly",!e.lcZ(25,27,"UpdateAdministrator")),e.xp6(3),e.Q6J("title",e.lcZ(28,29,"settings.permissions")),e.xp6(2),e.Q6J("label",e.lcZ(30,31,"settings.channel")),e.xp6(2),e.Q6J("vdrDisabled",!e.lcZ(32,33,"UpdateAdministrator")),e.xp6(2),e.Q6J("permissionDefinitions",o.permissionDefinitions)("activePermissions",null==(s=o.detailForm.get("permissions"))?null:s.value)("readonly",!e.lcZ(34,35,"UpdateAdministrator"))}},dependencies:[c.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,a.KkL,a.BND,a.mz,a.hgI,a.y_K,a.HAh,a.WWO,a.x3T,a.SGu,a.zJY,a.DME,a.TeL,a.W1W,a.AkF,P,c.Ov,h.X$,a.j$k],changeDetection:0})}const Je=(0,a.wwB)({location:"role-list",requiresPermission:r=>r.includes(a.y3$.DeleteAdministrator),getItemName:r=>r.description,bulkDelete:(r,n)=>r.administrator.deleteRoles(n).pipe((0,v.U)(t=>t.deleteRoles))}),$a=p.Ps`
    query GetRoleList($options: RoleListOptions) {
        roles(options: $options) {
            items {
                ...Role
            }
            totalItems
        }
    }
    ${a.asA}
`;class H extends a.$ms{constructor(){super(),this.initialLimit=3,this.displayLimit={},this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"code",type:{kind:"text"},label:(0,d.J)("common.code"),filterField:"code"}).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"code"}).addSort({name:"description"}).connectToRoute(this.route),super.configure({document:a.nY8,getItems:n=>n.roles,setVariables:(n,t)=>({options:{skip:n,take:t,filter:{code:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}toggleDisplayLimit(n){this.displayLimit[n.id]===n.permissions.length?this.displayLimit[n.id]=this.initialLimit:this.displayLimit[n.id]=n.permissions.length}isDefaultRole(n){return n.code===L.Wi||n.code===L.RO}static#e=this.\u0275fac=function(t){return new(t||H)};static#t=this.\u0275cmp=e.Xpm({type:H,selectors:[["vdr-role-list"]],features:[e.qOj],decls:35,vars:50,consts:[["locationId","role-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],["id","role-list",3,"items","itemsPerPage","totalItems","currentPage","filters","pageChange","itemsPerPageChange"],["locationId","role-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","description",3,"heading","optional","sort"],["id","code",3,"heading","sort"],["id","channel",3,"heading"],["id","permissions",3,"heading"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],["class","button-ghost",3,"routerLink",4,"ngIf","ngIfElse"],["defaultRole",""],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"channelCode"],[1,"ml-1"],[4,"ngIf","ngIfElse"],[1,"permissions-list"],["class","button-small",3,"click",4,"ngIf"],[1,"button-small",3,"click"],["collapse",""],["shape","minus"],[1,"default-role-label"]],template:function(t,o){1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar"),e._UZ(2,"vdr-ab-left"),e.TgZ(3,"vdr-ab-right"),e._UZ(4,"vdr-action-bar-items",0),e.YNc(5,Kn,4,5,"a",1),e.qZA()()(),e.TgZ(6,"vdr-data-table-2",2),e.NdJ("pageChange",function(s){return o.setPageNumber(s)})("itemsPerPageChange",function(s){return o.setItemsPerPage(s)}),e.ALo(7,"async"),e.ALo(8,"async"),e.ALo(9,"async"),e.ALo(10,"async"),e._UZ(11,"vdr-bulk-action-menu",3)(12,"vdr-dt2-search",4),e.ALo(13,"translate"),e.TgZ(14,"vdr-dt2-column",5),e.ALo(15,"translate"),e.YNc(16,Wn,1,1,"ng-template"),e.qZA(),e.TgZ(17,"vdr-dt2-column",6),e.ALo(18,"translate"),e.YNc(19,Xn,2,4,"ng-template"),e.qZA(),e.TgZ(20,"vdr-dt2-column",7),e.ALo(21,"translate"),e.YNc(22,er,2,4,"ng-template"),e.qZA(),e.TgZ(23,"vdr-dt2-column",8),e.ALo(24,"translate"),e.YNc(25,rr,3,2,"ng-template"),e.qZA(),e.TgZ(26,"vdr-dt2-column",9),e.ALo(27,"translate"),e.YNc(28,ar,1,1,"ng-template"),e.qZA(),e.TgZ(29,"vdr-dt2-column",10),e.ALo(30,"translate"),e.YNc(31,lr,1,1,"ng-template"),e.qZA(),e.TgZ(32,"vdr-dt2-column",11),e.ALo(33,"translate"),e.YNc(34,hr,3,2,"ng-template"),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("vdrIfPermissions",e.DdM(49,Le)),e.xp6(1),e.Q6J("items",e.lcZ(7,25,o.items$))("itemsPerPage",e.lcZ(8,27,o.itemsPerPage$))("totalItems",e.lcZ(9,29,o.totalItems$))("currentPage",e.lcZ(10,31,o.currentPage$))("filters",o.filters),e.xp6(5),e.Q6J("hostComponent",o)("selectionManager",o.selectionManager),e.xp6(1),e.Q6J("searchTermControl",o.searchTermControl)("searchTermPlaceholder",e.lcZ(13,33,"catalog.filter-by-name")),e.xp6(2),e.Q6J("heading",e.lcZ(15,35,"common.id"))("hiddenByDefault",!0),e.xp6(3),e.Q6J("heading",e.lcZ(18,37,"common.created-at"))("hiddenByDefault",!0)("sort",o.sorts.get("createdAt")),e.xp6(3),e.Q6J("heading",e.lcZ(21,39,"common.updated-at"))("hiddenByDefault",!0)("sort",o.sorts.get("updatedAt")),e.xp6(3),e.Q6J("heading",e.lcZ(24,41,"common.description"))("optional",!1)("sort",o.sorts.get("description")),e.xp6(3),e.Q6J("heading",e.lcZ(27,43,"common.code"))("sort",o.sorts.get("code")),e.xp6(3),e.Q6J("heading",e.lcZ(30,45,"settings.channel")),e.xp6(3),e.Q6J("heading",e.lcZ(33,47,"settings.permissions")))},dependencies:[g.qvL,c.sg,c.O5,y.rH,a.KkL,a.BND,a.mz,a.Ywx,a.HAh,a.WWO,a.nIZ,a.cuf,a.eJ5,a.Up6,a.JBy,a.zJY,c.Ov,c.OU,h.X$,a.E6B,a.HbD],styles:[".default-role-label[_ngcontent-%COMP%]{color:var(--color-grey-400)}.permissions-list[_ngcontent-%COMP%]{max-width:500px;display:flex;flex-wrap:wrap;align-items:center;gap:4px}"],changeDetection:0})}const Oa=p.Ps`
    query GetSellerDetail($id: ID!) {
        seller(id: $id) {
            ...SellerDetail
        }
    }
    fragment SellerDetail on Seller {
        id
        createdAt
        updatedAt
        name
    }
`;class V extends a.VE7{constructor(n,t,o,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=o,this.notificationService=i,this.customFields=this.getCustomFieldConfig("Seller"),this.detailForm=this.formBuilder.group({name:["",l.kI.required],customFields:this.formBuilder.group((0,a.Lrj)(this.customFields))}),this.updatePermission=[a.y3$.SuperAdmin,a.y3$.UpdateSeller,a.y3$.CreateSeller]}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}saveButtonEnabled(){return this.detailForm.dirty&&this.detailForm.valid}create(){if(!this.detailForm.dirty)return;const n=this.detailForm.value;if(!n.name)return;const t={name:n.name,customFields:n.customFields};this.dataService.settings.createSeller(t).subscribe(o=>{if("Seller"===o.createSeller.__typename)this.notificationService.success((0,d.J)("common.notify-create-success"),{entity:"Seller"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",o.createSeller.id],{relativeTo:this.route})})}save(){if(!this.detailForm.dirty)return;const n=this.detailForm.value;this.entity$.pipe((0,C.q)(1),(0,b.z)(t=>{const o={id:t.id,name:n.name,customFields:n.customFields};return this.dataService.settings.updateSeller(o)})).subscribe(({updateSeller:t})=>{if("Seller"===t.__typename)this.notificationService.success((0,d.J)("common.notify-update-success"),{entity:"Seller"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()})}setFormValues(n,t){this.detailForm.patchValue({name:n.name}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get(["customFields"]),n)}static#e=this.\u0275fac=function(t){return new(t||V)(e.Y36(e.sBO),e.Y36(a.DoR),e.Y36(l.qu),e.Y36(a.gqp))};static#t=this.\u0275cmp=e.Xpm({type:V,selectors:[["vdr-seller-detail"]],features:[e.qOj],decls:23,vars:17,consts:[["locationId","seller-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","seller-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["formGroupName","customFields",3,"title"],["entityName","Seller",3,"customFields","customFieldsFormGroup"]],template:function(t,o){if(1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar"),e._UZ(2,"vdr-ab-left"),e.TgZ(3,"vdr-ab-right"),e._UZ(4,"vdr-action-bar-items",0),e.YNc(5,fr,3,4,"button",1),e.ALo(6,"async"),e.YNc(7,br,1,2,"ng-template",null,2,e.W1O),e.qZA()()(),e.TgZ(9,"form",3)(10,"vdr-page-detail-layout")(11,"vdr-page-detail-sidebar"),e.YNc(12,yr,2,1,"vdr-card",4),e.ALo(13,"async"),e.qZA(),e.TgZ(14,"vdr-page-block")(15,"vdr-card")(16,"div",5)(17,"vdr-form-field",6),e.ALo(18,"translate"),e._UZ(19,"input",7),e.ALo(20,"hasPermission"),e.qZA()()(),e.YNc(21,Cr,3,5,"vdr-card",8),e._UZ(22,"vdr-custom-detail-component-host",9),e.qZA()()()),2&t){const i=e.MAs(8);e.xp6(5),e.Q6J("ngIf",e.lcZ(6,9,o.isNew$))("ngIfElse",i),e.xp6(4),e.Q6J("formGroup",o.detailForm),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,11,o.entity$)),e.xp6(5),e.Q6J("label",e.lcZ(18,13,"common.name")),e.xp6(2),e.Q6J("readonly",!e.lcZ(20,15,o.updatePermission)),e.xp6(2),e.Q6J("ngIf",o.customFields.length),e.xp6(1),e.Q6J("entity$",o.entity$)("detailForm",o.detailForm)}},dependencies:[c.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,l.x0,a.KkL,a.BND,a.mz,a.hgI,a.y_K,a.HAh,a.WWO,a.yc0,a.CWh,a.zJY,a.DME,a.TeL,a.W1W,a.AkF,c.Ov,h.X$,a.j$k],styles:["clr-alert[_ngcontent-%COMP%]{max-width:30rem;margin-bottom:12px}"],changeDetection:0})}const Ne=(0,a.wwB)({location:"seller-list",requiresPermission:r=>r.includes(a.y3$.DeleteSeller),getItemName:r=>r.name,bulkDelete:(r,n)=>r.settings.deleteSellers(n).pipe((0,v.U)(t=>t.deleteSellers))});p.Ps`
    query GetSellerList($options: SellerListOptions) {
        sellers(options: $options) {
            items {
                ...SellerListItem
            }
            totalItems
        }
    }
    fragment SellerListItem on Seller {
        id
        createdAt
        updatedAt
        name
    }
`;class K extends a.$ms{constructor(){super(),this.customFields=this.getCustomFieldConfig("Seller"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"name",type:{kind:"text"},label:(0,d.J)("common.name"),filterField:"name"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:a.fLo,getItems:n=>n.sellers,setVariables:(n,t)=>({options:{skip:n,take:t,filter:{name:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}static#e=this.\u0275fac=function(t){return new(t||K)};static#t=this.\u0275cmp=e.Xpm({type:K,selectors:[["vdr-seller-list"]],features:[e.qOj],decls:27,vars:41,consts:[["locationId","seller-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],["id","seller-list",3,"items","itemsPerPage","totalItems","currentPage","filters","pageChange","itemsPerPageChange"],["locationId","seller-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[3,"customField","sorts"]],template:function(t,o){1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar"),e._UZ(2,"vdr-ab-left"),e.TgZ(3,"vdr-ab-right"),e._UZ(4,"vdr-action-bar-items",0),e.YNc(5,Zr,4,5,"a",1),e.qZA()()(),e.TgZ(6,"vdr-data-table-2",2),e.NdJ("pageChange",function(s){return o.setPageNumber(s)})("itemsPerPageChange",function(s){return o.setItemsPerPage(s)}),e.ALo(7,"async"),e.ALo(8,"async"),e.ALo(9,"async"),e.ALo(10,"async"),e._UZ(11,"vdr-bulk-action-menu",3)(12,"vdr-dt2-search",4),e.ALo(13,"translate"),e.TgZ(14,"vdr-dt2-column",5),e.ALo(15,"translate"),e.YNc(16,Ar,1,1,"ng-template"),e.qZA(),e.TgZ(17,"vdr-dt2-column",6),e.ALo(18,"translate"),e.YNc(19,Lr,2,4,"ng-template"),e.qZA(),e.TgZ(20,"vdr-dt2-column",7),e.ALo(21,"translate"),e.YNc(22,Fr,2,4,"ng-template"),e.qZA(),e.TgZ(23,"vdr-dt2-column",8),e.ALo(24,"translate"),e.YNc(25,xr,4,4,"ng-template"),e.qZA(),e.YNc(26,Ir,1,2,"vdr-dt2-custom-field-column",9),e.qZA()),2&t&&(e.xp6(5),e.Q6J("vdrIfPermissions",e.DdM(40,Pr)),e.xp6(1),e.Q6J("items",e.lcZ(7,22,o.items$))("itemsPerPage",e.lcZ(8,24,o.itemsPerPage$))("totalItems",e.lcZ(9,26,o.totalItems$))("currentPage",e.lcZ(10,28,o.currentPage$))("filters",o.filters),e.xp6(5),e.Q6J("hostComponent",o)("selectionManager",o.selectionManager),e.xp6(1),e.Q6J("searchTermControl",o.searchTermControl)("searchTermPlaceholder",e.lcZ(13,30,"catalog.filter-by-name")),e.xp6(2),e.Q6J("heading",e.lcZ(15,32,"common.id"))("hiddenByDefault",!0),e.xp6(3),e.Q6J("heading",e.lcZ(18,34,"common.created-at"))("hiddenByDefault",!0)("sort",o.sorts.get("createdAt")),e.xp6(3),e.Q6J("heading",e.lcZ(21,36,"common.updated-at"))("hiddenByDefault",!0)("sort",o.sorts.get("updatedAt")),e.xp6(3),e.Q6J("heading",e.lcZ(24,38,"common.name"))("optional",!1)("sort",o.sorts.get("name")),e.xp6(3),e.Q6J("ngForOf",o.customFields))},dependencies:[g.qvL,c.sg,y.rH,a.KkL,a.BND,a.mz,a.HAh,a.WWO,a.cuf,a.eJ5,a.Up6,a.JBy,a.jrk,a.zJY,c.Ov,h.X$,a.HbD],changeDetection:0})}class W{constructor(){this.okToRun=!1,this.testDataUpdated=!1,this.runTest=new e.vpe}static#e=this.\u0275fac=function(t){return new(t||W)};static#t=this.\u0275cmp=e.Xpm({type:W,selectors:[["vdr-shipping-eligibility-test-result"]],inputs:{testResult:"testResult",okToRun:"okToRun",testDataUpdated:"testDataUpdated",currencyCode:"currencyCode"},outputs:{runTest:"runTest"},decls:8,vars:9,consts:[[1,"test-result",3,"title"],["class","card-span",4,"ngFor","ngForOf"],["class","card-span",4,"ngIf"],[1,"card-footer"],[1,"btn","btn-secondary",3,"disabled","click"],[1,"card-span"],[1,"result-details"],[3,"label"],[1,"price-row"],[3,"value",4,"ngIf"],[3,"value"],["shape","ban",1,"is-solid","error"]],template:function(t,o){1&t&&(e.TgZ(0,"vdr-card",0),e.ALo(1,"translate"),e.YNc(2,Dr,15,21,"div",1),e.YNc(3,Jr,4,3,"div",2),e.TgZ(4,"div",3)(5,"button",4),e.NdJ("click",function(){return o.runTest.emit()}),e._uU(6),e.ALo(7,"translate"),e.qZA()()()),2&t&&(e.Q6J("title",e.lcZ(1,5,"settings.test-result")),e.xp6(2),e.Q6J("ngForOf",o.testResult),e.xp6(1),e.Q6J("ngIf",0===(null==o.testResult?null:o.testResult.length)),e.xp6(2),e.Q6J("disabled",!o.okToRun),e.xp6(1),e.hij(" ",e.lcZ(7,7,"settings.test-shipping-methods")," "))},dependencies:[g.qvL,c.sg,c.O5,a.WGc,a._8q,a.AkF,h.X$,a.kgx],styles:["[_nghost-%COMP%]{display:block}.result-details[_ngcontent-%COMP%]{transition:opacity .2s}.result-details.stale[_ngcontent-%COMP%]{opacity:.5}.price-row[_ngcontent-%COMP%]{display:flex}.price-row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){margin-inline-start:24px}clr-icon.error[_ngcontent-%COMP%]{color:var(--color-error-500)}"],changeDetection:0})}class k{get subTotal(){return this.lines.reduce((n,t)=>n+t.unitPriceWithTax*t.quantity,0)}constructor(n,t){this.dataService=n,this.localStorageService=t,this.orderLinesChange=new e.vpe,this.lines=[]}ngOnInit(){this.lines=this.loadFromLocalStorage(),this.lines&&this.orderLinesChange.emit(this.lines),this.dataService.settings.getActiveChannel("cache-first").single$.subscribe(n=>{this.currencyCode=n.activeChannel.defaultCurrencyCode})}selectResult(n){n&&this.addToLines(n)}addToLines(n){this.lines.find(t=>t.id===n.productVariantId)||(this.lines.push({id:n.productVariantId,name:n.productVariantName,preview:n.productAsset?.preview??"",quantity:1,sku:n.sku,unitPriceWithTax:"SinglePrice"===n.priceWithTax.__typename&&n.priceWithTax.value||0}),this.persistToLocalStorage(),this.orderLinesChange.emit(this.lines))}updateQuantity(){this.persistToLocalStorage(),this.orderLinesChange.emit(this.lines)}removeLine(n){this.lines=this.lines.filter(t=>t.id!==n.id),this.persistToLocalStorage(),this.orderLinesChange.emit(this.lines)}persistToLocalStorage(){this.localStorageService.setForCurrentLocation("shippingTestOrder",this.lines)}loadFromLocalStorage(){return this.localStorageService.getForCurrentLocation("shippingTestOrder")||[]}static#e=this.\u0275fac=function(t){return new(t||k)(e.Y36(a.DoR),e.Y36(a.n2A))};static#t=this.\u0275cmp=e.Xpm({type:k,selectors:[["vdr-test-order-builder"]],outputs:{orderLinesChange:"orderLinesChange"},decls:5,vars:2,consts:[["class","order-table table",4,"ngIf","ngIfElse"],["emptyPlaceholder",""],[1,"card-block"],[3,"productSelected"],[1,"order-table","table"],["class","order-line",4,"ngFor","ngForOf"],[1,"sub-total"],[1,"left"],[1,"order-line"],[1,"align-middle","thumb"],[3,"src"],[1,"align-middle","name"],[1,"align-middle","sku"],[1,"align-middle","unit-price"],[1,"align-middle","quantity"],["type","number","max","9999","min","1",3,"ngModel","ngModelChange","change"],[1,"icon-button",3,"click"],["shape","trash"],[1,"align-middle","total"],[1,"card-block","empty-placeholder","card-span"],[1,"empty-text"],["shape","arrow","dir","down","size","96"]],template:function(t,o){if(1&t&&(e.YNc(0,Mr,31,23,"table",0),e.YNc(1,Sr,5,3,"ng-template",null,1,e.W1O),e.TgZ(3,"div",2)(4,"vdr-product-variant-selector",3),e.NdJ("productSelected",function(s){return o.selectResult(s)}),e.qZA()()),2&t){const i=e.MAs(2);e.Q6J("ngIf",o.lines.length)("ngIfElse",i)}},dependencies:[g.qvL,c.sg,c.O5,l.Fj,l.wV,l.JJ,l.qQ,l.Fd,l.On,ot.Lv,a.y_K,a.elg,h.X$,a.kgx],styles:[".empty-placeholder[_ngcontent-%COMP%]{color:var(--color-grey-400);text-align:center}.empty-text[_ngcontent-%COMP%]{font-size:22px}.thumb[_ngcontent-%COMP%]{max-width:50px}"],changeDetection:0})}class D{constructor(n,t,o){this.formBuilder=n,this.dataService=t,this.localStorageService=o,this.addressChange=new e.vpe}ngOnInit(){this.availableCountries$=this.dataService.settings.getAvailableCountries().mapSingle(o=>o.countries.items);const t=this.localStorageService.getForCurrentLocation("shippingTestAddress")||{city:"",countryCode:"",postalCode:"",province:""};this.addressChange.emit(t),this.form=this.formBuilder.group(t),this.subscription=this.form.valueChanges.subscribe(o=>{this.localStorageService.setForCurrentLocation("shippingTestAddress",o),this.addressChange.emit(o)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static#e=this.\u0275fac=function(t){return new(t||D)(e.Y36(l.QS),e.Y36(a.DoR),e.Y36(a.n2A))};static#t=this.\u0275cmp=e.Xpm({type:D,selectors:[["vdr-test-address-form"]],outputs:{addressChange:"addressChange"},decls:20,vars:19,consts:[[1,"card"],[1,"card-header"],[1,"card-block"],[1,"form-grid",3,"formGroup"],[3,"label"],["formControlName","city","type","text"],["formControlName","province","type","text"],["formControlName","postalCode","type","text"],["name","countryCode","formControlName","countryCode"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"form",3)(6,"vdr-form-field",4),e.ALo(7,"translate"),e._UZ(8,"input",5),e.qZA(),e.TgZ(9,"vdr-form-field",4),e.ALo(10,"translate"),e._UZ(11,"input",6),e.qZA(),e.TgZ(12,"vdr-form-field",4),e.ALo(13,"translate"),e._UZ(14,"input",7),e.qZA(),e.TgZ(15,"vdr-form-field",4),e.ALo(16,"translate"),e.TgZ(17,"select",8),e.YNc(18,qr,2,2,"option",9),e.ALo(19,"async"),e.qZA()()()()()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,7,"settings.test-address")," "),e.xp6(3),e.Q6J("formGroup",o.form),e.xp6(1),e.Q6J("label",e.lcZ(7,9,"customer.city")),e.xp6(3),e.Q6J("label",e.lcZ(10,11,"customer.province")),e.xp6(3),e.Q6J("label",e.lcZ(13,13,"customer.postal-code")),e.xp6(3),e.Q6J("label",e.lcZ(16,15,"customer.country")),e.xp6(3),e.Q6J("ngForOf",e.lcZ(19,17,o.availableCountries$)))},dependencies:[c.sg,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u,a.hgI,a.y_K,c.Ov,h.X$],styles:["[_nghost-%COMP%]{display:block}clr-input-container[_ngcontent-%COMP%]{margin-bottom:12px}"],changeDetection:0})}class X{constructor(){this.okToRun=!1,this.testDataUpdated=!1,this.runTest=new e.vpe}static#e=this.\u0275fac=function(t){return new(t||X)};static#t=this.\u0275cmp=e.Xpm({type:X,selectors:[["vdr-shipping-method-test-result"]],inputs:{testResult:"testResult",okToRun:"okToRun",testDataUpdated:"testDataUpdated",currencyCode:"currencyCode"},outputs:{runTest:"runTest"},decls:21,vars:24,consts:[[1,"test-result","card",3,"ngClass"],[1,"card-header"],[1,"card-block"],[1,"result-details"],[3,"label"],[1,"eligible-icon"],["shape","success-standard","class","is-solid success",4,"ngIf"],["shape","ban","class","is-solid error",4,"ngIf"],["shape","unknown-status",4,"ngIf"],[1,"price-row"],[3,"label",4,"ngIf"],[3,"value",4,"ngIf"],[1,"card-footer"],[1,"btn","btn-secondary",3,"disabled","click"],["shape","success-standard",1,"is-solid","success"],["shape","ban",1,"is-solid","error"],["shape","unknown-status"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"vdr-labeled-data",4),e.ALo(7,"translate"),e.TgZ(8,"div",5),e.YNc(9,$r,1,0,"clr-icon",6),e.YNc(10,Or,1,0,"clr-icon",7),e.YNc(11,wr,1,0,"clr-icon",8),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"div",9),e.YNc(14,Qr,4,7,"vdr-labeled-data",10),e.YNc(15,Ur,4,7,"vdr-labeled-data",10),e.qZA(),e.YNc(16,Rr,1,1,"vdr-object-tree",11),e.qZA()(),e.TgZ(17,"div",12)(18,"button",13),e.NdJ("click",function(){return o.runTest.emit()}),e._uU(19),e.ALo(20,"translate"),e.qZA()()()),2&t&&(e.Q6J("ngClass",e.kEZ(20,Br,!0===(null==o.testResult?null:o.testResult.eligible),!1===(null==o.testResult?null:o.testResult.eligible),!o.testResult)),e.xp6(2),e.hij(" ",e.lcZ(3,14,"settings.test-result")," "),e.xp6(3),e.ekj("stale",o.testDataUpdated),e.xp6(1),e.Q6J("label",e.lcZ(7,16,"settings.eligible")),e.xp6(3),e.Q6J("ngIf",null==o.testResult?null:o.testResult.eligible),e.xp6(1),e.Q6J("ngIf",!1===(null==o.testResult?null:o.testResult.eligible)),e.xp6(1),e.Q6J("ngIf",!o.testResult),e.xp6(1),e.hij(" ",null==o.testResult?null:o.testResult.eligible," "),e.xp6(2),e.Q6J("ngIf",null!=(null==o.testResult||null==o.testResult.quote?null:o.testResult.quote.price)),e.xp6(1),e.Q6J("ngIf",null!=(null==o.testResult||null==o.testResult.quote?null:o.testResult.quote.priceWithTax)),e.xp6(1),e.Q6J("ngIf",null==o.testResult||null==o.testResult.quote?null:o.testResult.quote.metadata),e.xp6(2),e.Q6J("disabled",!o.okToRun),e.xp6(1),e.hij(" ",e.lcZ(20,18,"settings.test-shipping-method")," "))},dependencies:[g.qvL,c.mk,c.O5,a.WGc,a._8q,h.X$,a.kgx],styles:["[_nghost-%COMP%]{display:block}.test-result.success[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]{background-color:var(--color-success-100)}.test-result.error[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]{background-color:var(--color-error-100)}.test-result.unknown[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]{background-color:var(--color-component-bg-100)}.result-details[_ngcontent-%COMP%]{transition:opacity .2s}.result-details.stale[_ngcontent-%COMP%]{opacity:.5}.eligible-icon[_ngcontent-%COMP%]{display:inline-block}.eligible-icon[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:var(--color-success-500)}.eligible-icon[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--color-error-500)}.price-row[_ngcontent-%COMP%]{display:flex}.price-row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){margin-inline-start:24px}"],changeDetection:0})}const wa=p.Ps`
    query GetShippingMethodDetail($id: ID!) {
        shippingMethod(id: $id) {
            ...ShippingMethod
        }
    }
    ${a.c3T}
`;class ee extends a.VE7{constructor(n,t,o,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=o,this.notificationService=i,this.customFields=this.getCustomFieldConfig("ShippingMethod"),this.detailForm=this.formBuilder.group({code:["",l.kI.required],name:["",l.kI.required],description:"",fulfillmentHandler:["",l.kI.required],checker:{},calculator:{},customFields:this.formBuilder.group((0,a.Lrj)(this.customFields))}),this.checkers=[],this.calculators=[],this.fulfillmentHandlers=[],this.testDataUpdated=!1,this.updatePermission=[a.y3$.UpdateSettings,a.y3$.UpdateShippingMethod],this.fetchTestResult$=new M.x}ngOnInit(){this.init(),this.dataService.shippingMethod.getShippingMethodOperations().single$.subscribe(n=>{this.checkers=n.shippingEligibilityCheckers,this.calculators=n.shippingCalculators,this.fulfillmentHandlers=n.fulfillmentHandlers,this.changeDetector.markForCheck(),this.selectedCheckerDefinition=n.shippingEligibilityCheckers.find(t=>t.code===this.entity?.checker?.code),this.selectedCalculatorDefinition=n.shippingCalculators.find(t=>t.code===this.entity?.calculator?.code)}),this.activeChannel$=this.dataService.settings.getActiveChannel().mapStream(n=>n.activeChannel),this.testResult$=this.fetchTestResult$.pipe((0,N.w)(([n,t])=>{const{checker:o,calculator:i}=this.detailForm.value;if(!(this.selectedChecker&&this.selectedCalculator&&o&&i))return(0,ue.of)(void 0);const s={shippingAddress:{...n,streetLine1:"test"},lines:t.map(m=>({productVariantId:m.id,quantity:m.quantity})),checker:(0,a.RnJ)(this.selectedChecker,o),calculator:(0,a.RnJ)(this.selectedCalculator,i)};return this.dataService.shippingMethod.testShippingMethod(s).mapSingle(m=>m.testShippingMethod)})),(0,he.T)(this.detailForm.get(["checker"]).valueChanges,this.detailForm.get(["calculator"]).valueChanges).pipe((0,Ce.R)(this.destroy$)).subscribe(()=>this.testDataUpdated=!0)}ngOnDestroy(){this.destroy()}updateCode(n,t){if(!n){const o=this.detailForm.get(["code"]);o&&o.pristine&&o.setValue((0,fe.U)(t,"-"))}}selectChecker(n){this.selectedCheckerDefinition=n,this.selectedChecker=(0,a.miO)(n);const t=this.detailForm.get("checker");t&&(t.clearValidators(),t.updateValueAndValidity({onlySelf:!0}),t.patchValue(this.selectedChecker)),this.detailForm.markAsDirty()}selectCalculator(n){this.selectedCalculatorDefinition=n,this.selectedCalculator=(0,a.miO)(n);const t=this.detailForm.get("calculator");t&&(t.clearValidators(),t.updateValueAndValidity({onlySelf:!0}),t.patchValue(this.selectedCalculator)),this.detailForm.markAsDirty()}create(){const n=this.selectedChecker,t=this.selectedCalculator,{checker:o,calculator:i}=this.detailForm.value;if(!(n&&t&&o&&i))return;this.detailForm.value;const m={...this.getUpdatedShippingMethod({createdAt:"",updatedAt:"",id:"",code:"",name:"",description:"",fulfillmentHandlerCode:"",checker:void 0,calculator:void 0,translations:[]},this.detailForm,this.languageCode),checker:(0,a.RnJ)(n,o),calculator:(0,a.RnJ)(t,i)};this.dataService.shippingMethod.createShippingMethod(m).subscribe(_=>{this.notificationService.success((0,d.J)("common.notify-create-success"),{entity:"ShippingMethod"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",_.createShippingMethod.id],{relativeTo:this.route})},_=>{this.notificationService.error((0,d.J)("common.notify-create-error"),{entity:"ShippingMethod"})})}save(){const n=this.selectedChecker,t=this.selectedCalculator,{checker:o,calculator:i}=this.detailForm.value;!n||!t||!o||!i||(0,I.a)([this.entity$,this.languageCode$]).pipe((0,C.q)(1),(0,b.z)(([s,m])=>{this.detailForm.value;const f={...this.getUpdatedShippingMethod(s,this.detailForm,m),checker:(0,a.RnJ)(n,o),calculator:(0,a.RnJ)(t,i)};return this.dataService.shippingMethod.updateShippingMethod(f)})).subscribe(s=>{this.notificationService.success((0,d.J)("common.notify-update-success"),{entity:"ShippingMethod"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},s=>{console.error(s),this.notificationService.error((0,d.J)("common.notify-update-error"),{entity:"ShippingMethod"})})}setTestOrderLines(n){this.testOrderLines=n,this.testDataUpdated=!0}setTestAddress(n){this.testAddress=n,this.testDataUpdated=!0}allTestDataPresent(){return!!(this.testAddress&&this.testOrderLines&&this.testOrderLines.length&&this.selectedChecker&&this.selectedCalculator)}runTest(){this.fetchTestResult$.next([this.testAddress,this.testOrderLines]),this.testDataUpdated=!1}getUpdatedShippingMethod(n,t,o){const i=t.value;return{...(0,a.iSy)({translatable:n,updatedFields:i,customFieldConfig:this.customFields,languageCode:o,defaultTranslation:{languageCode:o,name:n.name||"",description:n.description||""}}),fulfillmentHandler:i.fulfillmentHandler}}setFormValues(n,t){const o=(0,a.ZIM)(n,t);this.detailForm.patchValue({name:o?.name??"",description:o?.description??"",code:n.code,fulfillmentHandler:n.fulfillmentHandlerCode,checker:n.checker||{},calculator:n.calculator||{}}),this.selectedChecker||(this.selectedChecker=n.checker&&{code:n.checker.code,args:n.checker.args.map(i=>({...i,value:(0,a.sux)(i.value)}))}),this.selectedCalculator||(this.selectedCalculator=n.calculator&&{code:n.calculator?.code,args:n.calculator?.args.map(i=>({...i,value:(0,a.sux)(i.value)}))}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get(["customFields"]),n,o)}static#e=this.\u0275fac=function(t){return new(t||ee)(e.Y36(e.sBO),e.Y36(a.DoR),e.Y36(l.qu),e.Y36(a.gqp))};static#t=this.\u0275cmp=e.Xpm({type:ee,selectors:[["vdr-shipping-method-detail"]],features:[e.qOj],decls:55,vars:69,consts:[[3,"disabled","availableLanguageCodes","currentLanguageCode","languageCodeChange"],["locationId","shipping-method-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly","input"],["for","code",3,"label","readOnlyToggle"],["id","code","type","text","formControlName","code",3,"readonly"],["formControlName","description",1,"form-grid-span",3,"readonly","label"],["for","fulfillmentHandler",3,"label"],["name","fulfillmentHandler","formControlName","fulfillmentHandler",3,"vdrDisabled"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","shipping-method-detail",3,"entity$","detailForm"],[3,"title"],["class","card-span","formControlName","checker",3,"operation","operationDefinition","readonly","remove",4,"ngIf"],["class","card-span",4,"ngIf"],["class","card-span","formControlName","calculator",3,"operation","operationDefinition","readonly","remove",4,"ngIf"],[1,"card-span",3,"orderLinesChange"],[1,"mt-2",3,"addressChange"],[1,"mt-2",3,"currencyCode","okToRun","testDataUpdated","testResult","runTest"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],[3,"value"],["formGroupName","customFields",3,"title"],["entityName","ShippingMethod",3,"customFields","customFieldsFormGroup"],["formControlName","checker",1,"card-span",3,"operation","operationDefinition","readonly","remove"],[1,"card-span"],["vdrDropdownTrigger","",1,"btn","btn-outline"],["shape","plus"],["vdrPosition","bottom-left"],["type","button","vdrDropdownItem","",3,"click",4,"ngFor","ngForOf"],["type","button","vdrDropdownItem","",3,"click"],["formControlName","calculator",1,"card-span",3,"operation","operationDefinition","readonly","remove"]],template:function(t,o){if(1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",0),e.NdJ("languageCodeChange",function(s){return o.setLanguage(s)}),e.ALo(4,"async"),e.ALo(5,"async"),e.ALo(6,"async"),e.qZA()(),e.TgZ(7,"vdr-ab-right"),e._UZ(8,"vdr-action-bar-items",1),e.YNc(9,Yr,3,4,"button",2),e.ALo(10,"async"),e.YNc(11,Gr,1,1,"ng-template",null,3,e.W1O),e.qZA()()(),e.TgZ(13,"form",4)(14,"vdr-page-detail-layout")(15,"vdr-page-detail-sidebar"),e.YNc(16,zr,2,1,"vdr-card",5),e.ALo(17,"async"),e.qZA(),e.TgZ(18,"vdr-page-block")(19,"vdr-card")(20,"div",6)(21,"vdr-form-field",7),e.ALo(22,"translate"),e.TgZ(23,"input",8),e.NdJ("input",function(s){return o.updateCode(null==o.entity?null:o.entity.code,s.target.value)}),e.ALo(24,"hasPermission"),e.qZA()(),e.TgZ(25,"vdr-form-field",9),e.ALo(26,"translate"),e.ALo(27,"hasPermission"),e._UZ(28,"input",10),e.ALo(29,"hasPermission"),e.qZA(),e._UZ(30,"vdr-rich-text-editor",11),e.ALo(31,"hasPermission"),e.ALo(32,"translate"),e.TgZ(33,"vdr-form-field",12),e.ALo(34,"translate"),e.TgZ(35,"select",13),e.ALo(36,"hasPermission"),e.YNc(37,jr,2,3,"option",14),e.qZA()()()(),e.YNc(38,Hr,3,5,"vdr-card",15),e._UZ(39,"vdr-custom-detail-component-host",16),e.TgZ(40,"vdr-card",17),e.ALo(41,"translate"),e.YNc(42,Vr,2,5,"vdr-configurable-input",18),e.YNc(43,Wr,8,4,"div",19),e.qZA(),e.TgZ(44,"vdr-card",17),e.ALo(45,"translate"),e.YNc(46,Xr,2,5,"vdr-configurable-input",20),e.YNc(47,to,8,4,"div",19),e.qZA(),e.TgZ(48,"vdr-card",17),e.ALo(49,"translate"),e.TgZ(50,"vdr-test-order-builder",21),e.NdJ("orderLinesChange",function(s){return o.setTestOrderLines(s)}),e.qZA(),e.TgZ(51,"vdr-test-address-form",22),e.NdJ("addressChange",function(s){return o.setTestAddress(s)}),e.qZA(),e.TgZ(52,"vdr-shipping-method-test-result",23),e.NdJ("runTest",function(){return o.runTest()}),e.ALo(53,"async"),e.ALo(54,"async"),e.qZA()()()()()),2&t){const i=e.MAs(12);let s;e.xp6(3),e.Q6J("disabled",e.lcZ(4,31,o.isNew$))("availableLanguageCodes",e.lcZ(5,33,o.availableLanguages$))("currentLanguageCode",e.lcZ(6,35,o.languageCode$)),e.xp6(6),e.Q6J("ngIf",e.lcZ(10,37,o.isNew$))("ngIfElse",i),e.xp6(4),e.Q6J("formGroup",o.detailForm),e.xp6(3),e.Q6J("ngIf",e.lcZ(17,39,o.entity$)),e.xp6(5),e.Q6J("label",e.lcZ(22,41,"common.name")),e.xp6(2),e.Q6J("readonly",!e.lcZ(24,43,o.updatePermission)),e.xp6(2),e.Q6J("label",e.lcZ(26,45,"common.code"))("readOnlyToggle",e.lcZ(27,47,o.updatePermission)),e.xp6(3),e.Q6J("readonly",!e.lcZ(29,49,o.updatePermission)),e.xp6(2),e.Q6J("readonly",!e.lcZ(31,51,o.updatePermission))("label",e.lcZ(32,53,"common.description")),e.xp6(3),e.Q6J("label",e.lcZ(34,55,"settings.fulfillment-handler")),e.xp6(2),e.Q6J("vdrDisabled",!e.lcZ(36,57,o.updatePermission)),e.xp6(2),e.Q6J("ngForOf",o.fulfillmentHandlers),e.xp6(1),e.Q6J("ngIf",o.customFields.length),e.xp6(1),e.Q6J("entity$",o.entity$)("detailForm",o.detailForm),e.xp6(1),e.Q6J("title",e.lcZ(41,59,"settings.shipping-eligibility-checker")),e.xp6(2),e.Q6J("ngIf",o.selectedChecker&&o.selectedCheckerDefinition),e.xp6(1),e.Q6J("ngIf",!o.selectedChecker||!o.selectedCheckerDefinition),e.xp6(1),e.Q6J("title",e.lcZ(45,61,"settings.shipping-calculator")),e.xp6(2),e.Q6J("ngIf",o.selectedCalculator&&o.selectedCalculatorDefinition),e.xp6(1),e.Q6J("ngIf",!o.selectedCalculator||!o.selectedCalculatorDefinition),e.xp6(1),e.Q6J("title",e.lcZ(49,63,"settings.test-shipping-method")),e.xp6(4),e.Q6J("currencyCode",null==(s=e.lcZ(53,65,o.activeChannel$))?null:s.currencyCode)("okToRun",o.allTestDataPresent()&&o.testDataUpdated&&o.detailForm.valid)("testDataUpdated",o.testDataUpdated)("testResult",e.lcZ(54,67,o.testResult$))}},dependencies:[g.qvL,c.sg,c.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.sg,l.u,l.x0,a.KkL,a.BND,a.mz,a.qq8,a.hgI,a.y_K,a.SdP,a.YI,a.JOL,a.N9E,a.UaT,a.HH4,a.HAh,a.WWO,a.x3T,a.yc0,a.CWh,a.zJY,a.DME,a.TeL,a.W1W,a.AkF,k,D,X,c.Ov,h.X$,a.j$k],changeDetection:0})}const Me=(0,a.wwB)({location:"shipping-method-list",requiresPermission:r=>r.includes(a.y3$.DeleteShippingMethod),getItemName:r=>r.name,bulkDelete:(r,n)=>r.shippingMethod.deleteShippingMethods(n).pipe((0,v.U)(t=>t.deleteShippingMethods))}),Se=(p.Ps`
    mutation AssignShippingMethodsToChannel($input: AssignShippingMethodsToChannelInput!) {
        assignShippingMethodsToChannel(input: $input) {
            id
            name
        }
    }
`,p.Ps`
    mutation RemoveShippingMethodsFromChannel($input: RemoveShippingMethodsFromChannelInput!) {
        removeShippingMethodsFromChannel(input: $input) {
            id
            name
        }
    }
`,(0,a.z1G)({location:"shipping-method-list",requiresPermission:r=>r.includes(a.y3$.UpdateShippingMethod)||r.includes(a.y3$.UpdateSettings),getItemName:r=>r.name,bulkAssignToChannel:(r,n,t)=>r.mutate(a.pnb,{input:{channelId:t,shippingMethodIds:n}}).pipe((0,v.U)(o=>o.assignShippingMethodsToChannel))})),qe=(0,a.RBx)({location:"shipping-method-list",requiresPermission:r=>r.includes(a.y3$.DeleteShippingMethod)||r.includes(a.y3$.DeleteSettings),getItemName:r=>r.name,bulkRemoveFromChannel:(r,n,t)=>r.mutate(a.Yau,{input:{channelId:t,shippingMethodIds:n}}).pipe((0,v.U)(o=>o.removeShippingMethodsFromChannel))}),Qa=p.Ps`
    query GetShippingMethodList($options: ShippingMethodListOptions) {
        shippingMethods(options: $options) {
            items {
                ...ShippingMethodListItem
            }
            totalItems
        }
    }
    fragment ShippingMethodListItem on ShippingMethod {
        id
        createdAt
        updatedAt
        code
        name
        description
        fulfillmentHandlerCode
    }
`;class te extends a.$ms{constructor(){super(),this.customFields=this.getCustomFieldConfig("ShippingMethod"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"name",type:{kind:"text"},label:(0,d.J)("common.name"),filterField:"name"}).addFilter({name:"code",type:{kind:"text"},label:(0,d.J)("common.code"),filterField:"code"}).addFilter({name:"description",type:{kind:"text"},label:(0,d.J)("common.description"),filterField:"description"}).addFilter({name:"fulfillmentHandler",type:{kind:"text"},label:(0,d.J)("settings.fulfillment-handler"),filterField:"fulfillmentHandlerCode"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addSort({name:"code"}).addSort({name:"description"}).addSort({name:"fulfillmentHandlerCode"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:a.Gog,getItems:n=>n.shippingMethods,setVariables:(n,t)=>({options:{skip:n,take:t,filter:{name:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}static#e=this.\u0275fac=function(t){return new(t||te)};static#t=this.\u0275cmp=e.Xpm({type:te,selectors:[["vdr-shipping-method-list"]],features:[e.qOj],decls:39,vars:60,consts:[[3,"availableLanguageCodes","currentLanguageCode","languageCodeChange"],["locationId","shipping-method-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],["id","shipping-method-list",3,"items","itemsPerPage","totalItems","currentPage","filters","pageChange","itemsPerPageChange"],["locationId","shipping-method-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","code",3,"heading","sort"],["id","description",3,"heading","sort","hiddenByDefault"],["id","fulfillment-handler",3,"heading","sort"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[3,"customField","sorts"]],template:function(t,o){1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",0),e.NdJ("languageCodeChange",function(s){return o.setLanguage(s)}),e.ALo(4,"async"),e.ALo(5,"async"),e.qZA()(),e.TgZ(6,"vdr-ab-right"),e._UZ(7,"vdr-action-bar-items",1),e.YNc(8,no,4,5,"a",2),e.qZA()()(),e.TgZ(9,"vdr-data-table-2",3),e.NdJ("pageChange",function(s){return o.setPageNumber(s)})("itemsPerPageChange",function(s){return o.setItemsPerPage(s)}),e.ALo(10,"async"),e.ALo(11,"async"),e.ALo(12,"async"),e.ALo(13,"async"),e._UZ(14,"vdr-bulk-action-menu",4)(15,"vdr-dt2-search",5),e.ALo(16,"translate"),e.TgZ(17,"vdr-dt2-column",6),e.ALo(18,"translate"),e.YNc(19,ro,1,1,"ng-template"),e.qZA(),e.TgZ(20,"vdr-dt2-column",7),e.ALo(21,"translate"),e.YNc(22,oo,2,4,"ng-template"),e.qZA(),e.TgZ(23,"vdr-dt2-column",8),e.ALo(24,"translate"),e.YNc(25,ao,2,4,"ng-template"),e.qZA(),e.TgZ(26,"vdr-dt2-column",9),e.ALo(27,"translate"),e.YNc(28,io,4,4,"ng-template"),e.qZA(),e.TgZ(29,"vdr-dt2-column",10),e.ALo(30,"translate"),e.YNc(31,so,1,1,"ng-template"),e.qZA(),e.TgZ(32,"vdr-dt2-column",11),e.ALo(33,"translate"),e.YNc(34,lo,1,1,"ng-template"),e.qZA(),e.TgZ(35,"vdr-dt2-column",12),e.ALo(36,"translate"),e.YNc(37,co,1,1,"ng-template"),e.qZA(),e.YNc(38,mo,1,2,"vdr-dt2-custom-field-column",13),e.qZA()),2&t&&(e.xp6(3),e.Q6J("availableLanguageCodes",e.lcZ(4,31,o.availableLanguages$))("currentLanguageCode",e.lcZ(5,33,o.contentLanguage$)),e.xp6(5),e.Q6J("vdrIfPermissions",e.DdM(59,uo)),e.xp6(1),e.Q6J("items",e.lcZ(10,35,o.items$))("itemsPerPage",e.lcZ(11,37,o.itemsPerPage$))("totalItems",e.lcZ(12,39,o.totalItems$))("currentPage",e.lcZ(13,41,o.currentPage$))("filters",o.filters),e.xp6(5),e.Q6J("hostComponent",o)("selectionManager",o.selectionManager),e.xp6(1),e.Q6J("searchTermControl",o.searchTermControl)("searchTermPlaceholder",e.lcZ(16,43,"catalog.filter-by-name")),e.xp6(2),e.Q6J("heading",e.lcZ(18,45,"common.id"))("hiddenByDefault",!0),e.xp6(3),e.Q6J("heading",e.lcZ(21,47,"common.created-at"))("hiddenByDefault",!0)("sort",o.sorts.get("createdAt")),e.xp6(3),e.Q6J("heading",e.lcZ(24,49,"common.updated-at"))("hiddenByDefault",!0)("sort",o.sorts.get("updatedAt")),e.xp6(3),e.Q6J("heading",e.lcZ(27,51,"common.name"))("optional",!1)("sort",o.sorts.get("name")),e.xp6(3),e.Q6J("heading",e.lcZ(30,53,"common.code"))("sort",o.sorts.get("code")),e.xp6(3),e.Q6J("heading",e.lcZ(33,55,"common.description"))("sort",o.sorts.get("description"))("hiddenByDefault",!0),e.xp6(3),e.Q6J("heading",e.lcZ(36,57,"settings.fulfillment-handler"))("sort",o.sorts.get("fulfillmentHandlerCode")),e.xp6(3),e.Q6J("ngForOf",o.customFields))},dependencies:[g.qvL,c.sg,y.rH,a.KkL,a.BND,a.mz,a.SdP,a.HAh,a.WWO,a.cuf,a.eJ5,a.Up6,a.JBy,a.jrk,a.zJY,c.Ov,h.X$,a.HbD],changeDetection:0})}const _e=p.Ps`
    fragment StockLocationDetail on StockLocation {
        id
        createdAt
        updatedAt
        name
        description
    }
`,Ua=p.Ps`
    query GetStockLocationDetail($id: ID!) {
        stockLocation(id: $id) {
            ...StockLocationDetail
        }
    }
    ${_e}
`,Ra=p.Ps`
    mutation CreateStockLocation($input: CreateStockLocationInput!) {
        createStockLocation(input: $input) {
            ...StockLocationDetail
        }
    }
    ${_e}
`,Ba=p.Ps`
    mutation UpdateStockLocation($input: UpdateStockLocationInput!) {
        updateStockLocation(input: $input) {
            ...StockLocationDetail
        }
    }
    ${_e}
`;class ne extends a.VE7{constructor(n,t,o,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=o,this.notificationService=i,this.customFields=this.getCustomFieldConfig("StockLocation"),this.detailForm=this.formBuilder.group({name:["",l.kI.required],description:[""],customFields:this.formBuilder.group((0,a.Lrj)(this.customFields))})}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}create(){if(!this.detailForm.dirty)return;const{name:n,description:t,customFields:o}=this.detailForm.value;if(!n)return;const i={name:n,description:t,customFields:o};this.dataService.mutate(a.yNU,{input:i}).subscribe(s=>{this.notificationService.success((0,d.J)("common.notify-create-success"),{entity:"StockLocation"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",s.createStockLocation.id],{relativeTo:this.route})},s=>{this.notificationService.error((0,d.J)("common.notify-create-error"),{entity:"StockLocation"})})}save(){if(!this.detailForm.dirty)return;const n=this.detailForm.value;this.entity$.pipe((0,C.q)(1),(0,b.z)(t=>{const o={id:t.id,name:n.name,description:n.description,customFields:n.customFields};return this.dataService.mutate(a.Xwk,{input:o})})).subscribe(t=>{this.notificationService.success((0,d.J)("common.notify-update-success"),{entity:"StockLocation"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},t=>{this.notificationService.error((0,d.J)("common.notify-update-error"),{entity:"StockLocation"})})}setFormValues(n){this.detailForm.patchValue({name:n.name,description:n.description}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),n)}static#e=this.\u0275fac=function(t){return new(t||ne)(e.Y36(e.sBO),e.Y36(a.DoR),e.Y36(l.qu),e.Y36(a.gqp))};static#t=this.\u0275cmp=e.Xpm({type:ne,selectors:[["vdr-stock-location-detail"]],features:[e.qOj],decls:28,vars:28,consts:[["locationId","stock-location-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["for","slug",1,"form-grid-span",3,"label","errors"],["formControlName","description",3,"readonly"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","stock-location-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["formGroupName","customFields",3,"title"],["entityName","StockLocation",3,"customFields","customFieldsFormGroup"]],template:function(t,o){if(1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar"),e._UZ(2,"vdr-ab-left"),e.TgZ(3,"vdr-ab-right"),e._UZ(4,"vdr-action-bar-items",0),e.YNc(5,po,3,4,"button",1),e.ALo(6,"async"),e.YNc(7,ho,1,1,"ng-template",null,2,e.W1O),e.qZA()()(),e.TgZ(9,"form",3)(10,"vdr-page-detail-layout")(11,"vdr-page-detail-sidebar"),e.YNc(12,fo,2,1,"vdr-card",4),e.ALo(13,"async"),e.qZA(),e.TgZ(14,"vdr-page-block")(15,"vdr-card")(16,"div",5)(17,"vdr-form-field",6),e.ALo(18,"translate"),e._UZ(19,"input",7),e.ALo(20,"hasPermission"),e.qZA(),e.TgZ(21,"vdr-form-field",8),e.ALo(22,"translate"),e.ALo(23,"translate"),e._UZ(24,"vdr-rich-text-editor",9),e.ALo(25,"hasPermission"),e.qZA()()(),e.YNc(26,vo,3,5,"vdr-card",10),e._UZ(27,"vdr-custom-detail-component-host",11),e.qZA()()()),2&t){const i=e.MAs(8);e.xp6(5),e.Q6J("ngIf",e.lcZ(6,12,o.isNew$))("ngIfElse",i),e.xp6(4),e.Q6J("formGroup",o.detailForm),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,14,o.entity$)),e.xp6(5),e.Q6J("label",e.lcZ(18,16,"common.name")),e.xp6(2),e.Q6J("readonly",!e.lcZ(20,18,"UpdateStockLocation")),e.xp6(2),e.Q6J("label",e.lcZ(22,20,"common.description"))("errors",e.VKq(26,_o,e.lcZ(23,22,"catalog.slug-pattern-error"))),e.xp6(3),e.Q6J("readonly",!e.lcZ(25,24,"UpdateStockLocation")),e.xp6(2),e.Q6J("ngIf",o.customFields.length),e.xp6(1),e.Q6J("entity$",o.entity$)("detailForm",o.detailForm)}},dependencies:[c.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,l.x0,a.KkL,a.BND,a.mz,a.hgI,a.y_K,a.YI,a.HAh,a.WWO,a.yc0,a.CWh,a.zJY,a.DME,a.TeL,a.W1W,a.AkF,c.Ov,h.X$,a.j$k],changeDetection:0})}p.Ps`
    mutation DeleteStockLocations($input: [DeleteStockLocationInput!]!) {
        deleteStockLocations(input: $input) {
            result
            message
        }
    }
`,p.Ps`
    mutation AssignStockLocationsToChannel($input: AssignStockLocationsToChannelInput!) {
        assignStockLocationsToChannel(input: $input) {
            id
            name
        }
    }
`,p.Ps`
    mutation RemoveStockLocationsFromChannel($input: RemoveStockLocationsFromChannelInput!) {
        removeStockLocationsFromChannel(input: $input) {
            id
            name
        }
    }
`;const $e=(0,a.wwB)({location:"stock-location-list",requiresPermission:r=>r.includes(a.y3$.DeleteStockLocation)||r.includes(a.y3$.DeleteCatalog),getItemName:r=>r.name,bulkDelete:(r,n)=>r.mutate(a.jBp,{input:n.map(t=>({id:t}))}).pipe((0,v.U)(t=>t.deleteStockLocations)),shouldRetryItem:r=>r.result===a.PcR.NOT_DELETED}),Oe=(0,a.z1G)({location:"stock-location-list",requiresPermission:r=>r.includes(a.y3$.UpdateCatalog)||r.includes(a.y3$.UpdateStockLocation),getItemName:r=>r.name,bulkAssignToChannel:(r,n,t)=>r.mutate(a.bYS,{input:{channelId:t,stockLocationIds:n}}).pipe((0,v.U)(o=>o.assignStockLocationsToChannel))}),we=(0,a.RBx)({location:"stock-location-list",requiresPermission:r=>r.includes(a.y3$.DeleteCatalog)||r.includes(a.y3$.DeleteStockLocation),getItemName:r=>r.name,bulkRemoveFromChannel:(r,n,t)=>r.mutate(a.nwT,{input:{channelId:t,stockLocationIds:n}}).pipe((0,v.U)(o=>o.removeStockLocationsFromChannel))}),Ya=p.Ps`
    query GetStockLocationList($options: StockLocationListOptions) {
        stockLocations(options: $options) {
            items {
                ...StockLocationListItem
            }
            totalItems
        }
    }
    fragment StockLocationListItem on StockLocation {
        id
        createdAt
        updatedAt
        name
        description
    }
`;class re extends a.$ms{constructor(){super(),this.customFields=this.getCustomFieldConfig("StockLocation"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilters([{name:"enabled",type:{kind:"text"},label:(0,d.J)("common.enabled"),filterField:"name"},{name:"sku",type:{kind:"text"},label:(0,d.J)("catalog.sku"),filterField:"description"}]).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().addSorts([{name:"id"},{name:"createdAt"},{name:"updatedAt"},{name:"name"},{name:"description"}]).addCustomFieldSorts(this.customFields).connectToRoute(this.route),this.configure({document:a.uQH,getItems:n=>n.stockLocations,setVariables:(n,t)=>({options:{skip:n,take:t,filter:{name:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.sorts.valueChanges,this.filters.valueChanges]})}static#e=this.\u0275fac=function(t){return new(t||re)};static#t=this.\u0275cmp=e.Xpm({type:re,selectors:[["vdr-stock-location-list"]],features:[e.qOj],decls:30,vars:46,consts:[["locationId","stock-location-list"],["class","button primary",3,"routerLink",4,"vdrIfPermissions"],["id","stock-location-list",1,"mt-2",3,"items","itemsPerPage","totalItems","currentPage","filters","pageChange","itemsPerPageChange"],["locationId","stock-location-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault","sort"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","description",3,"heading","sort"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"button","primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[1,"description",3,"innerHTML"],[3,"customField","sorts"]],template:function(t,o){1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar"),e._UZ(2,"vdr-ab-left"),e.TgZ(3,"vdr-ab-right"),e._UZ(4,"vdr-action-bar-items",0),e.YNc(5,bo,4,5,"a",1),e.qZA()()(),e.TgZ(6,"vdr-data-table-2",2),e.NdJ("pageChange",function(s){return o.setPageNumber(s)})("itemsPerPageChange",function(s){return o.setItemsPerPage(s)}),e.ALo(7,"async"),e.ALo(8,"async"),e.ALo(9,"async"),e.ALo(10,"async"),e._UZ(11,"vdr-bulk-action-menu",3)(12,"vdr-dt2-search",4),e.ALo(13,"translate"),e.TgZ(14,"vdr-dt2-column",5),e.ALo(15,"translate"),e.YNc(16,yo,1,1,"ng-template"),e.qZA(),e.TgZ(17,"vdr-dt2-column",6),e.ALo(18,"translate"),e.YNc(19,Co,2,4,"ng-template"),e.qZA(),e.TgZ(20,"vdr-dt2-column",7),e.ALo(21,"translate"),e.YNc(22,To,2,4,"ng-template"),e.qZA(),e.TgZ(23,"vdr-dt2-column",8),e.ALo(24,"translate"),e.YNc(25,Zo,4,4,"ng-template"),e.qZA(),e.TgZ(26,"vdr-dt2-column",9),e.ALo(27,"translate"),e.YNc(28,Ao,1,1,"ng-template"),e.qZA(),e.YNc(29,Lo,1,2,"vdr-dt2-custom-field-column",10),e.qZA()),2&t&&(e.xp6(5),e.Q6J("vdrIfPermissions",e.DdM(45,Fo)),e.xp6(1),e.Q6J("items",e.lcZ(7,25,o.items$))("itemsPerPage",e.lcZ(8,27,o.itemsPerPage$))("totalItems",e.lcZ(9,29,o.totalItems$))("currentPage",e.lcZ(10,31,o.currentPage$))("filters",o.filters),e.xp6(5),e.Q6J("hostComponent",o)("selectionManager",o.selectionManager),e.xp6(1),e.Q6J("searchTermControl",o.searchTermControl)("searchTermPlaceholder",e.lcZ(13,33,"catalog.filter-by-name")),e.xp6(2),e.Q6J("heading",e.lcZ(15,35,"common.id"))("hiddenByDefault",!0)("sort",o.sorts.get("id")),e.xp6(3),e.Q6J("heading",e.lcZ(18,37,"common.created-at"))("hiddenByDefault",!0)("sort",o.sorts.get("createdAt")),e.xp6(3),e.Q6J("heading",e.lcZ(21,39,"common.updated-at"))("hiddenByDefault",!0)("sort",o.sorts.get("updatedAt")),e.xp6(3),e.Q6J("heading",e.lcZ(24,41,"common.name"))("optional",!1)("sort",o.sorts.get("name")),e.xp6(3),e.Q6J("heading",e.lcZ(27,43,"common.description"))("sort",o.sorts.get("description")),e.xp6(3),e.Q6J("ngForOf",o.customFields))},dependencies:[g.qvL,c.sg,y.rH,a.KkL,a.BND,a.mz,a.HAh,a.WWO,a.cuf,a.eJ5,a.Up6,a.JBy,a.jrk,a.zJY,c.Ov,h.X$,a.HbD],styles:[".description>p{margin-top:0!important}"],changeDetection:0})}const Ea=p.Ps`
    query GetTaxCategoryDetail($id: ID!) {
        taxCategory(id: $id) {
            ...TaxCategory
        }
    }
    ${a.pIN}
`;class oe extends a.VE7{constructor(n,t,o,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=o,this.notificationService=i,this.customFields=this.getCustomFieldConfig("TaxCategory"),this.detailForm=this.formBuilder.group({name:["",l.kI.required],isDefault:!1,customFields:this.formBuilder.group((0,a.Lrj)(this.customFields))}),this.updatePermission=[a.y3$.UpdateSettings,a.y3$.UpdateTaxCategory]}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}saveButtonEnabled(){return this.detailForm.dirty&&this.detailForm.valid}create(){if(!this.detailForm.dirty)return;const n=this.detailForm.value,t={name:n.name,isDefault:n.isDefault,customFields:n.customFields};this.dataService.settings.createTaxCategory(t).subscribe(o=>{this.notificationService.success((0,d.J)("common.notify-create-success"),{entity:"TaxCategory"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",o.createTaxCategory.id],{relativeTo:this.route})},o=>{this.notificationService.error((0,d.J)("common.notify-create-error"),{entity:"TaxCategory"})})}save(){if(!this.detailForm.dirty)return;const n=this.detailForm.value;this.entity$.pipe((0,C.q)(1),(0,b.z)(t=>{const o={id:t.id,name:n.name,isDefault:n.isDefault,customFields:n.customFields};return this.dataService.settings.updateTaxCategory(o)})).subscribe(t=>{this.notificationService.success((0,d.J)("common.notify-update-success"),{entity:"TaxCategory"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},t=>{this.notificationService.error((0,d.J)("common.notify-update-error"),{entity:"TaxCategory"})})}setFormValues(n,t){this.detailForm.patchValue({name:n.name,isDefault:n.isDefault}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),n)}static#e=this.\u0275fac=function(t){return new(t||oe)(e.Y36(e.sBO),e.Y36(a.DoR),e.Y36(l.qu),e.Y36(a.gqp))};static#t=this.\u0275cmp=e.Xpm({type:oe,selectors:[["vdr-tax-detail"]],features:[e.qOj],decls:28,vars:23,consts:[["locationId","tax-category-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["for","isDefault",3,"label"],["type","checkbox","clrToggle","","id","isDefault","formControlName","isDefault",3,"vdrDisabled"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","tax-category-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["formGroupName","customFields",3,"title"],["entityName","TaxCategory",3,"customFields","customFieldsFormGroup"]],template:function(t,o){if(1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar"),e._UZ(2,"vdr-ab-left"),e.TgZ(3,"vdr-ab-right"),e._UZ(4,"vdr-action-bar-items",0),e.YNc(5,xo,3,4,"button",1),e.ALo(6,"async"),e.YNc(7,Po,1,1,"ng-template",null,2,e.W1O),e.qZA()()(),e.TgZ(9,"form",3)(10,"vdr-page-detail-layout")(11,"vdr-page-detail-sidebar"),e.YNc(12,ko,2,1,"vdr-card",4),e.ALo(13,"async"),e.qZA(),e.TgZ(14,"vdr-page-block")(15,"vdr-card")(16,"div",5)(17,"vdr-form-field",6),e.ALo(18,"translate"),e._UZ(19,"input",7),e.ALo(20,"hasPermission"),e.qZA(),e.TgZ(21,"vdr-form-field",8),e.ALo(22,"translate"),e.TgZ(23,"clr-toggle-wrapper"),e._UZ(24,"input",9),e.ALo(25,"hasPermission"),e.qZA()()()(),e.YNc(26,Do,3,5,"vdr-card",10),e._UZ(27,"vdr-custom-detail-component-host",11),e.qZA()()()),2&t){const i=e.MAs(8);e.xp6(5),e.Q6J("ngIf",e.lcZ(6,11,o.isNew$))("ngIfElse",i),e.xp6(4),e.Q6J("formGroup",o.detailForm),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,13,o.entity$)),e.xp6(5),e.Q6J("label",e.lcZ(18,15,"common.name")),e.xp6(2),e.Q6J("readonly",!e.lcZ(20,17,o.updatePermission)),e.xp6(2),e.Q6J("label",e.lcZ(22,19,"common.default-tax-category")),e.xp6(3),e.Q6J("vdrDisabled",!e.lcZ(25,21,o.updatePermission)),e.xp6(2),e.Q6J("ngIf",o.customFields.length),e.xp6(1),e.Q6J("entity$",o.entity$)("detailForm",o.detailForm)}},dependencies:[g.KKC,g.PEh,c.O5,l._Y,l.Fj,l.Wl,l.JJ,l.JL,l.sg,l.u,l.x0,a.KkL,a.BND,a.mz,a.hgI,a.y_K,a.HAh,a.WWO,a.x3T,a.yc0,a.CWh,a.zJY,a.DME,a.TeL,a.W1W,a.AkF,c.Ov,h.X$,a.j$k],changeDetection:0})}const Qe=(0,a.wwB)({location:"tax-category-list",requiresPermission:r=>r.includes(a.y3$.DeleteSettings)||r.includes(a.y3$.DeleteTaxCategory),getItemName:r=>r.name,bulkDelete:(r,n)=>r.settings.deleteTaxCategories(n).pipe((0,v.U)(t=>t.deleteTaxCategories))}),Ga=p.Ps`
    query GetTaxCategoryList($options: TaxCategoryListOptions) {
        taxCategories(options: $options) {
            items {
                ...TaxCategory
            }
            totalItems
        }
    }
    ${a.pIN}
`;class ae extends a.$ms{constructor(){super(),this.customFields=this.serverConfigService.getCustomFieldsFor("TaxCategory"),this.filters=this.createFilterCollection().addIdFilter().addFilter({name:"name",type:{kind:"text"},label:(0,d.J)("common.name"),filterField:"name"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:a.YJM,getItems:n=>n.taxCategories,setVariables:(n,t)=>({options:{skip:n,take:t,filter:{name:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}static#e=this.\u0275fac=function(t){return new(t||ae)};static#t=this.\u0275cmp=e.Xpm({type:ae,selectors:[["vdr-tax-list"]],features:[e.qOj],decls:30,vars:44,consts:[["locationId","tax-category-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],["id","tax-category-list",3,"items","itemsPerPage","totalItems","currentPage","filters","pageChange","itemsPerPageChange"],["locationId","tax-category-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","default-tax-category",3,"heading"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[4,"ngIf"],[3,"customField","sorts"]],template:function(t,o){1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar"),e._UZ(2,"vdr-ab-left"),e.TgZ(3,"vdr-ab-right"),e._UZ(4,"vdr-action-bar-items",0),e.YNc(5,Jo,4,5,"a",1),e.qZA()()(),e.TgZ(6,"vdr-data-table-2",2),e.NdJ("pageChange",function(s){return o.setPageNumber(s)})("itemsPerPageChange",function(s){return o.setItemsPerPage(s)}),e.ALo(7,"async"),e.ALo(8,"async"),e.ALo(9,"async"),e.ALo(10,"async"),e._UZ(11,"vdr-bulk-action-menu",3)(12,"vdr-dt2-search",4),e.ALo(13,"translate"),e.TgZ(14,"vdr-dt2-column",5),e.ALo(15,"translate"),e.YNc(16,No,1,1,"ng-template"),e.qZA(),e.TgZ(17,"vdr-dt2-column",6),e.ALo(18,"translate"),e.YNc(19,Mo,2,4,"ng-template"),e.qZA(),e.TgZ(20,"vdr-dt2-column",7),e.ALo(21,"translate"),e.YNc(22,So,2,4,"ng-template"),e.qZA(),e.TgZ(23,"vdr-dt2-column",8),e.ALo(24,"translate"),e.YNc(25,qo,4,4,"ng-template"),e.qZA(),e.TgZ(26,"vdr-dt2-column",9),e.ALo(27,"translate"),e.YNc(28,Oo,1,1,"ng-template"),e.qZA(),e.YNc(29,wo,1,2,"vdr-dt2-custom-field-column",10),e.qZA()),2&t&&(e.xp6(5),e.Q6J("vdrIfPermissions",e.DdM(43,Qo)),e.xp6(1),e.Q6J("items",e.lcZ(7,23,o.items$))("itemsPerPage",e.lcZ(8,25,o.itemsPerPage$))("totalItems",e.lcZ(9,27,o.totalItems$))("currentPage",e.lcZ(10,29,o.currentPage$))("filters",o.filters),e.xp6(5),e.Q6J("hostComponent",o)("selectionManager",o.selectionManager),e.xp6(1),e.Q6J("searchTermControl",o.searchTermControl)("searchTermPlaceholder",e.lcZ(13,31,"catalog.filter-by-name")),e.xp6(2),e.Q6J("heading",e.lcZ(15,33,"common.id"))("hiddenByDefault",!0),e.xp6(3),e.Q6J("heading",e.lcZ(18,35,"common.created-at"))("hiddenByDefault",!0)("sort",o.sorts.get("createdAt")),e.xp6(3),e.Q6J("heading",e.lcZ(21,37,"common.updated-at"))("hiddenByDefault",!0)("sort",o.sorts.get("updatedAt")),e.xp6(3),e.Q6J("heading",e.lcZ(24,39,"common.name"))("optional",!1)("sort",o.sorts.get("name")),e.xp6(3),e.Q6J("heading",e.lcZ(27,41,"common.default-tax-category")),e.xp6(3),e.Q6J("ngForOf",o.customFields))},dependencies:[g.qvL,c.sg,c.O5,y.rH,a.KkL,a.BND,a.mz,a.Ywx,a.HAh,a.WWO,a.cuf,a.eJ5,a.Up6,a.JBy,a.jrk,a.zJY,c.Ov,h.X$,a.HbD],changeDetection:0})}const za=p.Ps`
    query GetTaxRateDetail($id: ID!) {
        taxRate(id: $id) {
            ...TaxRate
        }
    }
    ${a.vC1}
`;class ie extends a.VE7{constructor(n,t,o,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=o,this.notificationService=i,this.customFields=this.getCustomFieldConfig("TaxRate"),this.detailForm=this.formBuilder.group({name:["",l.kI.required],enabled:[!0],value:[0,l.kI.required],taxCategoryId:["",l.kI.required],zoneId:["",l.kI.required],customerGroupId:[""],customFields:this.formBuilder.group((0,a.Lrj)(this.customFields))}),this.updatePermission=[a.y3$.UpdateSettings,a.y3$.UpdateTaxRate]}ngOnInit(){this.init(),this.taxCategories$=this.dataService.settings.getTaxCategories({take:100}).mapSingle(n=>n.taxCategories.items)}ngOnDestroy(){this.destroy()}saveButtonEnabled(){return this.detailForm.dirty&&this.detailForm.valid}create(){if(!this.detailForm.dirty)return;const{name:n,enabled:t,value:o,taxCategoryId:i,zoneId:s,customerGroupId:m,customFields:_}=this.detailForm.value;if(!n||null==t||null==o||!i||!s)return;const f=this.detailForm.value,A={name:n,enabled:t,value:o,categoryId:i,zoneId:s,customerGroupId:f.customerGroupId,customFields:f.customFields};this.dataService.settings.createTaxRate(A).subscribe(ge=>{this.notificationService.success((0,d.J)("common.notify-create-success"),{entity:"TaxRate"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",ge.createTaxRate.id],{relativeTo:this.route})},ge=>{this.notificationService.error((0,d.J)("common.notify-create-error"),{entity:"TaxRate"})})}save(){if(!this.detailForm.dirty)return;const n=this.detailForm.value;this.entity$.pipe((0,C.q)(1),(0,b.z)(t=>{const o={id:t.id,name:n.name,enabled:n.enabled,value:n.value,categoryId:n.taxCategoryId,zoneId:n.zoneId,customerGroupId:n.customerGroupId,customFields:n.customFields};return this.dataService.settings.updateTaxRate(o)})).subscribe(t=>{this.notificationService.success((0,d.J)("common.notify-update-success"),{entity:"TaxRate"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},t=>{this.notificationService.error((0,d.J)("common.notify-update-error"),{entity:"TaxRate"})})}setFormValues(n,t){this.detailForm.patchValue({name:n.name,enabled:n.enabled,value:n.value,taxCategoryId:n.category?n.category.id:"",zoneId:n.zone?n.zone.id:"",customerGroupId:n.customerGroup?n.customerGroup.id:""}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),n)}static#e=this.\u0275fac=function(t){return new(t||ie)(e.Y36(e.sBO),e.Y36(a.DoR),e.Y36(l.qu),e.Y36(a.gqp))};static#t=this.\u0275cmp=e.Xpm({type:ie,selectors:[["vdr-tax-rate-detail"]],features:[e.qOj],decls:44,vars:44,consts:[["locationId","tax-rate-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],["for","enabled",3,"label"],["type","checkbox","clrToggle","","id","enabled","formControlName","enabled",3,"vdrDisabled"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["for","value",3,"label"],["suffix","%"],["id","value","type","number","step","0.1","formControlName","value",3,"readonly"],["for","taxCategoryId",3,"label"],["name","taxCategoryId","formControlName","taxCategoryId",3,"vdrDisabled"],[3,"value",4,"ngFor","ngForOf"],["for","zoneId",3,"label"],["name","zoneId","formControlName","zoneId",3,"vdrDisabled"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","tax-rate-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],[3,"value"],["formGroupName","customFields",3,"title"],["entityName","TaxRate",3,"customFields","customFieldsFormGroup"]],template:function(t,o){if(1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar"),e._UZ(2,"vdr-ab-left"),e.TgZ(3,"vdr-ab-right"),e._UZ(4,"vdr-action-bar-items",0),e.YNc(5,Uo,3,4,"button",1),e.ALo(6,"async"),e.YNc(7,Bo,1,1,"ng-template",null,2,e.W1O),e.qZA()()(),e.TgZ(9,"form",3)(10,"vdr-page-detail-layout")(11,"vdr-page-detail-sidebar")(12,"vdr-card")(13,"vdr-form-field",4),e.ALo(14,"translate"),e.TgZ(15,"clr-toggle-wrapper"),e._UZ(16,"input",5),e.ALo(17,"hasPermission"),e.qZA()()(),e.YNc(18,Yo,2,1,"vdr-card",6),e.ALo(19,"async"),e.qZA(),e.TgZ(20,"vdr-page-block")(21,"vdr-card")(22,"div",7)(23,"vdr-form-field",8),e.ALo(24,"translate"),e._UZ(25,"input",9),e.ALo(26,"hasPermission"),e.qZA(),e.TgZ(27,"vdr-form-field",10),e.ALo(28,"translate"),e.TgZ(29,"vdr-affixed-input",11),e._UZ(30,"input",12),e.ALo(31,"hasPermission"),e.qZA()(),e.TgZ(32,"vdr-form-field",13),e.ALo(33,"translate"),e.TgZ(34,"select",14),e.ALo(35,"hasPermission"),e.YNc(36,Eo,2,2,"option",15),e.ALo(37,"async"),e.qZA()(),e.TgZ(38,"vdr-form-field",16),e.ALo(39,"translate"),e._UZ(40,"vdr-zone-selector",17),e.ALo(41,"hasPermission"),e.qZA()()(),e.YNc(42,Go,3,5,"vdr-card",18),e._UZ(43,"vdr-custom-detail-component-host",19),e.qZA()()()),2&t){const i=e.MAs(8);e.xp6(5),e.Q6J("ngIf",e.lcZ(6,18,o.isNew$))("ngIfElse",i),e.xp6(4),e.Q6J("formGroup",o.detailForm),e.xp6(4),e.Q6J("label",e.lcZ(14,20,"common.enabled")),e.xp6(3),e.Q6J("vdrDisabled",!e.lcZ(17,22,o.updatePermission)),e.xp6(2),e.Q6J("ngIf",e.lcZ(19,24,o.entity$)),e.xp6(5),e.Q6J("label",e.lcZ(24,26,"common.name")),e.xp6(2),e.Q6J("readonly",!e.lcZ(26,28,o.updatePermission)),e.xp6(2),e.Q6J("label",e.lcZ(28,30,"settings.rate")),e.xp6(3),e.Q6J("readonly",!e.lcZ(31,32,o.updatePermission)),e.xp6(2),e.Q6J("label",e.lcZ(33,34,"settings.tax-category")),e.xp6(2),e.Q6J("vdrDisabled",!e.lcZ(35,36,o.updatePermission)),e.xp6(2),e.Q6J("ngForOf",e.lcZ(37,38,o.taxCategories$)),e.xp6(2),e.Q6J("label",e.lcZ(39,40,"settings.zone")),e.xp6(2),e.Q6J("vdrDisabled",!e.lcZ(41,42,o.updatePermission)),e.xp6(2),e.Q6J("ngIf",o.customFields.length),e.xp6(1),e.Q6J("entity$",o.entity$)("detailForm",o.detailForm)}},dependencies:[g.KKC,g.PEh,c.sg,c.O5,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l.JJ,l.JL,l.sg,l.u,l.x0,a.KkL,a.BND,a.mz,a.KH1,a.hgI,a.y_K,a.HAh,a.WWO,a.x3T,a.yc0,a.CWh,a.zJY,a.DME,a.TeL,a.W1W,a.AkF,a.An2,c.Ov,h.X$,a.j$k],changeDetection:0})}const Ue=(0,a.wwB)({location:"tax-rate-list",requiresPermission:r=>r.includes(a.y3$.DeleteSettings)||r.includes(a.y3$.DeleteTaxRate),getItemName:r=>r.name,bulkDelete:(r,n)=>r.settings.deleteTaxRates(n).pipe((0,v.U)(t=>t.deleteTaxRates))}),ja=p.Ps`
    query GetTaxRateList($options: TaxRateListOptions) {
        taxRates(options: $options) {
            items {
                ...TaxRate
            }
            totalItems
        }
    }
    ${a.vC1}
`;class se extends a.$ms{constructor(){super(),this.customFields=this.getCustomFieldConfig("TaxRate"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"name",type:{kind:"text"},label:(0,d.J)("common.name"),filterField:"name"}).addFilter({name:"enabled",type:{kind:"boolean"},label:(0,d.J)("common.enabled"),filterField:"enabled"}).addFilter({name:"value",type:{kind:"number"},label:(0,d.J)("common.value"),filterField:"value"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addSort({name:"value"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:a.Gah,getItems:n=>n.taxRates,setVariables:(n,t)=>({options:{skip:n,take:t,filter:{name:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}static#e=this.\u0275fac=function(t){return new(t||se)};static#t=this.\u0275cmp=e.Xpm({type:se,selectors:[["vdr-tax-rate-list"]],features:[e.qOj],decls:42,vars:58,consts:[["locationId","tax-rate-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],["id","tax-rate-list",3,"items","itemsPerPage","totalItems","currentPage","filters","pageChange","itemsPerPageChange"],["locationId","tax-rate-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","tax-category",3,"heading"],["id","zone",3,"heading"],["id","customer-group",3,"heading","hiddenByDefault"],["id","tax-rate",3,"heading","sort"],["id","enabled",3,"heading"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],["colorType","success",4,"ngIf"],["colorType","warning",4,"ngIf"],["colorType","success"],["colorType","warning"],[3,"customField","sorts"]],template:function(t,o){1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar"),e._UZ(2,"vdr-ab-left"),e.TgZ(3,"vdr-ab-right"),e._UZ(4,"vdr-action-bar-items",0),e.YNc(5,zo,4,5,"a",1),e.qZA()()(),e.TgZ(6,"vdr-data-table-2",2),e.NdJ("pageChange",function(s){return o.setPageNumber(s)})("itemsPerPageChange",function(s){return o.setItemsPerPage(s)}),e.ALo(7,"async"),e.ALo(8,"async"),e.ALo(9,"async"),e.ALo(10,"async"),e._UZ(11,"vdr-bulk-action-menu",3)(12,"vdr-dt2-search",4),e.ALo(13,"translate"),e.TgZ(14,"vdr-dt2-column",5),e.ALo(15,"translate"),e.YNc(16,jo,1,1,"ng-template"),e.qZA(),e.TgZ(17,"vdr-dt2-column",6),e.ALo(18,"translate"),e.YNc(19,Ho,2,4,"ng-template"),e.qZA(),e.TgZ(20,"vdr-dt2-column",7),e.ALo(21,"translate"),e.YNc(22,Vo,2,4,"ng-template"),e.qZA(),e.TgZ(23,"vdr-dt2-column",8),e.ALo(24,"translate"),e.YNc(25,Ko,4,4,"ng-template"),e.qZA(),e.TgZ(26,"vdr-dt2-column",9),e.ALo(27,"translate"),e.YNc(28,Wo,1,1,"ng-template"),e.qZA(),e.TgZ(29,"vdr-dt2-column",10),e.ALo(30,"translate"),e.YNc(31,Xo,1,1,"ng-template"),e.qZA(),e.TgZ(32,"vdr-dt2-column",11),e.ALo(33,"translate"),e.YNc(34,ea,1,1,"ng-template"),e.qZA(),e.TgZ(35,"vdr-dt2-column",12),e.ALo(36,"translate"),e.YNc(37,ta,1,1,"ng-template"),e.qZA(),e.TgZ(38,"vdr-dt2-column",13),e.ALo(39,"translate"),e.YNc(40,oa,2,2,"ng-template"),e.qZA(),e.YNc(41,aa,1,2,"vdr-dt2-custom-field-column",14),e.qZA()),2&t&&(e.xp6(5),e.Q6J("vdrIfPermissions",e.DdM(57,ia)),e.xp6(1),e.Q6J("items",e.lcZ(7,29,o.items$))("itemsPerPage",e.lcZ(8,31,o.itemsPerPage$))("totalItems",e.lcZ(9,33,o.totalItems$))("currentPage",e.lcZ(10,35,o.currentPage$))("filters",o.filters),e.xp6(5),e.Q6J("hostComponent",o)("selectionManager",o.selectionManager),e.xp6(1),e.Q6J("searchTermControl",o.searchTermControl)("searchTermPlaceholder",e.lcZ(13,37,"catalog.filter-by-name")),e.xp6(2),e.Q6J("heading",e.lcZ(15,39,"common.id"))("hiddenByDefault",!0),e.xp6(3),e.Q6J("heading",e.lcZ(18,41,"common.created-at"))("hiddenByDefault",!0)("sort",o.sorts.get("createdAt")),e.xp6(3),e.Q6J("heading",e.lcZ(21,43,"common.updated-at"))("hiddenByDefault",!0)("sort",o.sorts.get("updatedAt")),e.xp6(3),e.Q6J("heading",e.lcZ(24,45,"common.name"))("optional",!1)("sort",o.sorts.get("name")),e.xp6(3),e.Q6J("heading",e.lcZ(27,47,"settings.tax-category")),e.xp6(3),e.Q6J("heading",e.lcZ(30,49,"settings.zone")),e.xp6(3),e.Q6J("heading",e.lcZ(33,51,"customer.customer-group"))("hiddenByDefault",!0),e.xp6(3),e.Q6J("heading",e.lcZ(36,53,"settings.tax-rate"))("sort",o.sorts.get("value")),e.xp6(3),e.Q6J("heading",e.lcZ(39,55,"common.enabled")),e.xp6(3),e.Q6J("ngForOf",o.customFields))},dependencies:[g.qvL,c.sg,c.O5,y.rH,a.KkL,a.BND,a.mz,a.Ywx,a.HAh,a.WWO,a.cuf,a.eJ5,a.Up6,a.JBy,a.jrk,a.zJY,c.Ov,h.X$,a.HbD],changeDetection:0})}class le{constructor(n){this.dataService=n,this.testDataUpdated=!1,this.fetchTestResult$=new M.x}ngOnInit(){this.activeChannel$=this.dataService.settings.getActiveChannel().mapStream(n=>n.activeChannel),this.testResult$=this.fetchTestResult$.pipe((0,N.w)(([n,t])=>{const o={shippingAddress:{...n,streetLine1:"test"},lines:t.map(i=>({productVariantId:i.id,quantity:i.quantity}))};return this.dataService.shippingMethod.testEligibleShippingMethods(o).mapSingle(i=>i.testEligibleShippingMethods)}))}setTestOrderLines(n){this.testOrderLines=n,this.testDataUpdated=!0}setTestAddress(n){this.testAddress=n,this.testDataUpdated=!0}allTestDataPresent(){return!!(this.testAddress&&this.testOrderLines&&this.testOrderLines.length)}runTest(){this.fetchTestResult$.next([this.testAddress,this.testOrderLines]),this.testDataUpdated=!1}static#e=this.\u0275fac=function(t){return new(t||le)(e.Y36(a.DoR))};static#t=this.\u0275cmp=e.Xpm({type:le,selectors:[["vdr-test-shipping-methods"]],decls:9,vars:8,consts:[[1,"test-wrapper"],[1,""],[3,"orderLinesChange"],[3,"addressChange"],[1,"mt-1",3,"currencyCode","okToRun","testDataUpdated","testResult","runTest"]],template:function(t,o){if(1&t&&(e.TgZ(0,"vdr-page-block")(1,"div",0)(2,"div",1)(3,"vdr-test-order-builder",2),e.NdJ("orderLinesChange",function(s){return o.setTestOrderLines(s)}),e.qZA()(),e.TgZ(4,"div",1)(5,"vdr-test-address-form",3),e.NdJ("addressChange",function(s){return o.setTestAddress(s)}),e.qZA(),e.TgZ(6,"vdr-shipping-eligibility-test-result",4),e.NdJ("runTest",function(){return o.runTest()}),e.ALo(7,"async"),e.ALo(8,"async"),e.qZA()()()()),2&t){let i;e.xp6(6),e.Q6J("currencyCode",null==(i=e.lcZ(7,4,o.activeChannel$))?null:i.currencyCode)("okToRun",o.allTestDataPresent())("testDataUpdated",o.testDataUpdated)("testResult",e.lcZ(8,6,o.testResult$))}},dependencies:[a.zJY,k,D,W,c.Ov],styles:[".test-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;gap:var(--space-unit)}.test-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1}@media screen and (max-width: 992px){.test-wrapper[_ngcontent-%COMP%]{flex-direction:column}}"],changeDetection:0})}const Ha=p.Ps`
    query GetZoneDetail($id: ID!) {
        zone(id: $id) {
            ...ZoneDetail
        }
    }
    fragment ZoneDetail on Zone {
        id
        createdAt
        updatedAt
        name
    }
`;class de extends a.VE7{constructor(n,t,o,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=o,this.notificationService=i,this.customFields=this.getCustomFieldConfig("Zone"),this.detailForm=this.formBuilder.group({name:["",l.kI.required],customFields:this.formBuilder.group((0,a.Lrj)(this.customFields))}),this.updatePermission=[a.y3$.UpdateSettings,a.y3$.UpdateZone]}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}saveButtonEnabled(){return this.detailForm.dirty&&this.detailForm.valid}create(){if(!this.detailForm.dirty)return;const{name:n,customFields:t}=this.detailForm.value;if(!n)return;const o={name:n,customFields:t};this.dataService.settings.createZone(o).subscribe(i=>{this.notificationService.success((0,d.J)("common.notify-create-success"),{entity:"Zone"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",i.createZone.id],{relativeTo:this.route})},i=>{this.notificationService.error((0,d.J)("common.notify-create-error"),{entity:"Zone"})})}save(){if(!this.detailForm.dirty)return;const n=this.detailForm.value;this.entity$.pipe((0,C.q)(1),(0,b.z)(t=>{const o={id:t.id,name:n.name,customFields:n.customFields};return this.dataService.settings.updateZone(o)})).subscribe(t=>{this.notificationService.success((0,d.J)("common.notify-update-success"),{entity:"Zone"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},t=>{this.notificationService.error((0,d.J)("common.notify-update-error"),{entity:"Zone"})})}setFormValues(n,t){this.detailForm.patchValue({name:n.name}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),n)}static#e=this.\u0275fac=function(t){return new(t||de)(e.Y36(e.sBO),e.Y36(a.DoR),e.Y36(l.qu),e.Y36(a.gqp))};static#t=this.\u0275cmp=e.Xpm({type:de,selectors:[["vdr-zone-detail"]],features:[e.qOj],decls:23,vars:17,consts:[["locationId","zone-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],["updateButton",""],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","zone-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"disabled","click"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["formGroupName","customFields",3,"title"],["entityName","Zone",3,"customFields","customFieldsFormGroup"]],template:function(t,o){if(1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar"),e._UZ(2,"vdr-ab-left"),e.TgZ(3,"vdr-ab-right"),e._UZ(4,"vdr-action-bar-items",0),e.YNc(5,sa,3,4,"button",1),e.ALo(6,"async"),e.YNc(7,da,1,1,"ng-template",null,2,e.W1O),e.qZA()()(),e.TgZ(9,"form",3)(10,"vdr-page-detail-layout")(11,"vdr-page-detail-sidebar"),e.YNc(12,ca,2,1,"vdr-card",4),e.ALo(13,"async"),e.qZA(),e.TgZ(14,"vdr-page-block")(15,"vdr-card")(16,"div",5)(17,"vdr-form-field",6),e.ALo(18,"translate"),e._UZ(19,"input",7),e.ALo(20,"hasPermission"),e.qZA()()(),e.YNc(21,ma,3,5,"vdr-card",8),e._UZ(22,"vdr-custom-detail-component-host",9),e.qZA()()()),2&t){const i=e.MAs(8);e.xp6(5),e.Q6J("ngIf",e.lcZ(6,9,o.isNew$))("ngIfElse",i),e.xp6(4),e.Q6J("formGroup",o.detailForm),e.xp6(3),e.Q6J("ngIf",e.lcZ(13,11,o.entity$)),e.xp6(5),e.Q6J("label",e.lcZ(18,13,"common.name")),e.xp6(2),e.Q6J("readonly",!e.lcZ(20,15,o.updatePermission)),e.xp6(2),e.Q6J("ngIf",o.customFields.length),e.xp6(1),e.Q6J("entity$",o.entity$)("detailForm",o.detailForm)}},dependencies:[c.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,l.x0,a.KkL,a.BND,a.mz,a.hgI,a.y_K,a.HAh,a.WWO,a.yc0,a.CWh,a.zJY,a.DME,a.TeL,a.W1W,a.AkF,c.Ov,h.X$,a.j$k],changeDetection:0})}const Re=(0,a.wwB)({location:"zone-list",requiresPermission:r=>r.includes(a.y3$.DeleteSettings)||r.includes(a.y3$.DeleteZone),getItemName:r=>r.name,bulkDelete:(r,n)=>r.settings.deleteZones(n).pipe((0,v.U)(t=>t.deleteZones))}),Va=p.Ps`
    query GetZoneList($options: ZoneListOptions) {
        zones(options: $options) {
            items {
                ...ZoneListItem
            }
            totalItems
        }
    }
    fragment ZoneListItem on Zone {
        id
        createdAt
        updatedAt
        name
    }
`;class ce extends a.$ms{constructor(n,t,o){super(),this.dataService=n,this.notificationService=t,this.modalService=o,this.selectedMemberIds=[],this.customFields=this.serverConfigService.getCustomFieldsFor("Zone"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"name",type:{kind:"text"},label:(0,d.J)("common.name"),filterField:"name"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:a.xl3,getItems:i=>i.zones,setVariables:(i,s)=>({options:{skip:i,take:s,filter:{name:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},filterOperator:this.searchTermControl.value?a.FnJ.OR:a.FnJ.AND,sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}ngOnInit(){super.ngOnInit();const n=this.route.paramMap.pipe((0,v.U)(t=>t.get("contents")),(0,Ke.x)(),(0,Ae.b)(()=>this.selectedMemberIds=[]));this.activeZone$=(0,I.a)(this.items$,n).pipe((0,v.U)(([t,o])=>{if(o)return t.find(i=>i.id===o)})),this.activeIndex$=(0,I.a)(this.items$,n).pipe((0,v.U)(([t,o])=>o?t.findIndex(i=>i.id===o):-1))}setLanguage(n){this.dataService.client.setContentLanguage(n).subscribe()}closeMembers(){const n={...this.route.snapshot.params};delete n.contents,this.router.navigate(["./",n],{relativeTo:this.route,queryParamsHandling:"preserve"})}addToZone(n){this.modalService.fromComponent($,{locals:{zoneName:n.name,zoneId:n.id},size:"md"}).pipe((0,N.w)(t=>t?this.dataService.settings.addMembersToZone(n.id,t).pipe((0,We.h)(t)):et.E)).subscribe({next:t=>{this.notificationService.success((0,d.J)("settings.add-countries-to-zone-success"),{countryCount:t.length,zoneName:n.name}),this.refreshMemberList()},error:t=>{this.notificationService.error(t)}})}refreshMemberList(){this.zoneMemberList?.refresh()}static#e=this.\u0275fac=function(t){return new(t||ce)(e.Y36(a.DoR),e.Y36(a.gqp),e.Y36(a.Z7U))};static#t=this.\u0275cmp=e.Xpm({type:ce,selectors:[["vdr-zone-list"]],viewQuery:function(t,o){if(1&t&&e.Gf(F,5),2&t){let i;e.iGM(i=e.CRH())&&(o.zoneMemberList=i.first)}},features:[e.qOj],decls:14,vars:14,consts:[[3,"availableLanguageCodes","currentLanguageCode","languageCodeChange"],["locationId","zone-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"rightPanelOpen","closeClicked"],["vdrSplitViewLeft",""],["vdrSplitViewRight","",3,"splitViewTitle"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],["id","zone-list",3,"items","itemsPerPage","totalItems","currentPage","filters","activeIndex","pageChange","itemsPerPageChange"],["locationId","zone-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","view-contents",3,"heading","optional"],[3,"customField","sort",4,"ngFor","ngForOf"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],["queryParamsHandling","preserve",1,"button-small","bg-weight-150",3,"routerLink"],["shape","file-group"],[3,"customField","sort"],[4,"ngIf"],[1,"button-ghost","ml-4",3,"click"],["locationId","zone-members-list",3,"selectedMemberIds","activeZone","selectionChange",4,"ngIf"],["locationId","zone-members-list",3,"selectedMemberIds","activeZone","selectionChange"]],template:function(t,o){if(1&t&&(e.TgZ(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",0),e.NdJ("languageCodeChange",function(s){return o.setLanguage(s)}),e.ALo(4,"async"),e.ALo(5,"async"),e.qZA()(),e.TgZ(6,"vdr-ab-right"),e._UZ(7,"vdr-action-bar-items",1),e.YNc(8,ua,4,5,"a",2),e.qZA()()(),e.TgZ(9,"vdr-split-view",3),e.NdJ("closeClicked",function(){return o.closeMembers()}),e.ALo(10,"async"),e.YNc(11,ya,25,46,"ng-template",4),e.YNc(12,Za,2,3,"ng-template",5),e.ALo(13,"async"),e.qZA()),2&t){let i;e.xp6(3),e.Q6J("availableLanguageCodes",e.lcZ(4,5,o.availableLanguages$))("currentLanguageCode",e.lcZ(5,7,o.contentLanguage$)),e.xp6(5),e.Q6J("vdrIfPermissions",e.DdM(13,Aa)),e.xp6(1),e.Q6J("rightPanelOpen",e.lcZ(10,9,o.activeZone$)),e.xp6(3),e.Q6J("splitViewTitle",null==(i=e.lcZ(13,11,o.activeZone$))?null:i.name)}},dependencies:[g.qvL,c.sg,c.O5,y.rH,a.KkL,a.BND,a.mz,a.SdP,a.HAh,a.WWO,a.cuf,a.eJ5,a.Up6,a.JBy,a.jrk,a._fG,a.L7I,a.LjY,a.zJY,F,c.Ov,h.X$,a.HbD],styles:[".zone-wrapper[_ngcontent-%COMP%]{display:flex;height:calc(100% - 50px)}.zone-wrapper[_ngcontent-%COMP%]   .zone-list[_ngcontent-%COMP%]{flex:1;overflow:auto;margin-top:0}.zone-wrapper[_ngcontent-%COMP%]   .zone-list[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]{background-color:var(--color-component-bg-200)}.zone-members[_ngcontent-%COMP%]{height:100%;width:0;opacity:0;visibility:hidden;overflow:auto;transition:width .3s,opacity .2s .3s,visibility 0s .3s}.zone-members.expanded[_ngcontent-%COMP%]{width:40vw;visibility:visible;opacity:1;padding-inline-start:12px}.zone-members[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{margin:0;background:none;border:none;cursor:pointer}.zone-members[_ngcontent-%COMP%]     table.table{margin-top:0}.zone-members[_ngcontent-%COMP%]     table.table th{top:0}.zone-members[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"],changeDetection:0})}const Be={location:"zone-members-list",label:(0,d.J)("settings.remove-from-zone"),icon:"trash",iconClass:"is-danger",requiresPermission:a.y3$.UpdateCustomerGroup,onClick:({injector:r,selection:n,hostComponent:t,clearSelection:o})=>{const i=r.get(a.DoR),s=r.get(a.gqp),m=t.activeZone,_=n.map(f=>f.id);i.settings.removeMembersFromZone(m.id,_).subscribe({complete:()=>{s.success((0,d.J)("settings.remove-countries-from-zone-success"),{countryCount:_.length,zoneName:m.name}),t.refresh(),o()}})}};class me extends a.p_9{constructor(n,t){super(n,{__typename:"Administrator",id:"",createdAt:"",updatedAt:"",emailAddress:"",firstName:"",lastName:"",user:{roles:[]}},o=>t.administrator.getActiveAdministrator().mapStream(i=>i.activeAdministrator))}static#e=this.\u0275fac=function(t){return new(t||me)(e.LFG(y.F0),e.LFG(a.DoR))};static#t=this.\u0275prov=e.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"})}const Ye=r=>[{path:"profile",component:a.IIO,data:{breadcrumb:(0,d.J)("breadcrumb.profile")},resolve:{detail:()=>(0,e.f3M)(a.DoR).query(a.fLu).mapSingle(n=>({entity:(0,ue.of)(n.activeAdministrator)}))},children:r.getPageTabRoutes("profile")},{path:"administrators",component:a.IIO,data:{locationId:"administrator-list",breadcrumb:(0,d.J)("breadcrumb.administrators")},children:r.getPageTabRoutes("administrator-list")},{path:"administrators/:id",component:a.IIO,data:{locationId:"administrator-detail",breadcrumb:{label:(0,d.J)("breadcrumb.administrators"),link:["../","administrators"]}},children:r.getPageTabRoutes("administrator-detail")},{path:"channels",component:a.IIO,data:{locationId:"channel-list",breadcrumb:(0,d.J)("breadcrumb.channels")},children:r.getPageTabRoutes("channel-list")},{path:"channels/:id",component:a.IIO,data:{locationId:"channel-list",breadcrumb:{label:(0,d.J)("breadcrumb.channels"),link:["../","channels"]}},children:r.getPageTabRoutes("channel-detail")},{path:"stock-locations",component:a.IIO,data:{locationId:"stock-location-list",breadcrumb:(0,d.J)("breadcrumb.stock-locations")},children:r.getPageTabRoutes("stock-location-list")},{path:"stock-locations/:id",component:a.IIO,data:{locationId:"stock-location-list",breadcrumb:{label:(0,d.J)("breadcrumb.stock-locations"),link:["../","stock-locations"]}},children:r.getPageTabRoutes("stock-location-detail")},{path:"sellers",component:a.IIO,data:{locationId:"seller-list",breadcrumb:(0,d.J)("breadcrumb.sellers")},children:r.getPageTabRoutes("seller-list")},{path:"sellers/:id",component:a.IIO,data:{locationId:"seller-list",breadcrumb:{label:(0,d.J)("breadcrumb.sellers"),link:["../","sellers"]}},children:r.getPageTabRoutes("seller-detail")},{path:"roles",component:a.IIO,data:{locationId:"role-list",breadcrumb:(0,d.J)("breadcrumb.roles")},children:r.getPageTabRoutes("role-list")},{path:"roles/:id",component:a.IIO,data:{locationId:"role-detail",breadcrumb:{label:(0,d.J)("breadcrumb.roles"),link:["../","roles"]}},children:r.getPageTabRoutes("role-detail")},{path:"tax-categories",component:a.IIO,data:{locationId:"tax-category-list",breadcrumb:(0,d.J)("breadcrumb.tax-categories")},children:r.getPageTabRoutes("tax-category-list")},{path:"tax-categories/:id",component:a.IIO,data:{locationId:"tax-category-detail",breadcrumb:{label:(0,d.J)("breadcrumb.tax-categories"),link:["../","tax-categories"]}},children:r.getPageTabRoutes("tax-category-detail")},{path:"tax-rates",component:a.IIO,data:{locationId:"tax-rate-list",breadcrumb:(0,d.J)("breadcrumb.tax-rates")},children:r.getPageTabRoutes("tax-rate-list")},{path:"tax-rates/:id",component:a.IIO,data:{locationId:"tax-rate-detail",breadcrumb:{label:(0,d.J)("breadcrumb.tax-rates"),link:["../","tax-rates"]}},children:r.getPageTabRoutes("tax-rate-detail")},{path:"countries",component:a.IIO,data:{locationId:"country-list",breadcrumb:(0,d.J)("breadcrumb.countries")},children:r.getPageTabRoutes("country-list")},{path:"countries/:id",component:a.IIO,data:{locationId:"country-detail",breadcrumb:{label:(0,d.J)("breadcrumb.countries"),link:["../","countries"]}},children:r.getPageTabRoutes("country-detail")},{path:"zones",component:a.IIO,data:{locationId:"zone-list",breadcrumb:(0,d.J)("breadcrumb.zones")},children:r.getPageTabRoutes("zone-list")},{path:"zones/:id",component:a.IIO,data:{locationId:"zone-detail",breadcrumb:{label:(0,d.J)("breadcrumb.zones"),link:["../","zones"]}},children:r.getPageTabRoutes("zone-detail")},{path:"shipping-methods",component:a.IIO,data:{locationId:"shipping-method-list",breadcrumb:(0,d.J)("breadcrumb.shipping-methods")},children:r.getPageTabRoutes("shipping-method-list")},{path:"shipping-methods/:id",component:a.IIO,data:{locationId:"shipping-method-detail",breadcrumb:{label:(0,d.J)("breadcrumb.shipping-methods"),link:["../","shipping-methods"]}},children:r.getPageTabRoutes("shipping-method-detail")},{path:"payment-methods",component:a.IIO,data:{locationId:"payment-method-list",breadcrumb:(0,d.J)("breadcrumb.payment-methods")},children:r.getPageTabRoutes("payment-method-list")},{path:"payment-methods/:id",component:a.IIO,data:{locationId:"payment-method-detail",breadcrumb:{label:(0,d.J)("breadcrumb.payment-methods"),link:["../","payment-methods"]}},children:r.getPageTabRoutes("payment-method-detail")},{path:"global-settings",component:a.IIO,data:{breadcrumb:(0,d.J)("breadcrumb.global-settings"),locationId:"global-setting-detail"},resolve:{detail:()=>(0,e.f3M)(a.DoR).query(a.e$I).mapSingle(n=>({entity:(0,ue.of)(n.globalSettings)}))},children:r.getPageTabRoutes("global-setting-detail")}];class J{static#e=this.hasRegisteredTabsAndBulkActions=!1;constructor(n,t){J.hasRegisteredTabsAndBulkActions||(n.registerBulkAction(Ne),n.registerBulkAction(xe),n.registerBulkAction(Fe),n.registerBulkAction(Je),n.registerBulkAction(Se),n.registerBulkAction(qe),n.registerBulkAction(Me),n.registerBulkAction(ke),n.registerBulkAction(De),n.registerBulkAction(Pe),n.registerBulkAction(Qe),n.registerBulkAction(Ue),n.registerBulkAction(Ie),n.registerBulkAction(Re),n.registerBulkAction(Be),n.registerBulkAction(Oe),n.registerBulkAction(we),n.registerBulkAction($e),t.registerPageTab({priority:0,location:"seller-list",tab:(0,d.J)("breadcrumb.sellers"),route:"",component:K}),t.registerPageTab({priority:0,location:"seller-detail",tab:(0,d.J)("settings.seller"),route:"",component:(0,a.IX9)({component:V,query:a.z_Z,entityKey:"seller",getBreadcrumbs:o=>[{label:o?o.name:(0,d.J)("settings.create-new-seller"),link:[o?.id]}]})}),t.registerPageTab({priority:0,location:"channel-list",tab:(0,d.J)("breadcrumb.channels"),route:"",component:U}),t.registerPageTab({priority:0,location:"channel-detail",tab:(0,d.J)("settings.channel"),route:"",component:(0,a.IX9)({component:Q,query:a.TVA,entityKey:"channel",getBreadcrumbs:o=>[{label:o?o.code===L.z$?"common.default-channel":o.code:(0,d.J)("settings.create-new-channel"),link:[o?.id]}]})}),t.registerPageTab({priority:0,location:"administrator-list",tab:(0,d.J)("breadcrumb.administrators"),route:"",component:w}),t.registerPageTab({priority:0,location:"administrator-detail",tab:(0,d.J)("settings.administrator"),route:"",component:(0,a.IX9)({component:O,query:a.nB8,entityKey:"administrator",getBreadcrumbs:o=>[{label:o?`${o.firstName} ${o.lastName}`:(0,d.J)("admin.create-new-administrator"),link:[o?.id]}]})}),t.registerPageTab({priority:0,location:"role-list",tab:(0,d.J)("breadcrumb.roles"),route:"",component:H}),t.registerPageTab({priority:0,location:"role-detail",tab:(0,d.J)("settings.role"),route:"",component:(0,a.IX9)({component:j,query:a.uaX,entityKey:"role",getBreadcrumbs:o=>[{label:o?o.description:(0,d.J)("settings.create-new-role"),link:[o?.id]}]})}),t.registerPageTab({priority:0,location:"shipping-method-list",tab:(0,d.J)("breadcrumb.shipping-methods"),route:"",component:te}),t.registerPageTab({priority:0,location:"shipping-method-detail",tab:(0,d.J)("settings.shipping-method"),route:"",component:(0,a.IX9)({component:ee,query:a.od1,entityKey:"shippingMethod",getBreadcrumbs:o=>[{label:o?o.name:(0,d.J)("settings.create-new-shipping-method"),link:[o?.id]}]})}),t.registerPageTab({priority:0,location:"shipping-method-list",tab:(0,d.J)("settings.test-shipping-methods"),route:"test",component:le}),t.registerPageTab({priority:0,location:"payment-method-list",tab:(0,d.J)("breadcrumb.payment-methods"),route:"",component:G}),t.registerPageTab({priority:0,location:"payment-method-detail",tab:(0,d.J)("settings.payment-method"),route:"",component:(0,a.IX9)({component:E,query:a.C8l,entityKey:"paymentMethod",getBreadcrumbs:o=>[{label:o?o.name:(0,d.J)("settings.create-new-payment-method"),link:[o?.id]}]})}),t.registerPageTab({priority:0,location:"tax-category-list",tab:(0,d.J)("breadcrumb.tax-categories"),route:"",component:ae}),t.registerPageTab({priority:0,location:"tax-category-detail",tab:(0,d.J)("settings.tax-category"),route:"",component:(0,a.IX9)({component:oe,query:a.uHZ,entityKey:"taxCategory",getBreadcrumbs:o=>[{label:o?o.name:(0,d.J)("settings.create-new-tax-category"),link:[o?.id]}]})}),t.registerPageTab({priority:0,location:"tax-rate-list",tab:(0,d.J)("breadcrumb.tax-rates"),route:"",component:se}),t.registerPageTab({priority:0,location:"tax-rate-detail",tab:(0,d.J)("settings.tax-rate"),route:"",component:(0,a.IX9)({component:ie,query:a.OSW,entityKey:"taxRate",getBreadcrumbs:o=>[{label:o?o.name:(0,d.J)("settings.create-new-tax-rate"),link:[o?.id]}]})}),t.registerPageTab({priority:0,location:"country-list",tab:(0,d.J)("breadcrumb.countries"),route:"",component:B}),t.registerPageTab({priority:0,location:"country-detail",tab:(0,d.J)("settings.country"),route:"",component:(0,a.IX9)({component:R,query:a.f19,entityKey:"country",getBreadcrumbs:o=>[{label:o?o.name:(0,d.J)("settings.create-new-country"),link:[o?.id]}]})}),t.registerPageTab({priority:0,location:"zone-list",tab:(0,d.J)("breadcrumb.zones"),route:"",component:ce}),t.registerPageTab({priority:0,location:"zone-detail",tab:(0,d.J)("settings.zone"),route:"",component:(0,a.IX9)({component:de,query:a.Dlg,entityKey:"zone",getBreadcrumbs:o=>[{label:o?o.name:(0,d.J)("settings.create-new-zone"),link:[o?.id]}]})}),t.registerPageTab({priority:0,location:"global-setting-detail",tab:(0,d.J)("breadcrumb.global-settings"),route:"",component:Y}),t.registerPageTab({priority:0,location:"profile",tab:(0,d.J)("breadcrumb.profile"),route:"",component:z}),t.registerPageTab({priority:0,location:"stock-location-list",tab:(0,d.J)("catalog.stock-locations"),route:"",component:re}),t.registerPageTab({priority:0,location:"stock-location-detail",tab:(0,d.J)("catalog.stock-location"),route:"",component:(0,a.IX9)({component:ne,query:a.D4,entityKey:"stockLocation",getBreadcrumbs:o=>[{label:o?o.name:(0,d.J)("catalog.create-new-stock-location"),link:[o?.id]}]})}),J.hasRegisteredTabsAndBulkActions=!0)}static#t=this.\u0275fac=function(t){return new(t||J)(e.LFG(a._4w),e.LFG(a.PhL))};static#n=this.\u0275mod=e.oAB({type:J});static#r=this.\u0275inj=e.cJS({providers:[{provide:y.Z6,useFactory:n=>Ye(n),multi:!0,deps:[a.PhL]}],imports:[a.m81,y.Bz.forChild([])]})}}}]);
//# sourceMappingURL=69.c874dad29e357a5e.js.map